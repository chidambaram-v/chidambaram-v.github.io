var Pw=Object.defineProperty,Fw=Object.defineProperties;var Lw=Object.getOwnPropertyDescriptors;var ap=Object.getOwnPropertySymbols,jw=Object.getPrototypeOf,Vw=Object.prototype.hasOwnProperty,Uw=Object.prototype.propertyIsEnumerable,$w=Reflect.get;var cp=(e,t,n)=>t in e?Pw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||={})Vw.call(t,n)&&cp(e,n,t[n]);if(ap)for(var n of ap(t))Uw.call(t,n)&&cp(e,n,t[n]);return e},G=(e,t)=>Fw(e,Lw(t));var rt=(e,t,n)=>$w(jw(e),n,t);var f=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var nu;function ea(){return nu}function Ht(e){let t=nu;return nu=e,t}var lp=Symbol("NotFound");function Xr(e){return e===lp||e?.name==="\u0275NotFound"}var Ke=null,ta=!1,ru=1,Bw=null,Ye=Symbol("SIGNAL");function F(e){let t=Ke;return Ke=e,t}function oa(){return Ke}var Xn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ei(e){if(ta)throw new Error("");if(Ke===null)return;Ke.consumerOnSignalRead(e);let t=Ke.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Ke.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Ke.producers,n!==void 0&&n.producer===e)){Ke.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Ke&&(!r||zw(i,Ke)))return;let o=ri(Ke),s={producer:e,consumer:Ke,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Ke.producersTail=s,t!==void 0?t.nextProducer=s:Ke.producers=s,o&&hp(e,s)}function up(){ru++}function sa(e){if(!(ri(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ru)){if(!e.producerMustRecompute(e)&&!ni(e)){ia(e);return}e.producerRecomputeValue(e),ia(e)}}function iu(e){if(e.consumers===void 0)return;let t=ta;ta=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Hw(r)}}finally{ta=t}}function ou(){return Ke?.consumerAllowSignalWrites!==!1}function Hw(e){e.dirty=!0,iu(e),e.consumerMarkedDirty?.(e)}function ia(e){e.dirty=!1,e.lastCleanEpoch=ru}function er(e){return e&&dp(e),F(e)}function dp(e){e.producersTail=void 0,e.recomputing=!0}function ti(e,t){F(t),e&&fp(e)}function fp(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(ri(e))do n=su(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function ni(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(sa(n),r!==n.version))return!0}return!1}function tr(e){if(ri(e)){let t=e.producers;for(;t!==void 0;)t=su(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function hp(e,t){let n=e.consumersTail,r=ri(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)hp(i.producer,i)}function su(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!ri(t)){let o=t.producers;for(;o!==void 0;)o=su(o)}return n}function ri(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function aa(e){Bw?.(e)}function zw(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function ca(e,t){return Object.is(e,t)}function la(e,t){let n=Object.create(Gw);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(sa(n),ei(n),n.value===vo)throw n.error;return n.value};return r[Ye]=n,aa(n),r}var na=Symbol("UNSET"),ra=Symbol("COMPUTING"),vo=Symbol("ERRORED"),Gw=G(D({},Xn),{value:na,dirty:!0,error:null,equal:ca,kind:"computed",producerMustRecompute(e){return e.value===na||e.value===ra},producerRecomputeValue(e){if(e.value===ra)throw new Error("");let t=e.value;e.value=ra;let n=er(e),r,i=!1;try{r=e.computation(),F(null),i=t!==na&&t!==vo&&r!==vo&&e.equal(t,r)}catch(o){r=vo,e.error=o}finally{ti(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function Ww(){throw new Error}var pp=Ww;function gp(e){pp(e)}function au(e){pp=e}var qw=null;function cu(e,t){let n=Object.create(ua);n.value=e,t!==void 0&&(n.equal=t);let r=()=>mp(n);return r[Ye]=n,aa(n),[r,s=>ii(n,s),s=>lu(n,s)]}function mp(e){return ei(e),e.value}function ii(e,t){ou()||gp(e),e.equal(e.value,t)||(e.value=t,Kw(e))}function lu(e,t){ou()||gp(e),ii(e,t(e.value))}var ua=G(D({},Xn),{equal:ca,value:void 0,kind:"signal"});function Kw(e){e.version++,up(),iu(e),qw?.(e)}function H(e){return typeof e=="function"}function oi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var da=oi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function yo(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var we=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){t=o instanceof da?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{vp(o)}catch(s){t=t??[],s instanceof da?t=[...t,...s.errors]:t.push(s)}}if(t)throw new da(t)}}add(t){var n;if(t&&t!==this)if(this.closed)vp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&yo(n,t)}remove(t){let{_finalizers:n}=this;n&&yo(n,t),t instanceof e&&t._removeParent(this)}};we.EMPTY=(()=>{let e=new we;return e.closed=!0,e})();var uu=we.EMPTY;function fa(e){return e instanceof we||e&&"closed"in e&&H(e.remove)&&H(e.add)&&H(e.unsubscribe)}function vp(e){H(e)?e():e.unsubscribe()}var Ot={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var si={setTimeout(e,t,...n){let{delegate:r}=si;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=si;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ha(e){si.setTimeout(()=>{let{onUnhandledError:t}=Ot;if(t)t(e);else throw e})}function _o(){}var yp=du("C",void 0,void 0);function _p(e){return du("E",void 0,e)}function wp(e){return du("N",e,void 0)}function du(e,t,n){return{kind:e,value:t,error:n}}var nr=null;function ai(e){if(Ot.useDeprecatedSynchronousErrorHandling){let t=!nr;if(t&&(nr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=nr;if(nr=null,n)throw r}}else e()}function bp(e){Ot.useDeprecatedSynchronousErrorHandling&&nr&&(nr.errorThrown=!0,nr.error=e)}var rr=class extends we{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,fa(t)&&t.add(this)):this.destination=Jw}static create(t,n,r){return new ci(t,n,r)}next(t){this.isStopped?hu(wp(t),this):this._next(t)}error(t){this.isStopped?hu(_p(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?hu(yp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Yw=Function.prototype.bind;function fu(e,t){return Yw.call(e,t)}var pu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){pa(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){pa(r)}else pa(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){pa(n)}}},ci=class extends rr{constructor(t,n,r){super();let i;if(H(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ot.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&fu(t.next,o),error:t.error&&fu(t.error,o),complete:t.complete&&fu(t.complete,o)}):i=t}this.destination=new pu(i)}};function pa(e){Ot.useDeprecatedSynchronousErrorHandling?bp(e):ha(e)}function Zw(e){throw e}function hu(e,t){let{onStoppedNotification:n}=Ot;n&&si.setTimeout(()=>n(e,t))}var Jw={closed:!0,next:_o,error:Zw,complete:_o};var li=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ct(e){return e}function gu(...e){return mu(e)}function mu(e){return e.length===0?ct:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var te=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Xw(n)?n:new ci(n,r,i);return ai(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ep(r),new r((i,o)=>{let s=new ci({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[li](){return this}pipe(...n){return mu(n)(this)}toPromise(n){return n=Ep(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Ep(e){var t;return(t=e??Ot.Promise)!==null&&t!==void 0?t:Promise}function Qw(e){return e&&H(e.next)&&H(e.error)&&H(e.complete)}function Xw(e){return e&&e instanceof rr||Qw(e)&&fa(e)}function vu(e){return H(e?.lift)}function ne(e){return t=>{if(vu(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(e,t,n,r,i){return new yu(e,t,n,r,i)}var yu=class extends rr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function ui(){return ne((e,t)=>{let n=null;e._refCount++;let r=Q(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var di=class extends te{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,vu(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new we;let n=this.getSubject();t.add(this.source.subscribe(Q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=we.EMPTY)}return t}refCount(){return ui()(this)}};var Cp=oi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=(()=>{class e extends te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ga(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Cp}next(n){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?uu:(this.currentObservers=null,o.push(n),new we(()=>{this.currentObservers=null,yo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new te;return n.source=this,n}}return e.create=(t,n)=>new ga(t,n),e})(),ga=class extends be{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:uu}};var Ve=class extends be{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var it=new te(e=>e.complete());function Dp(e){return e&&H(e.schedule)}function Sp(e){return e[e.length-1]}function ma(e){return H(Sp(e))?e.pop():void 0}function On(e){return Dp(Sp(e))?e.pop():void 0}function or(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function va(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function Ip(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ir(e){return this instanceof ir?(this.v=e,this):new ir(e)}function Tp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){r[h]&&(i[h]=function(m){return new Promise(function(E,b){o.push([h,m,E,b])>1||c(h,m)})},g&&(i[h]=g(i[h])))}function c(h,g){try{l(r[h](g))}catch(m){p(o[0][3],m)}}function l(h){h.value instanceof ir?Promise.resolve(h.value.v).then(u,d):p(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function p(h,g){h(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Mp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ip=="function"?Ip(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var ya=e=>e&&typeof e.length=="number"&&typeof e!="function";function _a(e){return H(e?.then)}function wa(e){return H(e[li])}function ba(e){return Symbol.asyncIterator&&H(e?.[Symbol.asyncIterator])}function Ea(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function eb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ca=eb();function Da(e){return H(e?.[Ca])}function Sa(e){return Tp(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield ir(n.read());if(i)return yield ir(void 0);yield yield ir(r)}}finally{n.releaseLock()}})}function Ia(e){return H(e?.getReader)}function Ee(e){if(e instanceof te)return e;if(e!=null){if(wa(e))return tb(e);if(ya(e))return nb(e);if(_a(e))return rb(e);if(ba(e))return xp(e);if(Da(e))return ib(e);if(Ia(e))return ob(e)}throw Ea(e)}function tb(e){return new te(t=>{let n=e[li]();if(H(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nb(e){return new te(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function rb(e){return new te(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ha)})}function ib(e){return new te(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function xp(e){return new te(t=>{sb(e,t).catch(n=>t.error(n))})}function ob(e){return xp(Sa(e))}function sb(e,t){var n,r,i,o;return va(this,void 0,void 0,function*(){try{for(n=Mp(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function ot(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Ta(e,t=0){return ne((n,r)=>{n.subscribe(Q(r,i=>ot(r,e,()=>r.next(i),t),()=>ot(r,e,()=>r.complete(),t),i=>ot(r,e,()=>r.error(i),t)))})}function Ma(e,t=0){return ne((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Ap(e,t){return Ee(e).pipe(Ma(t),Ta(t))}function Op(e,t){return Ee(e).pipe(Ma(t),Ta(t))}function Rp(e,t){return new te(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Np(e,t){return new te(n=>{let r;return ot(n,t,()=>{r=e[Ca](),ot(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}function xa(e,t){if(!e)throw new Error("Iterable cannot be null");return new te(n=>{ot(n,t,()=>{let r=e[Symbol.asyncIterator]();ot(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function kp(e,t){return xa(Sa(e),t)}function Pp(e,t){if(e!=null){if(wa(e))return Ap(e,t);if(ya(e))return Rp(e,t);if(_a(e))return Op(e,t);if(ba(e))return xa(e,t);if(Da(e))return Np(e,t);if(Ia(e))return kp(e,t)}throw Ea(e)}function me(e,t){return t?Pp(e,t):Ee(e)}function U(...e){let t=On(e);return me(e,t)}function fi(e,t){let n=H(e)?e:()=>e,r=i=>i.error(n());return new te(t?i=>t.schedule(r,0,i):r)}function _u(e){return!!e&&(e instanceof te||H(e.lift)&&H(e.subscribe))}var cn=oi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function X(e,t){return ne((n,r)=>{let i=0;n.subscribe(Q(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:ab}=Array;function cb(e,t){return ab(t)?e(...t):e(t)}function Aa(e){return X(t=>cb(e,t))}var{isArray:lb}=Array,{getPrototypeOf:ub,prototype:db,keys:fb}=Object;function Oa(e){if(e.length===1){let t=e[0];if(lb(t))return{args:t,keys:null};if(hb(t)){let n=fb(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function hb(e){return e&&typeof e=="object"&&ub(e)===db}function Ra(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Na(...e){let t=On(e),n=ma(e),{args:r,keys:i}=Oa(e);if(r.length===0)return me([],t);let o=new te(pb(r,t,i?s=>Ra(i,s):ct));return n?o.pipe(Aa(n)):o}function pb(e,t,n=ct){return r=>{Fp(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Fp(t,()=>{let l=me(e[c],t),u=!1;l.subscribe(Q(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Fp(e,t,n){e?ot(n,e,t):t()}function Lp(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&t.complete()},h=m=>l<r?g(m):c.push(m),g=m=>{o&&t.next(m),l++;let E=!1;Ee(n(m,u++)).subscribe(Q(t,b=>{i?.(b),o?h(b):t.next(b)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){let b=c.shift();s?ot(t,s,()=>g(b)):g(b)}p()}catch(b){t.error(b)}}))};return e.subscribe(Q(t,h,()=>{d=!0,p()})),()=>{a?.()}}function Te(e,t,n=1/0){return H(t)?Te((r,i)=>X((o,s)=>t(r,o,i,s))(Ee(e(r,i))),n):(typeof t=="number"&&(n=t),ne((r,i)=>Lp(r,i,e,n)))}function jp(e=1/0){return Te(ct,e)}function Vp(){return jp(1)}function hi(...e){return Vp()(me(e,On(e)))}function wo(e){return new te(t=>{Ee(e()).subscribe(t)})}function wu(...e){let t=ma(e),{args:n,keys:r}=Oa(e),i=new te(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ee(n[u]).subscribe(Q(o,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Ra(r,a):a),o.complete())}))}});return t?i.pipe(Aa(t)):i}function yt(e,t){return ne((n,r)=>{let i=0;n.subscribe(Q(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Rn(e){return ne((t,n)=>{let r=null,i=!1,o;r=t.subscribe(Q(n,void 0,void 0,s=>{o=Ee(e(s,Rn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Up(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(Q(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function pi(e,t){return H(t)?Te(e,t,1):Te(e,1)}function Nn(e){return ne((t,n)=>{let r=!1;t.subscribe(Q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function ln(e){return e<=0?()=>it:ne((t,n)=>{let r=0;t.subscribe(Q(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ka(e=gb){return ne((t,n)=>{let r=!1;t.subscribe(Q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function gb(){return new cn}function bo(e){return ne((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function un(e,t){let n=arguments.length>=2;return r=>r.pipe(e?yt((i,o)=>e(i,o,r)):ct,ln(1),n?Nn(t):ka(()=>new cn))}function gi(e){return e<=0?()=>it:ne((t,n)=>{let r=[];t.subscribe(Q(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function bu(e,t){let n=arguments.length>=2;return r=>r.pipe(e?yt((i,o)=>e(i,o,r)):ct,gi(1),n?Nn(t):ka(()=>new cn))}function Eu(e,t){return ne(Up(e,t,arguments.length>=2,!0))}function Cu(...e){let t=On(e);return ne((n,r)=>{(t?hi(e,n,t):hi(e,n)).subscribe(r)})}function st(e,t){return ne((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Q(r,c=>{i?.unsubscribe();let l=0,u=o++;Ee(e(c,u)).subscribe(i=Q(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Pa(e){return ne((t,n)=>{Ee(e).subscribe(Q(n,()=>n.complete(),_o)),!n.closed&&t.subscribe(n)})}function Re(e,t,n){let r=H(e)||t||n?{next:e,error:t,complete:n}:e;return r?ne((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Q(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ct}function $p(e){let t=F(null);try{return e()}finally{F(t)}}var Bp=G(D({},Xn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Hp(e){if(e.dirty=!1,e.version>0&&!ni(e))return;e.version++;let t=er(e);try{e.cleanup(),e.fn()}finally{ti(e,t)}}var Va="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",O=class extends Error{code;constructor(t,n){super(vi(t,n)),this.code=t}};function mb(e){return`NG0${Math.abs(e)}`}function vi(e,t){return`${mb(e)}${t?": "+t:""}`}var Io=globalThis;function se(e){for(let t in e)if(e[t]===se)return t;throw Error("")}function Wp(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function fn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(fn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function ku(e,t){return e?t?`${e} ${t}`:e:t||""}var vb=se({__forward_ref__:se});function pn(e){return e.__forward_ref__=pn,e.toString=function(){return fn(this())},e}function Ue(e){return Pu(e)?e():e}function Pu(e){return typeof e=="function"&&e.hasOwnProperty(vb)&&e.__forward_ref__===pn}function R(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function zt(e){return{providers:e.providers||[],imports:e.imports||[]}}function To(e){return yb(e,Ua)}function Fu(e){return To(e)!==null}function yb(e,t){return e.hasOwnProperty(t)&&e[t]||null}function _b(e){let t=e?.[Ua]??null;return t||null}function Su(e){return e&&e.hasOwnProperty(La)?e[La]:null}var Ua=se({\u0275prov:se}),La=se({\u0275inj:se}),N=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Lu(e){return e&&!!e.\u0275providers}var ju=se({\u0275cmp:se}),Vu=se({\u0275dir:se}),Uu=se({\u0275pipe:se}),$u=se({\u0275mod:se}),Co=se({\u0275fac:se}),dr=se({__NG_ELEMENT_ID__:se}),zp=se({__NG_ENV_ID__:se});function Mo(e){return typeof e=="string"?e:e==null?"":String(e)}function qp(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Mo(e)}var Kp=se({ngErrorCode:se}),wb=se({ngErrorMessage:se}),bb=se({ngTokenPath:se});function Bu(e,t){return Yp("",-200,t)}function $a(e,t){throw new O(-201,!1)}function Yp(e,t,n){let r=new O(t,e);return r[Kp]=t,r[wb]=e,n&&(r[bb]=n),r}function Eb(e){return e[Kp]}var Iu;function Zp(){return Iu}function lt(e){let t=Iu;return Iu=e,t}function Hu(e,t,n){let r=To(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;$a(e,"Injector")}var Cb={},sr=Cb,Db="__NG_DI_FLAG__",Tu=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=ar(n)||0;try{return this.injector.get(t,r&8?null:sr,r)}catch(i){if(Xr(i))return i;throw i}}};function Sb(e,t=0){let n=ea();if(n===void 0)throw new O(-203,!1);if(n===null)return Hu(e,void 0,t);{let r=Ib(t),i=n.retrieve(e,r);if(Xr(i)){if(r.optional)return null;throw i}return i}}function z(e,t=0){return(Zp()||Sb)(Ue(e),t)}function C(e,t){return z(e,ar(t))}function ar(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ib(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Mu(e){let t=[];for(let n=0;n<e.length;n++){let r=Ue(e[n]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=Tb(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(z(i,o))}else t.push(z(r))}return t}function Tb(e){return e[Db]}function cr(e,t){let n=e.hasOwnProperty(Co);return n?e[Co]:null}function Ba(e,t){e.forEach(n=>Array.isArray(n)?Ba(n,t):t(n))}function zu(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function xo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Jp(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function Qp(e,t,n){let r=yi(e,t);return r>=0?e[r|1]=n:(r=~r,Jp(e,r,t,n)),r}function Ha(e,t){let n=yi(e,t);if(n>=0)return e[n|1]}function yi(e,t){return Mb(e,t,1)}function Mb(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Pn={},ut=[],Fn=new N(""),Gu=new N("",-1),Wu=new N(""),Do=class{get(t,n=sr){if(n===sr){let i=Yp("",-201);throw i.name="\u0275NotFound",i}return n}};function qu(e){return e[$u]||null}function Ln(e){return e[ju]||null}function Ku(e){return e[Vu]||null}function Xp(e){return e[Uu]||null}function Ao(e){return{\u0275providers:e}}function eg(...e){return{\u0275providers:Yu(!0,e),\u0275fromNgModule:!0}}function Yu(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ba(t,s=>{let a=s;ja(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&tg(i,o),n}function tg(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Zu(i,o=>{t(o,r)})}}function ja(e,t,n,r){if(e=Ue(e),!e)return!1;let i=null,o=Su(e),s=!o&&Ln(e);if(!o&&!s){let c=e.ngModule;if(o=Su(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ja(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ba(o.imports,u=>{ja(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&tg(l,t)}if(!a){let l=cr(i)||(()=>new i);t({provide:i,useFactory:l,deps:ut},i),t({provide:Wu,useValue:i,multi:!0},i),t({provide:Fn,useValue:()=>z(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Zu(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Zu(e,t){for(let n of e)Lu(n)&&(n=n.\u0275providers),Array.isArray(n)?Zu(n,t):t(n)}var xb=se({provide:String,useValue:se});function ng(e){return e!==null&&typeof e=="object"&&xb in e}function Ab(e){return!!(e&&e.useExisting)}function Ob(e){return!!(e&&e.useFactory)}function lr(e){return typeof e=="function"}function rg(e){return!!e.useClass}var Oo=new N(""),Fa={},Gp={},Du;function Ro(){return Du===void 0&&(Du=new Do),Du}var Ne=class{},ur=class extends Ne{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Au(t,s=>this.processProvider(s)),this.records.set(Gu,mi(void 0,this)),i.has("environment")&&this.records.set(Ne,mi(void 0,this));let o=this.records.get(Oo);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Wu,ut,{self:!0}))}retrieve(t,n){let r=ar(n)||0;try{return this.get(t,sr,r)}catch(i){if(Xr(i))return i;throw i}}destroy(){Eo(this),this._destroyed=!0;let t=F(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(t)}}onDestroy(t){return Eo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Eo(this);let n=Ht(this),r=lt(void 0),i;try{return t()}finally{Ht(n),lt(r)}}get(t,n=sr,r){if(Eo(this),t.hasOwnProperty(zp))return t[zp](this);let i=ar(r),o,s=Ht(this),a=lt(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=Fb(t)&&To(t);u&&this.injectableDefInScope(u)?l=mi(xu(t),Fa):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?Ro():this.parent;return n=i&8&&n===sr?null:n,c.get(t,n)}catch(c){let l=Eb(c);throw l===-200||l===-201?new O(l,null):c}finally{lt(a),Ht(s)}}resolveInjectorInitializers(){let t=F(null),n=Ht(this),r=lt(void 0),i;try{let o=this.get(Fn,ut,{self:!0});for(let s of o)s()}finally{Ht(n),lt(r),F(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(fn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Ue(t);let n=lr(t)?t:Ue(t&&t.provide),r=Nb(t);if(!lr(t)&&t.multi===!0){let i=this.records.get(n);i||(i=mi(void 0,Fa,!0),i.factory=()=>Mu(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=F(null);try{if(n.value===Gp)throw Bu(fn(t));return n.value===Fa&&(n.value=Gp,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Pb(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{F(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ue(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function xu(e){let t=To(e),n=t!==null?t.factory:cr(e);if(n!==null)return n;if(e instanceof N)throw new O(204,!1);if(e instanceof Function)return Rb(e);throw new O(204,!1)}function Rb(e){if(e.length>0)throw new O(204,!1);let n=_b(e);return n!==null?()=>n.factory(e):()=>new e}function Nb(e){if(ng(e))return mi(void 0,e.useValue);{let t=Ju(e);return mi(t,Fa)}}function Ju(e,t,n){let r;if(lr(e)){let i=Ue(e);return cr(i)||xu(i)}else if(ng(e))r=()=>Ue(e.useValue);else if(Ob(e))r=()=>e.useFactory(...Mu(e.deps||[]));else if(Ab(e))r=(i,o)=>z(Ue(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ue(e&&(e.useClass||e.provide));if(kb(e))r=()=>new i(...Mu(e.deps));else return cr(i)||xu(i)}return r}function Eo(e){if(e.destroyed)throw new O(205,!1)}function mi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function kb(e){return!!e.deps}function Pb(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Fb(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Au(e,t){for(let n of e)Array.isArray(n)?Au(n,t):n&&Lu(n)?Au(n.\u0275providers,t):t(n)}function Qe(e,t){let n;e instanceof ur?(Eo(e),n=e):n=new Tu(e);let r,i=Ht(n),o=lt(void 0);try{return t()}finally{Ht(i),lt(o)}}function ig(){return Zp()!==void 0||ea()!=null}var Nt=0,L=1,$=2,ke=3,_t=4,wt=5,_i=6,wi=7,ve=8,gn=9,Gt=10,fe=11,bi=12,Qu=13,fr=14,at=15,hr=16,pr=17,gr=18,No=19,Xu=20,dn=21,za=22,mn=23,ft=24,Ga=25,mr=26,$e=27,og=1,ed=6,jn=7,ko=8,Po=9,_e=10;function Wt(e){return Array.isArray(e)&&typeof e[og]=="object"}function kt(e){return Array.isArray(e)&&e[og]===!0}function td(e){return(e.flags&4)!==0}function Vn(e){return e.componentOffset>-1}function Wa(e){return(e.flags&1)===1}function qt(e){return!!e.template}function Ei(e){return(e[$]&512)!==0}function vr(e){return(e[$]&256)===256}var nd="svg",sg="math";function bt(e){for(;Array.isArray(e);)e=e[Nt];return e}function rd(e,t){return bt(t[e])}function Pt(e,t){return bt(t[e.index])}function Fo(e,t){return e.data[t]}function Et(e,t){let n=t[e];return Wt(n)?n:n[Nt]}function qa(e){return(e[$]&128)===128}function ag(e){return kt(e[ke])}function Kt(e,t){return t==null?null:e[t]}function id(e){e[pr]=0}function od(e){e[$]&1024||(e[$]|=1024,qa(e)&&yr(e))}function cg(e,t){for(;e>0;)t=t[fr],e--;return t}function Lo(e){return!!(e[$]&9216||e[ft]?.dirty)}function Ka(e){e[Gt].changeDetectionScheduler?.notify(8),e[$]&64&&(e[$]|=1024),Lo(e)&&yr(e)}function yr(e){e[Gt].changeDetectionScheduler?.notify(0);let t=kn(e);for(;t!==null&&!(t[$]&8192||(t[$]|=8192,!qa(t)));)t=kn(t)}function sd(e,t){if(vr(e))throw new O(911,!1);e[dn]===null&&(e[dn]=[]),e[dn].push(t)}function lg(e,t){if(e[dn]===null)return;let n=e[dn].indexOf(t);n!==-1&&e[dn].splice(n,1)}function kn(e){let t=e[ke];return kt(t)?t[ke]:t}function ug(e){return e[wi]??=[]}function dg(e){return e.cleanup??=[]}var q={lFrame:Sg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ou=!1;function fg(){return q.lFrame.elementDepthCount}function hg(){q.lFrame.elementDepthCount++}function ad(){q.lFrame.elementDepthCount--}function pg(){return q.bindingsEnabled}function gg(){return q.skipHydrationRootTNode!==null}function cd(e){return q.skipHydrationRootTNode===e}function ld(){q.skipHydrationRootTNode=null}function re(){return q.lFrame.lView}function Ze(){return q.lFrame.tView}function j(e){return q.lFrame.contextLView=e,e[ve]}function V(e){return q.lFrame.contextLView=null,e}function Be(){let e=ud();for(;e!==null&&e.type===64;)e=e.parent;return e}function ud(){return q.lFrame.currentTNode}function mg(){let e=q.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ci(e,t){let n=q.lFrame;n.currentTNode=e,n.isParent=t}function dd(){return q.lFrame.isParent}function vg(){q.lFrame.isParent=!1}function fd(){return Ou}function Di(e){let t=Ou;return Ou=e,t}function yg(e){return q.lFrame.bindingIndex=e}function _r(){return q.lFrame.bindingIndex++}function _g(e){let t=q.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function wg(){return q.lFrame.inI18n}function bg(e,t){let n=q.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ya(t)}function Eg(){return q.lFrame.currentDirectiveIndex}function Ya(e){q.lFrame.currentDirectiveIndex=e}function Cg(e){let t=q.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function hd(e){q.lFrame.currentQueryIndex=e}function Lb(e){let t=e[L];return t.type===2?t.declTNode:t.type===1?e[wt]:null}function pd(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=Lb(o),i===null||(o=o[fr],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=q.lFrame=Dg();return r.currentTNode=t,r.lView=e,!0}function Za(e){let t=Dg(),n=e[L];q.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Dg(){let e=q.lFrame,t=e===null?null:e.child;return t===null?Sg(e):t}function Sg(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Ig(){let e=q.lFrame;return q.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var gd=Ig;function Ja(){let e=Ig();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Tg(e){return(q.lFrame.contextLView=cg(e,q.lFrame.contextLView))[ve]}function Un(){return q.lFrame.selectedIndex}function $n(e){q.lFrame.selectedIndex=e}function Qa(){let e=q.lFrame;return Fo(e.tView,e.selectedIndex)}function Xe(){q.lFrame.currentNamespace=nd}function Yt(){jb()}function jb(){q.lFrame.currentNamespace=null}function Mg(){return q.lFrame.currentNamespace}var xg=!0;function Xa(){return xg}function ec(e){xg=e}function Ru(e,t=null,n=null,r){let i=md(e,t,n,r);return i.resolveInjectorInitializers(),i}function md(e,t=null,n=null,r,i=new Set){let o=[n||ut,eg(e)];return r=r||(typeof e=="object"?void 0:fn(e)),new ur(o,t||Ro(),r||null,i)}var dt=class e{static THROW_IF_NOT_FOUND=sr;static NULL=new Do;static create(t,n){if(Array.isArray(t))return Ru({name:""},n,t,"");{let r=t.name??"";return Ru({name:r},t.parent,t.providers,r)}}static \u0275prov=R({token:e,providedIn:"any",factory:()=>z(Gu)});static __NG_ELEMENT_ID__=-1},He=new N(""),vn=(()=>{class e{static __NG_ELEMENT_ID__=Vb;static __NG_ENV_ID__=n=>n}return e})(),So=class extends vn{_lView;constructor(t){super(),this._lView=t}get destroyed(){return vr(this._lView)}onDestroy(t){let n=this._lView;return sd(n,t),()=>lg(n,t)}};function Vb(){return new So(re())}var Rt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Ct=new N("",{providedIn:"root",factory:()=>{let e=C(Ne),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Rt),t.handleError(n))}}}),Ag={provide:Fn,useValue:()=>void C(Rt),multi:!0};function vd(e){return typeof e=="function"&&e[Ye]!==void 0}function W(e,t){let[n,r,i]=cu(e,t?.equal),o=n,s=o[Ye];return o.set=r,o.update=i,o.asReadonly=yd.bind(o),o}function yd(){let e=this[Ye];if(e.readonlyFn===void 0){let t=()=>this();t[Ye]=e,e.readonlyFn=t}return e.readonlyFn}function _d(e){return vd(e)&&typeof e.set=="function"}var jo=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Ub}return e})();function Ub(){return new jo(re(),Be())}var hn=class{},Vo=new N("",{providedIn:"root",factory:()=>!1});var wd=new N(""),bd=new N(""),yn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ve(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new te(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}return e})();function wr(...e){}var Uo=(()=>{class e{static \u0275prov=R({token:e,providedIn:"root",factory:()=>new Nu})}return e})(),Nu=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Ko(e){return{toString:e}.toString()}function qb(e){return typeof e=="function"}var ac=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function lm(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var bn=(()=>{let e=()=>um;return e.ngInherit=!0,e})();function um(e){return e.type.prototype.ngOnChanges&&(e.setInput=Yb),Kb}function Kb(){let e=fm(this),t=e?.current;if(t){let n=e.previous;if(n===Pn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Yb(e,t,n,r,i){let o=this.declaredInputs[r],s=fm(e)||Zb(e,{previous:Pn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new ac(l&&l.currentValue,n,c===Pn),lm(e,t,i,n)}var dm="__ngSimpleChanges__";function fm(e){return e[dm]||null}function Zb(e,t){return e[dm]=t}var Og=[];var le=function(e,t=null,n){for(let r=0;r<Og.length;r++){let i=Og[r];i(e,t,n)}};function Jb(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=um(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Qb(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function rc(e,t,n){hm(e,t,3,n)}function ic(e,t,n,r){(e[$]&3)===n&&hm(e,t,n,r)}function Ed(e,t){let n=e[$];(n&3)===t&&(n&=16383,n+=1,e[$]=n)}function hm(e,t,n,r){let i=r!==void 0?e[pr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[pr]+=65536),(a<o||o==-1)&&(Xb(e,n,t,c),e[pr]=(e[pr]&4294901760)+c+2),c++}function Rg(e,t){le(4,e,t);let n=F(null);try{t.call(e)}finally{F(n),le(5,e,t)}}function Xb(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[$]>>14<e[pr]>>16&&(e[$]&3)===t&&(e[$]+=16384,Rg(a,o)):Rg(a,o)}var Ii=-1,Er=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function e0(e){return(e.flags&8)!==0}function t0(e){return(e.flags&16)!==0}function n0(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];r0(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function pm(e){return e===3||e===4||e===6}function r0(e){return e.charCodeAt(0)===64}function Ti(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ng(e,n,i,null,t[++r]):Ng(e,n,i,null,null))}}return e}function Ng(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function gm(e){return e!==Ii}function cc(e){return e&32767}function i0(e){return e>>16}function lc(e,t){let n=i0(e),r=t;for(;n>0;)r=r[fr],n--;return r}var Rd=!0;function kg(e){let t=Rd;return Rd=e,t}var o0=256,mm=o0-1,vm=5,s0=0,Zt={};function a0(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(dr)&&(r=n[dr]),r==null&&(r=n[dr]=s0++);let i=r&mm,o=1<<i;t.data[e+(i>>vm)]|=o}function uc(e,t){let n=ym(e,t);if(n!==-1)return n;let r=t[L];r.firstCreatePass&&(e.injectorIndex=t.length,Cd(r.data,e),Cd(t,null),Cd(r.blueprint,null));let i=rf(e,t),o=e.injectorIndex;if(gm(i)){let s=cc(i),a=lc(i,t),c=a[L].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Cd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ym(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function rf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=Cm(i),r===null)return Ii;if(n++,i=i[fr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ii}function Nd(e,t,n){a0(e,t,n)}function c0(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(pm(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function _m(e,t,n){if(n&8||e!==void 0)return e;$a(t,"NodeInjector")}function wm(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[gn],o=lt(void 0);try{return i?i.get(t,r,n&8):Hu(t,r,n&8)}finally{lt(o)}}return _m(r,t,n)}function bm(e,t,n,r=0,i){if(e!==null){if(t[$]&2048&&!(r&2)){let s=h0(e,t,n,r,Zt);if(s!==Zt)return s}let o=Em(e,t,n,r,Zt);if(o!==Zt)return o}return wm(t,n,r,i)}function Em(e,t,n,r,i){let o=d0(n);if(typeof o=="function"){if(!pd(t,e,r))return r&1?_m(i,n,r):wm(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))$a(n);else return s}finally{gd()}}else if(typeof o=="number"){let s=null,a=ym(e,t),c=Ii,l=r&1?t[at][wt]:null;for((a===-1||r&4)&&(c=a===-1?rf(e,t):t[a+8],c===Ii||!Fg(r,!1)?a=-1:(s=t[L],a=cc(c),t=lc(c,t)));a!==-1;){let u=t[L];if(Pg(o,a,u.data)){let d=l0(a,t,n,s,r,l);if(d!==Zt)return d}c=t[a+8],c!==Ii&&Fg(r,t[L].data[a+8]===l)&&Pg(o,a,t)?(s=u,a=cc(c),t=lc(c,t)):a=-1}}return i}function l0(e,t,n,r,i,o){let s=t[L],a=s.data[e+8],c=r==null?Vn(a)&&Rd:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=u0(a,s,n,c,l);return u!==null?dc(t,s,u,a,i):Zt}function u0(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:l;for(let h=d;h<p;h++){let g=s[h];if(h<c&&n===g||h>=c&&g.type===n)return h}if(i){let h=s[c];if(h&&qt(h)&&h.type===n)return c}return null}function dc(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Er){let a=o;if(a.resolving){let h=qp(s[n]);throw Bu(h)}let c=kg(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?lt(a.injectImpl):null,p=pd(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&Jb(n,s[n],t)}finally{d!==null&&lt(d),kg(c),a.resolving=!1,gd()}}return o}function d0(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(dr)?e[dr]:void 0;return typeof t=="number"?t>=0?t&mm:f0:t}function Pg(e,t,n){let r=1<<e;return!!(n[t+(e>>vm)]&r)}function Fg(e,t){return!(e&2)&&!(e&1&&t)}var br=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return bm(this._tNode,this._lView,t,ar(r),n)}};function f0(){return new br(Be(),re())}function Tr(e){return Ko(()=>{let t=e.prototype.constructor,n=t[Co]||kd(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Co]||kd(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function kd(e){return Pu(e)?()=>{let t=kd(Ue(e));return t&&t()}:cr(e)}function h0(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[$]&2048&&!Ei(s);){let a=Em(o,s,n,r|2,Zt);if(a!==Zt)return a;let c=o.parent;if(!c){let l=s[Xu];if(l){let u=l.get(n,Zt,r);if(u!==Zt)return u}c=Cm(s),s=s[fr]}o=c}return i}function Cm(e){let t=e[L],n=t.type;return n===2?t.declTNode:n===1?e[wt]:null}function Yo(e){return c0(Be(),e)}function p0(){return of(Be(),re())}function of(e,t){return new Bn(Pt(e,t))}var Bn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=p0}return e})();function Dm(e){return(e.flags&128)===128}var sf=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(sf||{}),Sm=new Map,g0=0;function m0(){return g0++}function v0(e){Sm.set(e[No],e)}function Pd(e){Sm.delete(e[No])}var Lg="__ngContext__";function Mi(e,t){Wt(t)?(e[Lg]=t[No],v0(t)):e[Lg]=t}function Im(e){return Mm(e[bi])}function Tm(e){return Mm(e[_t])}function Mm(e){for(;e!==null&&!kt(e);)e=e[_t];return e}var Fd;function af(e){Fd=e}function xm(){if(Fd!==void 0)return Fd;if(typeof document<"u")return document;throw new O(210,!1)}var Ic=new N("",{providedIn:"root",factory:()=>y0}),y0="ng",Tc=new N(""),Zo=new N("",{providedIn:"platform",factory:()=>"unknown"});var Mc=new N("",{providedIn:"root",factory:()=>xm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _0="h",w0="b";var Am="r";var Om="di";var Rm=!1,Nm=new N("",{providedIn:"root",factory:()=>Rm});var b0=(e,t,n,r)=>{};function E0(e,t,n,r){b0(e,t,n,r)}function cf(e){return(e.flags&32)===32}var C0=()=>null;function km(e,t,n=!1){return C0(e,t,n)}function Pm(e,t){let n=e.contentQueries;if(n!==null){let r=F(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];hd(o),a.contentQueries(2,t[s],s)}}}finally{F(r)}}}function Ld(e,t,n){hd(0);let r=F(null);try{t(e,n)}finally{F(r)}}function Fm(e,t,n){if(td(t)){let r=F(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{F(r)}}}var _n=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(_n||{});var tc;function D0(){if(tc===void 0&&(tc=null,Io.trustedTypes))try{tc=Io.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return tc}function jg(e){return D0()?.createScriptURL(e)||e}var fc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Va})`}};function xc(e){return e instanceof fc?e.changingThisBreaksApplicationSecurity:e}function lf(e,t){let n=Lm(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Va})`)}return n===t}function Lm(e){return e instanceof fc&&e.getTypeName()||null}var S0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jm(e){return e=String(e),e.match(S0)?e:"unsafe:"+e}function I0(e,t){return e.createText(t)}function T0(e,t,n){e.setValue(t,n)}function Vm(e,t,n){return e.createElement(t,n)}function hc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Um(e,t,n){e.appendChild(t,n)}function Vg(e,t,n,r,i){r!==null?hc(e,t,n,r,i):Um(e,t,n)}function $m(e,t,n,r){e.removeChild(null,t,n,r)}function M0(e,t,n){e.setAttribute(t,"style",n)}function x0(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Bm(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&n0(e,t,r),i!==null&&x0(e,t,i),o!==null&&M0(e,t,o)}var Ac=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(Ac||{});function Jo(e){let t=zm();return t?t.sanitize(Ac.URL,e)||"":lf(e,"URL")?xc(e):jm(Mo(e))}function Hm(e){let t=zm();if(t)return jg(t.sanitize(Ac.RESOURCE_URL,e)||"");if(lf(e,"ResourceURL"))return jg(xc(e));throw new O(904,!1)}function A0(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Hm:Jo}function uf(e,t,n){return A0(t,n)(e)}function zm(){let e=re();return e&&e[Gt].sanitizer}function Gm(e){return e instanceof Function?e():e}function O0(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Wm="ng-template";function R0(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&O0(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(df(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function df(e){return e.type===4&&e.value!==Wm}function N0(e,t,n){let r=e.type===4&&!n?Wm:e.value;return t===r}function k0(e,t,n){let r=4,i=e.attrs,o=i!==null?L0(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Ft(r)&&!Ft(c))return!1;if(s&&Ft(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!N0(e,c,n)||c===""&&t.length===1){if(Ft(r))return!1;s=!0}}else if(r&8){if(i===null||!R0(e,i,c,n)){if(Ft(r))return!1;s=!0}}else{let l=t[++a],u=P0(c,i,df(e),n);if(u===-1){if(Ft(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Ft(r))return!1;s=!0}}}}return Ft(r)||s}function Ft(e){return(e&1)===0}function P0(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return j0(t,e)}function F0(e,t,n=!1){for(let r=0;r<t.length;r++)if(k0(e,t[r],n))return!0;return!1}function L0(e){for(let t=0;t<e.length;t++){let n=e[t];if(pm(n))return t}return e.length}function j0(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Ug(e,t){return e?":not("+t.trim()+")":t}function V0(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ft(s)&&(t+=Ug(o,i),i=""),r=s,o=o||!Ft(r);n++}return i!==""&&(t+=Ug(o,i)),t}function U0(e){return e.map(V0).join(",")}function $0(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Ft(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var En={};function ff(e,t,n,r,i,o,s,a,c,l,u){let d=$e+r,p=d+i,h=B0(d,p),g=typeof l=="function"?l():l;return h[L]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function B0(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:En);return n}function H0(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=ff(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function hf(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[Nt]=i,d[$]=r|4|128|8|64|1024,(l!==null||e&&e[$]&2048)&&(d[$]|=2048),id(d),d[ke]=d[fr]=e,d[ve]=n,d[Gt]=s||e&&e[Gt],d[fe]=a||e&&e[fe],d[gn]=c||e&&e[gn]||null,d[wt]=o,d[No]=m0(),d[_i]=u,d[Xu]=l,d[at]=t.type==2?e[at]:d,d}function z0(e,t,n){let r=Pt(t,e),i=H0(n),o=e[Gt].rendererFactory,s=pf(e,hf(e,i,null,qm(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function qm(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Km(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function pf(e,t){return e[bi]?e[Qu][_t]=t:e[bi]=t,e[Qu]=t,t}function y(e=1){Ym(Ze(),re(),Un()+e,!1)}function Ym(e,t,n,r){if(!r)if((t[$]&3)===3){let o=e.preOrderCheckHooks;o!==null&&rc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&ic(t,o,0,n)}$n(n)}var Oc=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Oc||{});function jd(e,t,n,r){let i=F(null);try{let[o,s,a]=e.inputs[n],c=null;(s&Oc.SignalBased)!==0&&(c=t[o][Ye]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):lm(t,c,o,r)}finally{F(i)}}var wn=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(wn||{}),G0;function gf(e,t){return G0(e,t)}var Cr=new Set,mf=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(mf||{}),Qo=new N(""),$g=new Set;function Hn(e){$g.has(e)||($g.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Zm=!1,Vd=class extends be{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,ig()&&(this.destroyRef=C(vn,{optional:!0})??void 0,this.pendingTasks=C(yn,{optional:!0})??void 0)}emit(t){let n=F(null);try{super.next(t)}finally{F(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof we&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ce=Vd;function Jm(e){let t,n;function r(){e=wr;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Bg(e){return queueMicrotask(()=>e()),()=>{e=wr}}var vf="isAngularZone",pc=vf+"_ID",W0=0,Me=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ce(!1);onMicrotaskEmpty=new Ce(!1);onStable=new Ce(!1);onError=new Ce(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Zm}=t;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Y0(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new O(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,q0,wr,wr);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},q0={};function yf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function K0(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Jm(()=>{e.callbackScheduled=!1,Ud(e),e.isCheckStableRunning=!0,yf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ud(e)}function Y0(e){let t=()=>{K0(e)},n=W0++;e._inner=e._inner.fork({name:"angular",properties:{[vf]:!0,[pc]:n,[pc+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Z0(c))return r.invokeTask(o,s,a,c);try{return Hg(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),zg(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Hg(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!J0(c)&&t(),zg(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Ud(e),yf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Ud(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Hg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zg(e){e._nesting--,yf(e)}var gc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ce;onMicrotaskEmpty=new Ce;onStable=new Ce;onError=new Ce;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function Z0(e){return Qm(e,"__ignore_ng_zone__")}function J0(e){return Qm(e,"__scheduler_tick__")}function Qm(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Xm=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}return e})();var ev=new N("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function tv(e,t,n){let r=e.get(ev);if(Array.isArray(t))for(let i of t)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function Q0(e,t){let n=e.get(ev);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function X0(e,t){for(let[n,r]of t)tv(e,r.animateFns)}function Gg(e,t,n,r){let i=e?.[mr]?.enter;t!==null&&i&&i.has(n.index)&&X0(r,i)}function Si(e,t,n,r,i,o,s,a){if(i!=null){let c,l=!1;kt(i)?c=i:Wt(i)&&(l=!0,i=i[Nt]);let u=bt(i);e===0&&r!==null?(Gg(a,r,o,n),s==null?Um(t,r,u):hc(t,r,u,s||null,!0)):e===1&&r!==null?(Gg(a,r,o,n),hc(t,r,u,s||null,!0)):e===2?Wg(a,o,n,d=>{$m(t,u,l,d)}):e===3&&Wg(a,o,n,()=>{t.destroyNode(u)}),c!=null&&fE(t,e,n,c,o,r,s)}}function eE(e,t){nv(e,t),t[Nt]=null,t[wt]=null}function tE(e,t,n,r,i,o){r[Nt]=i,r[wt]=t,Nc(e,r,n,1,i,o)}function nv(e,t){t[Gt].changeDetectionScheduler?.notify(9),Nc(e,t,t[fe],2,null,null)}function nE(e){let t=e[bi];if(!t)return Dd(e[L],e);for(;t;){let n=null;if(Wt(t))n=t[bi];else{let r=t[_e];r&&(n=r)}if(!n){for(;t&&!t[_t]&&t!==e;)Wt(t)&&Dd(t[L],t),t=t[ke];t===null&&(t=e),Wt(t)&&Dd(t[L],t),n=t&&t[_t]}t=n}}function _f(e,t){let n=e[Po],r=n.indexOf(t);n.splice(r,1)}function Rc(e,t){if(vr(t))return;let n=t[fe];n.destroyNode&&Nc(e,t,n,3,null,null),nE(t)}function Dd(e,t){if(vr(t))return;let n=F(null);try{t[$]&=-129,t[$]|=256,t[ft]&&tr(t[ft]),oE(e,t),iE(e,t),t[L].type===1&&t[fe].destroy();let r=t[hr];if(r!==null&&kt(t[ke])){r!==t[ke]&&_f(r,t);let i=t[gr];i!==null&&i.detachView(e)}Pd(t)}finally{F(n)}}function Wg(e,t,n,r){let i=e?.[mr];if(i==null||i.leave==null||!i.leave.has(t.index))return r(!1);e&&Cr.add(e),tv(n,()=>{if(i.leave&&i.leave.has(t.index)){let s=i.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),rE(e,r)}else e&&Cr.delete(e),r(!1)},i)}function rE(e,t){let n=e[mr]?.running;if(n){n.then(()=>{e[mr].running=void 0,Cr.delete(e),t(!0)});return}t(!1)}function iE(e,t){let n=e.cleanup,r=t[wi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[wi]=null);let i=t[dn];if(i!==null){t[dn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[mn];if(o!==null){t[mn]=null;for(let s of o)s.destroy()}}function oE(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Er)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];le(4,a,c);try{c.call(a)}finally{le(5,a,c)}}else{le(4,i,o);try{o.call(i)}finally{le(5,i,o)}}}}}function sE(e,t,n){return aE(e,t.parent,n)}function aE(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Nt];if(Vn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===_n.None||i===_n.Emulated)return null}return Pt(r,n)}function cE(e,t,n){return uE(e,t,n)}function lE(e,t,n){return e.type&40?Pt(e,n):null}var uE=lE,qg;function wf(e,t,n,r){let i=sE(e,r,t),o=t[fe],s=r.parent||t[wt],a=cE(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Vg(o,i,n[c],a,!1);else Vg(o,i,n,a,!1);qg!==void 0&&qg(o,r,t,n,i)}function $o(e,t){if(t!==null){let n=t.type;if(n&3)return Pt(t,e);if(n&4)return $d(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return $o(e,r);{let i=e[t.index];return kt(i)?$d(-1,i):bt(i)}}else{if(n&128)return $o(e,t.next);if(n&32)return gf(t,e)()||bt(e[t.index]);{let r=rv(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=kn(e[at]);return $o(i,r)}else return $o(e,t.next)}}}return null}function rv(e,t){if(t!==null){let r=e[at][wt],i=t.projection;return r.projection[i]}return null}function $d(e,t){let n=_e+e+1;if(n<t.length){let r=t[n],i=r[L].firstChild;if(i!==null)return $o(r,i)}return t[jn]}function bf(e,t,n,r,i,o,s){for(;n!=null;){let a=r[gn];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&t===0&&(c&&Mi(bt(c),r),n.flags|=2),!cf(n))if(l&8)bf(e,t,n.child,r,i,o,!1),Si(t,e,a,i,c,n,o,r);else if(l&32){let u=gf(n,r),d;for(;d=u();)Si(t,e,a,i,d,n,o,r);Si(t,e,a,i,c,n,o,r)}else l&16?dE(e,t,r,n,i,o):Si(t,e,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function Nc(e,t,n,r,i,o){bf(n,r,e.firstChild,t,i,o,!1)}function dE(e,t,n,r,i,o){let s=n[at],c=s[wt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Si(t,e,n[gn],i,u,r,o,n)}else{let l=c,u=s[ke];Dm(r)&&(l.flags|=128),bf(e,t,l,u,i,o,!0)}}function fE(e,t,n,r,i,o,s){let a=r[jn],c=bt(r);a!==c&&Si(t,e,n,o,a,i,s);for(let l=_e;l<r.length;l++){let u=r[l];Nc(u[L],u,e,t,o,a)}}function hE(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:wn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=wn.Important),e.setStyle(n,r,i,o))}}function iv(e,t,n,r,i){let o=Un(),s=r&2;try{$n(-1),s&&t.length>$e&&Ym(e,t,$e,!1),le(s?2:0,i,n),n(r,i)}finally{$n(o),le(s?3:1,i,n)}}function ov(e,t,n){wE(e,t,n),(n.flags&64)===64&&bE(e,t,n)}function Ef(e,t,n=Pt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function pE(e,t,n,r){let o=r.get(Nm,Rm)||n===_n.ShadowDom,s=e.selectRootElement(t,o);return gE(s),s}function gE(e){mE(e)}var mE=()=>null;function vE(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function sv(e,t,n,r,i,o){let s=t[L];if(Cf(e,s,t,n,r)){Vn(e)&&_E(t,e.index);return}e.type&3&&(n=vE(n)),yE(e,t,n,r,i,o)}function yE(e,t,n,r,i,o){if(e.type&3){let s=Pt(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function _E(e,t){let n=Et(t,e);n[$]&16||(n[$]|=64)}function wE(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Vn(n)&&z0(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||uc(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=dc(t,e,s,n);if(Mi(c,t),o!==null&&IE(t,s-r,c,a,n,o),qt(a)){let l=Et(n.index,t);l[ve]=dc(t,e,s,n)}}}function bE(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Eg();try{$n(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];Ya(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&EE(c,l)}}finally{$n(-1),Ya(s)}}function EE(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function CE(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];F0(t,o.selectors,!1)&&(r??=[],qt(o)?r.unshift(o):r.push(o))}return r}function DE(e,t,n,r,i,o){let s=Pt(e,t);SE(t[fe],s,o,e.value,n,r,i)}function SE(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Mo(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function IE(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];jd(r,n,c,l)}}function av(e,t,n,r,i){let o=$e+n,s=t[L],a=i(s,t,e,r,n);t[o]=a,Ci(e,!0);let c=e.type===2;return c?(Bm(t[fe],a,e),(fg()===0||Wa(e))&&Mi(a,t),hg()):Mi(a,t),Xa()&&(!c||!cf(e))&&wf(s,t,a,e),e}function cv(e){let t=e;return dd()?vg():(t=t.parent,Ci(t,!1)),t}function TE(e,t){let n=e[gn];if(!n)return;let r;try{r=n.get(Ct,null)}catch{r=null}r?.(t)}function Cf(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];jd(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];jd(u,l,r,i),a=!0}return a}function ME(e,t){let n=Et(t,e),r=n[L];xE(r,n);let i=n[Nt];i!==null&&n[_i]===null&&(n[_i]=km(i,n[gn])),le(18),Df(r,n,n[ve]),le(19,n[ve])}function xE(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Df(e,t,n){Za(t);try{let r=e.viewQuery;r!==null&&Ld(1,r,n);let i=e.template;i!==null&&iv(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[gr]?.finishViewCreation(e),e.staticContentQueries&&Pm(e,t),e.staticViewQueries&&Ld(2,e.viewQuery,n);let o=e.components;o!==null&&AE(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[$]&=-5,Ja()}}function AE(e,t){for(let n=0;n<t.length;n++)ME(e,t[n])}function Sf(e,t,n,r){let i=F(null);try{let o=t.tView,a=e[$]&4096?4096:16,c=hf(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[hr]=l;let u=e[gr];return u!==null&&(c[gr]=u.createEmbeddedView(o)),Df(o,c,n),c}finally{F(i)}}function Ho(e,t){return!t||t.firstChild===null||Dm(e)}function zo(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(bt(o)),kt(o)&&lv(o,r);let s=n.type;if(s&8)zo(e,t,n.child,r);else if(s&32){let a=gf(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=rv(t,n);if(Array.isArray(a))r.push(...a);else{let c=kn(t[at]);zo(c[L],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function lv(e,t){for(let n=_e;n<e.length;n++){let r=e[n],i=r[L].firstChild;i!==null&&zo(r[L],r,i,t)}e[jn]!==e[Nt]&&t.push(e[jn])}function uv(e){if(e[Ga]!==null){for(let t of e[Ga])t.impl.addSequence(t);e[Ga].length=0}}var dv=[];function OE(e){return e[ft]??RE(e)}function RE(e){let t=dv.pop()??Object.create(kE);return t.lView=e,t}function NE(e){e.lView[ft]!==e&&(e.lView=null,dv.push(e))}var kE=G(D({},Xn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{yr(e.lView)},consumerOnSignalRead(){this.lView[ft]=this}});function PE(e){let t=e[ft]??Object.create(FE);return t.lView=e,t}var FE=G(D({},Xn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=kn(e.lView);for(;t&&!fv(t[L]);)t=kn(t);t&&od(t)},consumerOnSignalRead(){this.lView[ft]=this}});function fv(e){return e.type!==2}function hv(e){if(e[mn]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[mn])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[$]&8192)}}var LE=100;function pv(e,t=0){let r=e[Gt].rendererFactory,i=!1;i||r.begin?.();try{jE(e,t)}finally{i||r.end?.()}}function jE(e,t){let n=fd();try{Di(!0),Bd(e,t);let r=0;for(;Lo(e);){if(r===LE)throw new O(103,!1);r++,Bd(e,1)}}finally{Di(n)}}function VE(e,t,n,r){if(vr(t))return;let i=t[$],o=!1,s=!1;Za(t);let a=!0,c=null,l=null;o||(fv(e)?(l=OE(t),c=er(l)):oa()===null?(a=!1,l=PE(t),c=er(l)):t[ft]&&(tr(t[ft]),t[ft]=null));try{id(t),yg(e.bindingStartIndex),n!==null&&iv(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&rc(t,h,null)}else{let h=e.preOrderHooks;h!==null&&ic(t,h,0,null),Ed(t,0)}if(s||UE(t),hv(t),gv(t,0),e.contentQueries!==null&&Pm(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&rc(t,h)}else{let h=e.contentHooks;h!==null&&ic(t,h,1),Ed(t,1)}BE(e,t);let d=e.components;d!==null&&vv(t,d,0);let p=e.viewQuery;if(p!==null&&Ld(2,p,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&rc(t,h)}else{let h=e.viewHooks;h!==null&&ic(t,h,2),Ed(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[za]){for(let h of t[za])h();t[za]=null}o||(uv(t),t[$]&=-73)}catch(u){throw o||yr(t),u}finally{l!==null&&(ti(l,c),a&&NE(l)),Ja()}}function gv(e,t){for(let n=Im(e);n!==null;n=Tm(n))for(let r=_e;r<n.length;r++){let i=n[r];mv(i,t)}}function UE(e){for(let t=Im(e);t!==null;t=Tm(t)){if(!(t[$]&2))continue;let n=t[Po];for(let r=0;r<n.length;r++){let i=n[r];od(i)}}}function $E(e,t,n){le(18);let r=Et(t,e);mv(r,n),le(19,r[ve])}function mv(e,t){qa(e)&&Bd(e,t)}function Bd(e,t){let r=e[L],i=e[$],o=e[ft],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&ni(o)),s||=!1,o&&(o.dirty=!1),e[$]&=-9217,s)VE(r,e,r.template,e[ve]);else if(i&8192){let a=F(null);try{hv(e),gv(e,1);let c=r.components;c!==null&&vv(e,c,1),uv(e)}finally{F(a)}}}function vv(e,t,n){for(let r=0;r<t.length;r++)$E(e,t[r],n)}function BE(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)$n(~i);else{let o=i,s=n[++r],a=n[++r];bg(s,o);let c=t[o];le(24,c),a(2,c),le(25,c)}}}finally{$n(-1)}}function If(e,t){let n=fd()?64:1088;for(e[Gt].changeDetectionScheduler?.notify(t);e;){e[$]|=n;let r=kn(e);if(Ei(e)&&!r)return e;e=r}return null}function yv(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function _v(e,t){let n=_e+t;if(n<e.length)return e[n]}function kc(e,t,n,r=!0){let i=t[L];if(HE(i,t,e,n),r){let s=$d(n,e),a=t[fe],c=a.parentNode(e[jn]);c!==null&&tE(i,e[wt],a,t,c,s)}let o=t[_i];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function wv(e,t){let n=Go(e,t);return n!==void 0&&Rc(n[L],n),n}function Go(e,t){if(e.length<=_e)return;let n=_e+t,r=e[n];if(r){let i=r[hr];i!==null&&i!==e&&_f(i,r),t>0&&(e[n-1][_t]=r[_t]);let o=xo(e,_e+t);eE(r[L],r);let s=o[gr];s!==null&&s.detachView(o[L]),r[ke]=null,r[_t]=null,r[$]&=-129}return r}function HE(e,t,n,r){let i=_e+r,o=n.length;r>0&&(n[i-1][_t]=t),r<o-_e?(t[_t]=n[i],zu(n,_e+r,t)):(n.push(t),t[_t]=null),t[ke]=n;let s=t[hr];s!==null&&n!==s&&bv(s,t);let a=t[gr];a!==null&&a.insertView(e),Ka(t),t[$]|=128}function bv(e,t){let n=e[Po],r=t[ke];if(Wt(r))e[$]|=2;else{let i=r[ke][at];t[at]!==i&&(e[$]|=2)}n===null?e[Po]=[t]:n.push(t)}var Dr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[L];return zo(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ve]}set context(t){this._lView[ve]=t}get destroyed(){return vr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ke];if(kt(t)){let n=t[ko],r=n?n.indexOf(this):-1;r>-1&&(Go(t,r),xo(n,r))}this._attachedToViewContainer=!1}Rc(this._lView[L],this._lView)}onDestroy(t){sd(this._lView,t)}markForCheck(){If(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[$]&=-129}reattach(){Ka(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,pv(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ei(this._lView),n=this._lView[hr];n!==null&&!t&&_f(n,this._lView),nv(this._lView[L],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=t;let n=Ei(this._lView),r=this._lView[hr];r!==null&&!n&&bv(r,this._lView),Ka(this._lView)}};function Pc(e,t,n,r,i){let o=e.data[t];if(o===null)o=zE(e,t,n,r,i),wg()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=mg();o.injectorIndex=s===null?-1:s.injectorIndex}return Ci(o,!0),o}function zE(e,t,n,r,i){let o=ud(),s=dd(),a=s?o:o&&o.parent,c=e.data[t]=WE(e,a,n,t,r,i);return GE(e,c,o,s),c}function GE(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function WE(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return gg()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var VF=new RegExp(`^(\\d+)*(${w0}|${_0})*(.*)`);function qE(e){let t=e[ed]??[],r=e[ke][fe],i=[];for(let o of t)o.data[Om]!==void 0?i.push(o):KE(o,r);e[ed]=i}function KE(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[Am];for(;n<i;){let o=r.nextSibling;$m(t,r,!1),r=o,n++}}}var YE=()=>null,ZE=()=>null;function Hd(e,t){return YE(e,t)}function Ev(e,t,n){return ZE(e,t,n)}var Cv=class{},Fc=class{},zd=class{resolveComponentFactory(t){throw new O(917,!1)}},Xo=class{static NULL=new zd},Sr=class{},Mr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>JE()}return e})();function JE(){let e=re(),t=Be(),n=Et(t.index,e);return(Wt(n)?n:e)[fe]}var Dv=(()=>{class e{static \u0275prov=R({token:e,providedIn:"root",factory:()=>null})}return e})();var oc={},Gd=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,oc,r);return i!==oc||n===oc?i:this.parentInjector.get(t,n,r)}};function mc(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=ku(i,a);else if(o==2){let c=a,l=t[++s];r=ku(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function K(e,t=0){let n=re();if(n===null)return z(e,t);let r=Be();return bm(r,n,Ue(e),t)}function QE(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}tC(e,t,n,a,o,c,l)}o!==null&&r!==null&&XE(n,r,o)}function XE(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new O(-301,!1);r.push(t[i],o)}}function eC(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function tC(e,t,n,r,i,o,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let h=r[p];!c&&qt(h)&&(c=!0,eC(e,n,p)),Nd(uc(n,t),e,h.type)}aC(n,e.data.length,a);for(let p=0;p<a;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=Km(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let h=r[p];if(n.mergedAttrs=Ti(n.mergedAttrs,h.hostAttrs),rC(e,n,t,d,h),sC(d,h,i),s!==null&&s.has(h)){let[m,E]=s.get(h);n.directiveToIndex.set(h.type,[d,m+n.directiveStart,E+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let g=h.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}nC(e,n,o)}function nC(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))Kg(0,t,i,r),Kg(1,t,i,r),Zg(t,r,!1);else{let o=n.get(i);Yg(0,t,o,r),Yg(1,t,o,r),Zg(t,r,!0)}}}function Kg(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Sv(t,o)}}function Yg(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Sv(t,s)}}function Sv(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Zg(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||df(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function rC(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=cr(i.type,!0)),s=new Er(o,qt(i),K,null);e.blueprint[r]=s,n[r]=s,iC(e,t,r,Km(e,n,i.hostVars,En),i)}function iC(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;oC(s)!=a&&s.push(a),s.push(n,r,o)}}function oC(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function sC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;qt(t)&&(n[""]=e)}}function aC(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Iv(e,t,n,r,i,o,s,a){let c=t[L],l=c.consts,u=Kt(l,s),d=Pc(c,e,n,r,u);return o&&QE(c,t,d,Kt(l,a),i),d.mergedAttrs=Ti(d.mergedAttrs,d.attrs),d.attrs!==null&&mc(d,d.attrs,!1),d.mergedAttrs!==null&&mc(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function Tv(e,t){Qb(e,t),td(t)&&e.queries.elementEnd(t)}function cC(e,t,n,r,i,o){let s=t.consts,a=Kt(s,i),c=Pc(t,e,n,r,a);if(c.mergedAttrs=Ti(c.mergedAttrs,c.attrs),o!=null){let l=Kt(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&mc(c,c.attrs,!1),c.mergedAttrs!==null&&mc(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function xr(e,t,n){if(n===En)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function sc(e,t,n){return function r(i){let o=Vn(e)?Et(e.index,t):t;If(o,5);let s=t[ve],a=Jg(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=Jg(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Jg(e,t,n,r){let i=F(null);try{return le(6,t,n),n(r)!==!1}catch(o){return TE(e,o),!1}finally{le(7,t,n),F(i)}}function Mv(e,t,n,r,i,o,s,a){let c=Wa(e),l=!1,u=null;if(!r&&c&&(u=uC(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=Pt(e,n),p=r?r(d):d;E0(n,p,o,a);let h=i.listen(p,o,a);if(!lC(o)){let g=r?m=>r(bt(m[e.index])):e.index;xv(g,t,n,o,a,h,!1)}}return l}function lC(e){return e.startsWith("animation")||e.startsWith("transition")}function uC(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[wi],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function xv(e,t,n,r,i,o,s){let a=t.firstCreatePass?dg(t):null,c=ug(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function Qg(e,t,n,r,i,o){let s=t[n],a=t[L],l=a.data[n].outputs[r],d=s[l].subscribe(o);xv(e.index,a,t,i,o,d,!0)}var Wd=Symbol("BINDING");var vc=class extends Xo{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Ln(t);return new xi(n,this.ngModule)}};function dC(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Oc.SignalBased)!==0};return i&&(o.transform=i),o})}function fC(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function hC(e,t,n){let r=t instanceof Ne?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Gd(n,r):n}function pC(e){let t=e.get(Sr,null);if(t===null)throw new O(407,!1);let n=e.get(Dv,null),r=e.get(hn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function gC(e,t){let n=Av(e);return Vm(t,n,n==="svg"?nd:n==="math"?sg:null)}function Av(e){return(e.selectors[0][0]||"div").toLowerCase()}var xi=class extends Fc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=dC(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=fC(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=U0(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){le(22);let a=F(null);try{let c=this.componentDef,l=mC(r,c,s,o),u=hC(c,i||this.ngModule,t),d=pC(u),p=d.rendererFactory.createRenderer(null,c),h=r?pE(p,r,c.encapsulation,u):gC(c,p),g=s?.some(Xg)||o?.some(b=>typeof b!="function"&&b.bindings.some(Xg)),m=hf(null,l,null,512|qm(c),null,null,d,p,u,null,km(h,u,!0));m[$e]=h,Za(m);let E=null;try{let b=Iv($e,m,2,"#host",()=>l.directiveRegistry,!0,0);Bm(p,h,b),Mi(h,m),ov(l,m,b),Fm(l,b,m),Tv(l,b),n!==void 0&&yC(b,this.ngContentSelectors,n),E=Et(b.index,m),m[ve]=E[ve],Df(l,m,null)}catch(b){throw E!==null&&Pd(E),Pd(m),b}finally{le(23),Ja()}return new yc(this.componentType,m,!!g)}finally{F(a)}}};function mC(e,t,n,r){let i=e?["ng-version","20.3.15"]:$0(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Wd].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let p of d.bindings){a+=p[Wd].requiredVars;let h=u+1;p.create&&(p.targetIdx=h,(o??=[]).push(p)),p.update&&(p.targetIdx=h,(s??=[]).push(p))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,p=Ku(d);c.push(p)}return ff(0,null,vC(o,s),1,a,c,null,null,null,[i],null)}function vC(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Xg(e){let t=e[Wd].kind;return t==="input"||t==="twoWay"}var yc=class extends Cv{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Fo(n[L],$e),this.location=of(this._tNode,n),this.instance=Et(this._tNode.index,n)[ve],this.hostView=this.changeDetectorRef=new Dr(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Cf(r,i[L],i,t,n);this.previousInputValues.set(t,n);let s=Et(r.index,i);If(s,1)}get injector(){return new br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function yC(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var es=(()=>{class e{static __NG_ELEMENT_ID__=_C}return e})();function _C(){let e=Be();return bC(e,re())}var wC=es,Ov=class extends wC{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return of(this._hostTNode,this._hostLView)}get injector(){return new br(this._hostTNode,this._hostLView)}get parentInjector(){let t=rf(this._hostTNode,this._hostLView);if(gm(t)){let n=lc(t,this._hostLView),r=cc(t),i=n[L].data[r+8];return new br(i,n)}else return new br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=em(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-_e}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Hd(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ho(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!qb(t),l;if(c)l=n;else{let E=n||{};l=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef,s=E.directives,a=E.bindings}let u=c?t:new xi(Ln(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let b=(c?d:this.parentInjector).get(Ne,null);b&&(o=b)}let p=Ln(u.componentType??{}),h=Hd(this._lContainer,p?.id??null),g=h?.firstChild??null,m=u.create(d,i,g,o,s,a);return this.insertImpl(m.hostView,l,Ho(this._hostTNode,h)),m}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(ag(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[ke],l=new Ov(c,c[wt],c[ke]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return kc(s,i,o,r),t.attachToViewContainerRef(),zu(Sd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=em(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Go(this._lContainer,n);r&&(xo(Sd(this._lContainer),n),Rc(r[L],r))}detach(t){let n=this._adjustIndex(t,-1),r=Go(this._lContainer,n);return r&&xo(Sd(this._lContainer),n)!=null?new Dr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function em(e){return e[ko]}function Sd(e){return e[ko]||(e[ko]=[])}function bC(e,t){let n,r=t[e.index];return kt(r)?n=r:(n=yv(r,t,null,e),t[e.index]=n,pf(t,n)),CC(n,t,e,r),new Ov(n,e,t)}function EC(e,t){let n=e[fe],r=n.createComment(""),i=Pt(t,e),o=n.parentNode(i);return hc(n,o,r,n.nextSibling(i),!1),r}var CC=IC,DC=()=>!1;function SC(e,t,n){return DC(e,t,n)}function IC(e,t,n,r){if(e[jn])return;let i;n.type&8?i=bt(r):i=EC(t,n),e[jn]=i}var Ai=class{},Lc=class{};var _c=class extends Ai{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new vc(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=qu(t);this._bootstrapComponents=Gm(o.bootstrap),this._r3Injector=md(t,n,[{provide:Ai,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver},...r],fn(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},wc=class extends Lc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new _c(this.moduleType,t,[])}};var Wo=class extends Ai{injector;componentFactoryResolver=new vc(this);instance=null;constructor(t){super();let n=new ur([...t.providers,{provide:Ai,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],t.parent||Ro(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ts(e,t,n=null){return new Wo({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var TC=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Yu(!1,n.type),i=r.length>0?ts([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(z(Ne))})}return e})();function et(e){return Ko(()=>{let t=Rv(e),n=G(D({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===sf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(TC).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||_n.Emulated,styles:e.styles||ut,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Hn("NgStandalone"),Nv(n);let r=e.dependencies;return n.directiveDefs=tm(r,MC),n.pipeDefs=tm(r,Xp),n.id=OC(n),n})}function MC(e){return Ln(e)||Ku(e)}function Cn(e){return Ko(()=>({type:e.type,bootstrap:e.bootstrap||ut,declarations:e.declarations||ut,imports:e.imports||ut,exports:e.exports||ut,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function xC(e,t){if(e==null)return Pn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Oc.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function AC(e){if(e==null)return Pn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ze(e){return Ko(()=>{let t=Rv(e);return Nv(t),t})}function Rv(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Pn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ut,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:xC(e.inputs,t),outputs:AC(e.outputs),debugInfo:null}}function Nv(e){e.features?.forEach(t=>t(e))}function tm(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function OC(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function RC(e){return Object.getPrototypeOf(e.prototype).constructor}function Jt(e){let t=RC(e.type),n=!0,r=[e];for(;t;){let i;if(qt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new O(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Id(e.inputs),s.declaredInputs=Id(e.declaredInputs),s.outputs=Id(e.outputs);let a=i.hostBindings;a&&LC(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&PC(e,c),l&&FC(e,l),NC(e,i),Wp(e.outputs,i.outputs),qt(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Jt&&(n=!1)}}t=Object.getPrototypeOf(t)}kC(r)}function NC(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function kC(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ti(i.hostAttrs,n=Ti(n,i.hostAttrs))}}function Id(e){return e===Pn?{}:e===ut?[]:e}function PC(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function FC(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function LC(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function jC(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Ti(e.mergedAttrs,e.attrs);let u=e.tView=ff(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Ci(e,!1);let c=VC(n,t,e,r);Xa()&&wf(n,t,c,e),Mi(c,t);let l=yv(c,t,c,e);t[r+$e]=l,pf(t,l),SC(l,e,t)}function bc(e,t,n,r,i,o,s,a,c,l,u){let d=n+$e,p;if(t.firstCreatePass){if(p=Pc(t,d,4,s||null,a||null),l!=null){let h=Kt(t.consts,l);p.localNames=[];for(let g=0;g<h.length;g+=2)p.localNames.push(h[g],-1)}}else p=t.data[d];return jC(p,e,t,n,r,i,o,c),l!=null&&Ef(e,p,u),p}var VC=UC;function UC(e,t,n,r){return ec(!0),t[fe].createComment("")}var Tf=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Mf=new N("");function Ar(e){return!!e&&typeof e.then=="function"}function kv(e){return!!e&&typeof e.subscribe=="function"}var Pv=new N("");var xf=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=C(Pv,{optional:!0})??[];injector=C(dt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Qe(this.injector,i);if(Ar(o))n.push(o);else if(kv(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jc=new N("");function Fv(){au(()=>{let e="";throw new O(600,e)})}function Lv(e){return e.isBoundToModule}var $C=10;var zn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(Ct);afterRenderManager=C(Xm);zonelessEnabled=C(Vo);rootEffectScheduler=C(Uo);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new be;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=C(yn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(X(n=>!n))}constructor(){C(Qo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=C(Ne);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=dt.NULL){return this._injector.get(Me).run(()=>{le(10);let s=n instanceof Fc;if(!this._injector.get(xf).done){let g="";throw new O(405,g)}let c;s?c=n:c=this._injector.get(Xo).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=Lv(c)?void 0:this._injector.get(Ai),u=r||c.selector,d=c.create(i,[],u,l),p=d.location.nativeElement,h=d.injector.get(Mf,null);return h?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Bo(this.components,d),h?.unregisterApplication(p)}),this._loadComponent(d),le(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){le(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(mf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new O(101,!1);let n=F(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,F(n),this.afterTick.next(),le(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Sr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<$C;)le(14),this.synchronizeOnce(),le(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Lo(i))continue;let o=r&&!this.zonelessEnabled?0:1;pv(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Lo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Bo(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(jc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new O(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Bo(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Ri(e,t,n,r){let i=re(),o=_r();if(xr(i,o,t)){let s=Ze(),a=Qa();DE(a,i,e,t,n,r)}return Ri}var WF=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Ni(){return re()[at][ve]}var qd=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function Td(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function BC(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=s&&o<=c;){let l=e.at(o),u=t[o],d=Td(o,l,o,u,n);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let p=e.at(s),h=t[c],g=Td(s,p,c,h,n);if(g!==0){g<0&&e.updateValue(s,h),s--,c--;continue}let m=n(o,l),E=n(s,p),b=n(o,u);if(Object.is(b,E)){let Y=n(c,h);Object.is(Y,m)?(e.swap(o,s),e.updateValue(s,h),c--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(r??=new Ec,i??=rm(e,o,s,n),Kd(e,r,o,b))e.updateValue(o,u),o++,s++;else if(i.has(b))r.set(m,e.detach(o)),s--;else{let Y=e.create(o,t[o]);e.attach(o,Y),o++,s++}}for(;o<=c;)nm(e,r,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=e.at(o),d=l.value,p=Td(o,u,o,d,n);if(p!==0)p<0&&e.updateValue(o,d),o++,l=c.next();else{r??=new Ec,i??=rm(e,o,s,n);let h=n(o,d);if(Kd(e,r,o,h))e.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(h))e.attach(o,e.create(o,d)),o++,s++,l=c.next();else{let g=n(o,u);r.set(g,e.detach(o)),s--}}}for(;!l.done;)nm(e,r,n,e.length,l.value),l=c.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function Kd(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function nm(e,t,n,r,i){if(Kd(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function rm(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var Ec=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function Z(e,t,n,r,i,o,s,a){Hn("NgControlFlow");let c=re(),l=Ze(),u=Kt(l.consts,o);return bc(c,l,e,t,n,r,i,u,256,s,a),Af}function Af(e,t,n,r,i,o,s,a){Hn("NgControlFlow");let c=re(),l=Ze(),u=Kt(l.consts,o);return bc(c,l,e,t,n,r,i,u,512,s,a),Af}function J(e,t){Hn("NgControlFlow");let n=re(),r=_r(),i=n[r]!==En?n[r]:-1,o=i!==-1?Cc(n,$e+i):void 0,s=0;if(xr(n,r,e)){let a=F(null);try{if(o!==void 0&&wv(o,s),e!==-1){let c=$e+e,l=Cc(n,c),u=Qd(n[L],c),d=Ev(l,u,n),p=Sf(n,u,t,{dehydratedView:d});kc(l,p,s,Ho(u,d))}}finally{F(a)}}else if(o!==void 0){let a=_v(o,s);a!==void 0&&(a[ve]=t)}}var Yd=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-_e}};function Of(e){return e}function Qt(e,t){return t}var Zd=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Pe(e,t,n,r,i,o,s,a,c,l,u,d,p){Hn("NgControlFlow");let h=re(),g=Ze(),m=c!==void 0,E=re(),b=a?s.bind(E[at][ve]):s,Y=new Zd(m,b);E[$e+e]=Y,bc(h,g,e+1,t,n,r,i,Kt(g.consts,o),256),m&&bc(h,g,e+2,c,l,u,d,Kt(g.consts,p),512)}var Jd=class extends qd{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-_e}at(t){return this.getLView(t)[ve].$implicit}attach(t,n){let r=n[_i];this.needsIndexUpdate||=t!==this.length,kc(this.lContainer,n,t,Ho(this.templateTNode,r)),HC(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,zC(this.lContainer,t),GC(this.lContainer,t)}create(t,n){let r=Hd(this.lContainer,this.templateTNode.tView.ssrId),i=Sf(this.hostLView,this.templateTNode,new Yd(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){Rc(t[L],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[ve].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ve].$index=t}getLView(t){return WC(this.lContainer,t)}};function Fe(e){let t=F(null),n=Un();try{let r=re(),i=r[L],o=r[n],s=n+1,a=Cc(r,s);if(o.liveCollection===void 0){let l=Qd(i,s);o.liveCollection=new Jd(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(BC(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=_r(),u=c.length===0;if(xr(r,l,u)){let d=n+2,p=Cc(r,d);if(u){let h=Qd(i,d),g=Ev(p,h,r),m=Sf(r,h,void 0,{dehydratedView:g});kc(p,m,0,Ho(h,g))}else i.firstUpdatePass&&qE(p),wv(p,0)}}}finally{F(t)}}function Cc(e,t){return e[t]}function HC(e,t){if(e.length<=_e)return;let n=_e+t,r=e[n],i=r?r[mr]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[gn];Q0(o,i),Cr.delete(r),i.detachedLeaveAnimationFns=void 0}}function zC(e,t){if(e.length<=_e)return;let n=_e+t,r=e[n],i=r?r[mr]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function GC(e,t){return Go(e,t)}function WC(e,t){return _v(e,t)}function Qd(e,t){return Fo(e,t)}function Ge(e,t,n){let r=re(),i=_r();if(xr(r,i,t)){let o=Ze(),s=Qa();sv(s,r,e,t,r[fe],n)}return Ge}function im(e,t,n,r,i){Cf(t,e,n,i?"class":"style",r)}function w(e,t,n,r){let i=re(),o=i[L],s=e+$e,a=o.firstCreatePass?Iv(s,i,2,t,CE,pg(),n,r):o.data[s];if(av(a,i,e,t,jv),Wa(a)){let c=i[L];ov(c,i,a),Fm(c,a,i)}return r!=null&&Ef(i,a),w}function _(){let e=Ze(),t=Be(),n=cv(t);return e.firstCreatePass&&Tv(e,n),cd(n)&&ld(),ad(),n.classesWithoutHost!=null&&e0(n)&&im(e,n,re(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&t0(n)&&im(e,n,re(),n.stylesWithoutHost,!1),_}function Dt(e,t,n,r){return w(e,t,n,r),_(),Dt}function I(e,t,n,r){let i=re(),o=i[L],s=e+$e,a=o.firstCreatePass?cC(s,o,2,t,n,r):o.data[s];return av(a,i,e,t,jv),r!=null&&Ef(i,a),I}function T(){let e=Be(),t=cv(e);return cd(t)&&ld(),ad(),T}function Lt(e,t,n,r){return I(e,t,n,r),T(),Lt}var jv=(e,t,n,r,i)=>(ec(!0),Vm(t[fe],r,Mg()));function he(){return re()}var ns="en-US";var qC=ns;function Vv(e){typeof e=="string"&&(qC=e.toLowerCase().replace(/_/g,"-"))}function ee(e,t,n){let r=re(),i=Ze(),o=Be();return Uv(i,r,r[fe],o,e,t,n),ee}function tt(e,t,n){let r=re(),i=Ze(),o=Be();return(o.type&3||n)&&Mv(o,i,r,n,r[fe],e,t,sc(o,r,t)),tt}function Uv(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=sc(r,t,o),Mv(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let p=u[d],h=u[d+1];c??=sc(r,t,o),Qg(r,t,p,h,i,c)}if(l&&l.length)for(let d of l)c??=sc(r,t,o),Qg(r,t,d,i,i,c)}}function S(e=1){return Tg(e)}function nc(e,t){return e<<17|t<<2}function Ir(e){return e>>17&32767}function KC(e){return(e&2)==2}function YC(e,t){return e&131071|t<<17}function Xd(e){return e|2}function Oi(e){return(e&131068)>>2}function Md(e,t){return e&-131069|t<<2}function ZC(e){return(e&1)===1}function ef(e){return e|1}function JC(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Ir(s),c=Oi(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||yi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let p=Ir(e[a+1]);e[r+1]=nc(p,a),p!==0&&(e[p+1]=Md(e[p+1],r)),e[a+1]=YC(e[a+1],r)}else e[r+1]=nc(a,0),a!==0&&(e[a+1]=Md(e[a+1],r)),a=r;else e[r+1]=nc(c,0),a===0?a=r:e[c+1]=Md(e[c+1],r),c=r;l&&(e[r+1]=Xd(e[r+1])),om(e,u,r,!0),om(e,u,r,!1),QC(t,u,e,r,o),s=nc(a,c),o?t.classBindings=s:t.styleBindings=s}function QC(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&yi(o,t)>=0&&(n[r+1]=ef(n[r+1]))}function om(e,t,n,r){let i=e[n+1],o=t===null,s=r?Ir(i):Oi(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];XC(c,t)&&(a=!0,e[s+1]=r?ef(l):Xd(l)),s=r?Ir(l):Oi(l)}a&&(e[n+1]=r?Xd(i):ef(i))}function XC(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?yi(e,t)>=0:!1}function ae(e,t){return eD(e,t,null,!0),ae}function eD(e,t,n,r){let i=re(),o=Ze(),s=_g(2);if(o.firstUpdatePass&&nD(o,e,s,r),t!==En&&xr(i,s,t)){let a=o.data[Un()];aD(o,a,i,i[fe],e,i[s+1]=cD(t,n),r,s)}}function tD(e,t){return t>=e.expandoStartIndex}function nD(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Un()],s=tD(e,n);lD(o,r)&&t===null&&!s&&(t=!1),t=rD(i,o,t,r),JC(i,o,t,n,s,r)}}function rD(e,t,n,r){let i=Cg(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=xd(null,e,t,n,r),n=qo(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=xd(i,e,t,n,r),o===null){let c=iD(e,t,r);c!==void 0&&Array.isArray(c)&&(c=xd(null,e,t,c[1],r),c=qo(c,t.attrs,r),oD(e,t,r,c))}else o=sD(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function iD(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Oi(r)!==0)return e[Ir(r)]}function oD(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Ir(i)]=r}function sD(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=qo(r,s,n)}return qo(r,t.attrs,n)}function xd(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=qo(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function qo(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Qp(e,s,n?!0:t[++o]))}return e===void 0?null:e}function aD(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=ZC(l)?sm(c,t,n,i,Oi(l),s):void 0;if(!Dc(u)){Dc(o)||KC(l)&&(o=sm(c,null,n,i,a,s));let d=rd(Un(),n);hE(r,s,d,i,o)}}function sm(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=n[i+1];p===En&&(p=d?ut:void 0);let h=d?Ha(p,r):u===r?p:void 0;if(l&&!Dc(h)&&(h=Ha(c,r)),Dc(h)&&(a=h,s))return a;let g=e[i+1];i=s?Ir(g):Oi(g)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Ha(c,r))}return a}function Dc(e){return e!==void 0}function cD(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=fn(xc(e)))),e}function lD(e,t){return(e.flags&(t?8:16))!==0}function v(e,t=""){let n=re(),r=Ze(),i=e+$e,o=r.firstCreatePass?Pc(r,i,1,t,null):r.data[i],s=uD(r,n,o,t,e);n[i]=s,Xa()&&wf(r,n,s,o),Ci(o,!1)}var uD=(e,t,n,r,i)=>(ec(!0),I0(t[fe],r));function dD(e,t,n,r=""){return xr(e,_r(),n)?t+Mo(n)+r:En}function ce(e){return St("",e),ce}function St(e,t,n){let r=re(),i=dD(r,e,t,n);return i!==En&&fD(r,Un(),i),St}function fD(e,t,n){let r=rd(t,e);T0(e[fe],r,n)}function De(e,t,n){_d(t)&&(t=t());let r=re(),i=_r();if(xr(r,i,t)){let o=Ze(),s=Qa();sv(s,r,e,t,r[fe],n)}return De}function xe(e,t){let n=_d(e);return n&&e.set(t),n}function Se(e,t){let n=re(),r=Ze(),i=Be();return Uv(r,n,n[fe],i,e,t),Se}function hD(e,t,n){let r=Ze();if(r.firstCreatePass){let i=qt(e);tf(n,r.data,r.blueprint,i,!0),tf(t,r.data,r.blueprint,i,!1)}}function tf(e,t,n,r,i){if(e=Ue(e),Array.isArray(e))for(let o=0;o<e.length;o++)tf(e[o],t,n,r,i);else{let o=Ze(),s=re(),a=Be(),c=lr(e)?e:Ue(e.provide),l=Ju(e),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(lr(e)||!e.multi){let h=new Er(l,i,K,null),g=Od(c,t,i?u:u+p,d);g===-1?(Nd(uc(a,s),o,c),Ad(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{let h=Od(c,t,u+p,d),g=Od(c,t,u,u+p),m=h>=0&&n[h],E=g>=0&&n[g];if(i&&!E||!i&&!m){Nd(uc(a,s),o,c);let b=mD(i?gD:pD,n.length,i,r,l,e);!i&&E&&(n[g].providerFactory=b),Ad(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),s.push(b)}else{let b=$v(n[i?g:h],l,!i&&r);Ad(o,e,h>-1?h:g,b)}!i&&r&&E&&n[g].componentProviders++}}}function Ad(e,t,n,r){let i=lr(t),o=rg(t);if(i||o){let c=(o?Ue(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function $v(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Od(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function pD(e,t,n,r,i){return nf(this.multi,[])}function gD(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=dc(r,r[L],this.providerFactory.index,i);s=c.slice(0,a),nf(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],nf(o,s);return s}function nf(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function mD(e,t,n,r,i,o){let s=new Er(e,n,K,null);return s.multi=[],s.index=t,s.componentProviders=0,$v(s,i,r&&!n),s}function ki(e,t=[]){return n=>{n.providersResolver=(r,i)=>hD(r,i?i(e):e,t)}}var Sc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Rf=(()=>{class e{compileModuleSync(n){return new wc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=qu(n),o=Gm(i.declarations).reduce((s,a)=>{let c=Ln(a);return c&&s.push(new xi(c)),s},[]);return new Sc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var vD=(()=>{class e{zone=C(Me);changeDetectionScheduler=C(hn);applicationRef=C(zn);applicationErrorHandler=C(Ct);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bv=new N("",{factory:()=>!1});function Nf({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Me(G(D({},Pf()),{scheduleInRootZone:n})),[{provide:Me,useFactory:e},{provide:Fn,multi:!0,useFactory:()=>{let r=C(vD,{optional:!0});return()=>r.initialize()}},{provide:Fn,multi:!0,useFactory:()=>{let r=C(yD);return()=>{r.initialize()}}},t===!0?{provide:wd,useValue:!0}:[],{provide:bd,useValue:n??Zm},{provide:Ct,useFactory:()=>{let r=C(Me),i=C(Ne),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Rt),o.handleError(s))})}}}]}function kf(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=Nf({ngZoneFactory:()=>{let i=Pf(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Hn("NgZone_CoalesceEvent"),new Me(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Ao([{provide:Bv,useValue:!0},{provide:Vo,useValue:!1},r])}function Pf(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var yD=(()=>{class e{subscription=new we;initialized=!1;zone=C(Me);pendingTasks=C(yn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Hv=(()=>{class e{applicationErrorHandler=C(Ct);appRef=C(zn);taskService=C(yn);ngZone=C(Me);zonelessEnabled=C(Vo);tracing=C(Qo,{optional:!0});disableScheduling=C(wd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new we;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(pc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(bd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Bg:Jm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(pc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Bg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _D(){return typeof $localize<"u"&&$localize.locale||ns}var Ff=new N("",{providedIn:"root",factory:()=>C(Ff,{optional:!0,skipSelf:!0})||_D()});function We(e){return $p(e)}function Pi(e,t){return la(e,t?.equal)}var Lf=class{[Ye];constructor(t){this[Ye]=t}destroy(){this[Ye].destroy()}};function jf(e,t){let n=t?.injector??C(dt),r=t?.manualCleanup!==!0?n.get(vn):null,i,o=n.get(jo,null,{optional:!0}),s=n.get(hn);return o!==null?(i=ED(o.view,s,e),r instanceof So&&r._lView===o.view&&(r=null)):i=CD(e,n.get(Uo),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Lf(i)}var zv=G(D({},Bp),{cleanupFns:void 0,zone:null,onDestroyFn:wr,run(){let e=Di(!1);try{Hp(this)}finally{Di(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=F(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],F(e)}}}),wD=G(D({},zv),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){tr(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),bD=G(D({},zv),{consumerMarkedDirty(){this.view[$]|=8192,yr(this.view),this.notifier.notify(13)},destroy(){tr(this),this.onDestroyFn(),this.cleanup(),this.view[mn]?.delete(this)}});function ED(e,t,n){let r=Object.create(bD);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=Gv(r,n),e[mn]??=new Set,e[mn].add(r),r.consumerMarkedDirty(r),r}function CD(e,t,n){let r=Object.create(wD);return r.fn=Gv(r,e),r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function Gv(e,t){return()=>{t(n=>(e.cleanupFns??=[]).push(n))}}var Kv=Symbol("InputSignalNode#UNSET"),VD=G(D({},ua),{transformFn:void 0,applyValueToInputSignal(e,t){ii(e,t)}});function Yv(e,t){let n=Object.create(VD);n.value=e,n.transformFn=t?.transform;function r(){if(ei(n),n.value===Kv){let i=null;throw new O(-950,i)}return n.value}return r[Ye]=n,r}var Uc=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Yo(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},UD=new N("");UD.__NG_ELEMENT_ID__=e=>{let t=Be();if(t===null)throw new O(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new O(204,!1)};function Wv(e,t){return Yv(e,t)}function $D(e){return Yv(Kv,e)}var Zv=(Wv.required=$D,Wv);var Vf=new N(""),BD=new N("");function rs(e){return!e.moduleRef}function HD(e){let t=rs(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Me);return n.run(()=>{rs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Ct),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),rs(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Vf);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Vf);s.add(o),e.moduleRef.onDestroy(()=>{Bo(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return GD(r,n,()=>{let o=t.get(yn),s=o.add(),a=t.get(xf);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Ff,ns);if(Vv(c||ns),!t.get(BD,!0))return rs(e)?t.get(zn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(rs(e)){let u=t.get(zn);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return zD?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var zD;function GD(e,t,n){try{let r=n();return Ar(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Vc=null;function WD(e=[],t){return dt.create({name:t,providers:[{provide:Oo,useValue:"platform"},{provide:Vf,useValue:new Set([()=>Vc=null])},...e]})}function qD(e=[]){if(Vc)return Vc;let t=WD(e);return Vc=t,Fv(),KD(t),t}function KD(e){let t=e.get(Tc,null);Qe(e,()=>{t?.forEach(n=>n())})}var Li=(()=>{class e{static __NG_ELEMENT_ID__=YD}return e})();function YD(e){return ZD(Be(),re(),(e&16)===16)}function ZD(e,t,n){if(Vn(e)&&!n){let r=Et(e.index,t);return new Dr(r,r)}else if(e.type&175){let r=t[at];return new Dr(r,t)}return null}function Jv(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;le(8);try{let o=i?.injector??qD(r),s=[Nf({}),{provide:hn,useExisting:Hv},Ag,...n||[]],a=new Wo({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return HD({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{le(9)}}function Or(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var ey=null;function It(){return ey}function Uf(e){ey??=e}var is=class{},os=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>C(ty),providedIn:"platform"})}return e})();var ty=(()=>{class e extends os{_location;_history;_doc=C(He);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return It().getBaseHref(this._doc)}onPopState(n){let r=It().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=It().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function $c(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Qv(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function jt(e){return e&&e[0]!=="?"?`?${e}`:e}var Xt=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>C($f),providedIn:"root"})}return e})(),Bc=new N(""),$f=(()=>{class e extends Xt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return $c(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+jt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+jt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+jt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(z(os),z(Bc,8))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Rr=(()=>{class e{_subject=new be;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=XD(Qv(Xv(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+jt(r))}normalize(n){return e.stripTrailingSlash(QD(this._basePath,Xv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=jt;static joinWithSlash=$c;static stripTrailingSlash=Qv;static \u0275fac=function(r){return new(r||e)(z(Xt))};static \u0275prov=R({token:e,factory:()=>JD(),providedIn:"root"})}return e})();function JD(){return new Rr(z(Xt))}function QD(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Xv(e){return e.replace(/\/index.html$/,"")}function XD(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Bf=(()=>{class e extends Xt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=$c(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+jt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+jt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(z(os),z(Bc,8))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})();var Tt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Cn({type:e});static \u0275inj=zt({})}return e})();function Hf(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var ss=class{};var ny="browser";var as=class{_doc;constructor(t){this._doc=t}manager},Hc=(()=>{class e extends as{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(z(He))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),Gc=new N(""),Kf=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof Hc));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof Hc);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(z(Gc),z(Me))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),zf="ng-app-id";function ry(e){for(let t of e)t.remove()}function iy(e,t){let n=t.createElement("style");return n.textContent=e,n}function rS(e,t,n,r){let i=e.head?.querySelectorAll(`style[${zf}="${t}"],link[${zf}="${t}"]`);if(i)for(let o of i)o.removeAttribute(zf),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Wf(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Yf=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,rS(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,iy);r?.forEach(i=>this.addUsage(i,this.external,Wf))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(ry(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])ry(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,iy(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Wf(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(z(He),z(Ic),z(Mc,8),z(Zo))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),Gf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zf=/%COMP%/g;var sy="%COMP%",iS=`_nghost-${sy}`,oS=`_ngcontent-${sy}`,sS=!0,aS=new N("",{providedIn:"root",factory:()=>sS});function cS(e){return oS.replace(Zf,e)}function lS(e){return iS.replace(Zf,e)}function ay(e,t){return t.map(n=>n.replace(Zf,e))}var Jf=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new cs(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof zc?i.applyToHost(n):i instanceof ls&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case _n.Emulated:o=new zc(c,l,r,this.appId,u,s,a,d,p);break;case _n.ShadowDom:return new qf(c,l,n,r,s,a,this.nonce,d,p);default:o=new ls(c,l,r,u,s,a,d,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(z(Kf),z(Yf),z(Ic),z(aS),z(He),z(Me),z(Mc),z(Qo,8))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),cs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Gf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(oy(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(oy(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new O(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Gf[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Gf[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(wn.DashCase|wn.Important)?t.style.setProperty(n,r,i&wn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&wn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=It().getGlobalEventTarget(this.doc,t),!t))throw new O(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function oy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var qf=class extends cs{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=ay(i.id,u);for(let p of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=p,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let p of d){let h=Wf(p,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ls=class extends cs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?ay(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Cr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},zc=class extends ls{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,l,u),this.contentAttr=cS(u),this.hostAttr=lS(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Wc=class e extends is{supportsDOMEvents=!0;static makeCurrent(){Uf(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=uS();return n==null?null:dS(n)}resetBaseElement(){us=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Hf(document.cookie,t)}},us=null;function uS(){return us=us||document.head.querySelector("base"),us?us.getAttribute("href"):null}function dS(e){return new URL(e,document.baseURI).pathname}var fS=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),cy=["alt","control","meta","shift"],hS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pS={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ly=(()=>{class e extends as{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>It().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),cy.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=hS[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),cy.forEach(s=>{if(s!==i){let a=pS[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(z(He))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})();function Qf(e,t,n){let r=D({rootComponent:e,platformRef:n?.platformRef},gS(t));return Jv(r)}function gS(e){return{appProviders:[...wS,...e?.providers??[]],platformProviders:_S}}function mS(){Wc.makeCurrent()}function vS(){return new Rt}function yS(){return af(document),document}var _S=[{provide:Zo,useValue:ny},{provide:Tc,useValue:mS,multi:!0},{provide:He,useFactory:yS}];var wS=[{provide:Oo,useValue:"root"},{provide:Rt,useFactory:vS},{provide:Gc,useClass:Hc,multi:!0,deps:[He]},{provide:Gc,useClass:ly,multi:!0,deps:[He]},Jf,Yf,Kf,{provide:Sr,useExisting:Jf},{provide:ss,useClass:fS},[]];var uy=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(z(He))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var B="primary",Ss=Symbol("RouteTitle"),rh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Pr(e){return new rh(e)}function yy(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ES(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!en(e[n],t[n]))return!1;return!0}function en(e,t){let n=e?ih(e):void 0,r=t?ih(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!_y(e[i],t[i]))return!1;return!0}function ih(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function _y(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function wy(e){return e.length>0?e[e.length-1]:null}function In(e){return _u(e)?e:Ar(e)?me(Promise.resolve(e)):U(e)}var CS={exact:Ey,subset:Cy},by={exact:DS,subset:SS,ignored:()=>!0};function dy(e,t,n){return CS[n.paths](e.root,t.root,n.matrixParams)&&by[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function DS(e,t){return en(e,t)}function Ey(e,t,n){if(!Nr(e.segments,t.segments)||!Yc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Ey(e.children[r],t.children[r],n))return!1;return!0}function SS(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>_y(e[n],t[n]))}function Cy(e,t,n){return Dy(e,t,t.segments,n)}function Dy(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Nr(i,n)||t.hasChildren()||!Yc(i,n,r))}else if(e.segments.length===n.length){if(!Nr(e.segments,n)||!Yc(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!Cy(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Nr(e.segments,i)||!Yc(e.segments,i,r)||!e.children[B]?!1:Dy(e.children[B],t,o,r)}}function Yc(e,t,n){return t.every((r,i)=>by[n](e[i].parameters,r.parameters))}var nn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ie([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Pr(this.queryParams),this._queryParamMap}toString(){return MS.serialize(this)}},ie=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zc(this)}},Gn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Pr(this.parameters),this._parameterMap}toString(){return Iy(this)}};function IS(e,t){return Nr(e,t)&&e.every((n,r)=>en(n.parameters,t[r].parameters))}function Nr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function TS(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===B&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==B&&(n=n.concat(t(i,r)))}),n}var Is=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>new Fr,providedIn:"root"})}return e})(),Fr=class{parse(t){let n=new sh(t);return new nn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ds(t.root,!0)}`,r=OS(t.queryParams),i=typeof t.fragment=="string"?`#${xS(t.fragment)}`:"";return`${n}${r}${i}`}},MS=new Fr;function Zc(e){return e.segments.map(t=>Iy(t)).join("/")}function ds(e,t){if(!e.hasChildren())return Zc(e);if(t){let n=e.children[B]?ds(e.children[B],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==B&&r.push(`${i}:${ds(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=TS(e,(r,i)=>i===B?[ds(e.children[B],!1)]:[`${i}:${ds(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[B]!=null?`${Zc(e)}/${n[0]}`:`${Zc(e)}/(${n.join("//")})`}}function Sy(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qc(e){return Sy(e).replace(/%3B/gi,";")}function xS(e){return encodeURI(e)}function oh(e){return Sy(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jc(e){return decodeURIComponent(e)}function fy(e){return Jc(e.replace(/\+/g,"%20"))}function Iy(e){return`${oh(e.path)}${AS(e.parameters)}`}function AS(e){return Object.entries(e).map(([t,n])=>`;${oh(t)}=${oh(n)}`).join("")}function OS(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${qc(n)}=${qc(i)}`).join("&"):`${qc(n)}=${qc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var RS=/^[^\/()?;#]+/;function Xf(e){let t=e.match(RS);return t?t[0]:""}var NS=/^[^\/()?;=#]+/;function kS(e){let t=e.match(NS);return t?t[0]:""}var PS=/^[^=?&#]+/;function FS(e){let t=e.match(PS);return t?t[0]:""}var LS=/^[^&#]+/;function jS(e){let t=e.match(LS);return t?t[0]:""}var sh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[B]=new ie(t,n)),r}parseSegment(){let t=Xf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(t),new Gn(Jc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=kS(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Xf(this.remaining);i&&(r=i,this.capture(r))}t[Jc(n)]=Jc(r)}parseQueryParam(t){let n=FS(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=jS(this.remaining);s&&(r=s,this.capture(r))}let i=fy(n),o=fy(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Xf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new O(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=B);let s=this.parseChildren();n[o??B]=Object.keys(s).length===1&&s[B]?s[B]:new ie([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new O(4011,!1)}};function Ty(e){return e.segments.length>0?new ie([],{[B]:e}):e}function My(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=My(i);if(r===B&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ie(e.segments,t);return VS(n)}function VS(e){if(e.numberOfChildren===1&&e.children[B]){let t=e.children[B];return new ie(e.segments.concat(t.segments),t.children)}return e}function Wn(e){return e instanceof nn}function xy(e,t,n=null,r=null){let i=Ay(e);return Oy(i,t,n,r)}function Ay(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ie(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=Ty(r);return t??i}function Oy(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return eh(i,i,i,n,r);let o=US(t);if(o.toRoot())return eh(i,i,new ie([],{}),n,r);let s=$S(o,i,e),a=s.processChildren?hs(s.segmentGroup,s.index,o.commands):Ny(s.segmentGroup,s.index,o.commands);return eh(i,s.segmentGroup,a,n,r)}function Qc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ms(e){return typeof e=="object"&&e!=null&&e.outlets}function eh(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=Ry(e,t,n);let a=Ty(My(s));return new nn(a,o,i)}function Ry(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Ry(o,t,n)}),new ie(e.segments,r)}var Xc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Qc(r[0]))throw new O(4003,!1);let i=r.find(ms);if(i&&i!==wy(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function US(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Xc(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Xc(n,t,r)}var Ui=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function $S(e,t,n){if(e.isAbsolute)return new Ui(t,!0,0);if(!n)return new Ui(t,!1,NaN);if(n.parent===null)return new Ui(n,!0,0);let r=Qc(e.commands[0])?0:1,i=n.segments.length-1+r;return BS(n,i,e.numberOfDoubleDots)}function BS(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new Ui(r,!1,i-o)}function HS(e){return ms(e[0])?e[0].outlets:{[B]:e}}function Ny(e,t,n){if(e??=new ie([],{}),e.segments.length===0&&e.hasChildren())return hs(e,t,n);let r=zS(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ie(e.segments.slice(0,r.pathIndex),{});return o.children[B]=new ie(e.segments.slice(r.pathIndex),e.children),hs(o,0,i)}else return r.match&&i.length===0?new ie(e.segments,{}):r.match&&!e.hasChildren()?ah(e,t,n):r.match?hs(e,0,i):ah(e,t,n)}function hs(e,t,n){if(n.length===0)return new ie(e.segments,{});{let r=HS(n),i={};if(Object.keys(r).some(o=>o!==B)&&e.children[B]&&e.numberOfChildren===1&&e.children[B].segments.length===0){let o=hs(e.children[B],t,n);return new ie(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Ny(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ie(e.segments,i)}}function zS(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(ms(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!py(c,l,s))return o;r+=2}else{if(!py(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ah(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(ms(o)){let c=GS(o.outlets);return new ie(r,c)}if(i===0&&Qc(n[0])){let c=e.segments[t];r.push(new Gn(c.path,hy(n[0]))),i++;continue}let s=ms(o)?o.outlets[B]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Qc(a)?(r.push(new Gn(s,hy(a))),i+=2):(r.push(new Gn(s,{})),i++)}return new ie(r,{})}function GS(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=ah(new ie([],{}),0,r))}),t}function hy(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function py(e,t,n){return e==n.path&&en(t,n.parameters)}var ps="imperative",Le=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Le||{}),pt=class{id;url;constructor(t,n){this.id=t,this.url=n}},Lr=class extends pt{type=Le.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rn=class extends pt{urlAfterRedirects;type=Le.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},nt=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(nt||{}),vs=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(vs||{}),tn=class extends pt{reason;code;type=Le.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dn=class extends pt{reason;code;type=Le.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Bi=class extends pt{error;target;type=Le.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ys=class extends pt{urlAfterRedirects;state;type=Le.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},el=class extends pt{urlAfterRedirects;state;type=Le.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tl=class extends pt{urlAfterRedirects;state;shouldActivate;type=Le.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nl=class extends pt{urlAfterRedirects;state;type=Le.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rl=class extends pt{urlAfterRedirects;state;type=Le.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class{route;type=Le.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ol=class{route;type=Le.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sl=class{snapshot;type=Le.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},al=class{snapshot;type=Le.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cl=class{snapshot;type=Le.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ll=class{snapshot;type=Le.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var _s=class{},Hi=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function WS(e){return!(e instanceof _s)&&!(e instanceof Hi)}function qS(e,t){return e.providers&&!e._injector&&(e._injector=ts(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Vt(e){return e.outlet||B}function KS(e,t){let n=e.filter(r=>Vt(r)===t);return n.push(...e.filter(r=>Vt(r)!==t)),n}function Wi(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ul=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Wi(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new qi(this.rootInjector)}},qi=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ul(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(z(Ne))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dl=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=ch(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=ch(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=lh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return lh(t,this._root).map(n=>n.value)}};function ch(e,t){if(e===t.value)return t;for(let n of t.children){let r=ch(e,n);if(r)return r}return null}function lh(e,t){if(e===t.value)return[t];for(let n of t.children){let r=lh(e,n);if(r.length)return r.unshift(t),r}return[]}var ht=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Vi(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ws=class extends dl{snapshot;constructor(t,n){super(t),this.snapshot=n,vh(this,t)}toString(){return this.snapshot.toString()}};function ky(e){let t=YS(e),n=new Ve([new Gn("",{})]),r=new Ve({}),i=new Ve({}),o=new Ve({}),s=new Ve(""),a=new Sn(n,r,o,s,i,B,e,t.root);return a.snapshot=t.root,new ws(new ht(a,[]),t)}function YS(e){let t={},n={},r={},o=new kr([],t,r,"",n,B,e,null,{});return new bs("",new ht(o,[]))}var Sn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(X(l=>l[Ss]))??U(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(t=>Pr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(t=>Pr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fl(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:D(D({},t.params),e.params),data:D(D({},t.data),e.data),resolve:D(D(D(D({},e.data),t.data),i?.data),e._resolvedData)}:r={params:D({},e.params),data:D({},e.data),resolve:D(D({},e.data),e._resolvedData??{})},i&&Fy(i)&&(r.resolve[Ss]=i.title),r}var kr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ss]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},bs=class extends dl{url;constructor(t,n){super(n),this.url=t,vh(this,n)}toString(){return Py(this._root)}};function vh(e,t){t.value._routerState=e,t.children.forEach(n=>vh(e,n))}function Py(e){let t=e.children.length>0?` { ${e.children.map(Py).join(", ")} } `:"";return`${e.value}${t}`}function th(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,en(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),en(t.params,n.params)||e.paramsSubject.next(n.params),ES(t.url,n.url)||e.urlSubject.next(n.url),en(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function uh(e,t){let n=en(e.params,t.params)&&IS(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||uh(e.parent,t.parent))}function Fy(e){return typeof e.title=="string"||e.title===null}var Ly=new N(""),Ts=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=B;activateEvents=new Ce;deactivateEvents=new Ce;attachEvents=new Ce;detachEvents=new Ce;routerOutletData=Zv();parentContexts=C(qi);location=C(es);changeDetector=C(Li);inputBinder=C(ml,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new dh(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ze({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[bn]})}return e})(),dh=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Sn?this.route:t===qi?this.childContexts:t===Ly?this.outletData:this.parent.get(t,n)}},ml=new N("");var yh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=et({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Dt(0,"router-outlet")},dependencies:[Ts],encapsulation:2})}return e})();function _h(e){let t=e.children&&e.children.map(_h),n=t?G(D({},e),{children:t}):D({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==B&&(n.component=yh),n}function ZS(e,t,n){let r=Es(e,t._root,n?n._root:void 0);return new ws(r,t)}function Es(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=JS(e,t,n);return new ht(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Es(e,a)),s}}let r=QS(t.value),i=t.children.map(o=>Es(e,o));return new ht(r,i)}}function JS(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Es(e,r,i);return Es(e,r)})}function QS(e){return new Sn(new Ve(e.url),new Ve(e.params),new Ve(e.queryParams),new Ve(e.fragment),new Ve(e.data),e.outlet,e.component,e)}var zi=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},jy="ngNavigationCancelingError";function hl(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Wn(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Vy(!1,nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Vy(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[jy]=!0,n.cancellationCode=t,n}function XS(e){return Uy(e)&&Wn(e.url)}function Uy(e){return!!e&&e[jy]}var eI=(e,t,n,r)=>X(i=>(new fh(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),fh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),th(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Vi(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Vi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Vi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Vi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ll(o.value.snapshot))}),t.children.length&&this.forwardEvent(new al(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(th(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),th(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},pl=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},$i=class{component;route;constructor(t,n){this.component=t,this.route=n}};function tI(e,t,n){let r=e._root,i=t?t._root:null;return fs(r,i,n,[r.value])}function nI(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ki(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Fu(e)?e:t.get(e):r}function fs(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Vi(t);return e.children.forEach(s=>{rI(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>gs(a,n.getContext(s),i)),i}function rI(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=iI(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new pl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?fs(e,t,a?a.children:null,r,i):fs(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $i(a.outlet.component,s))}else s&&gs(t,a,i),i.canActivateChecks.push(new pl(r)),o.component?fs(e,null,a?a.children:null,r,i):fs(e,null,n,r,i);return i}function iI(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Nr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Nr(e.url,t.url)||!en(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uh(e,t)||!en(e.queryParams,t.queryParams);case"paramsChange":default:return!uh(e,t)}}function gs(e,t,n){let r=Vi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?gs(s,t.children.getContext(o),n):gs(s,null,n):gs(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new $i(t.outlet.component,i)):n.canDeactivateChecks.push(new $i(null,i)):n.canDeactivateChecks.push(new $i(null,i))}function Ms(e){return typeof e=="function"}function oI(e){return typeof e=="boolean"}function sI(e){return e&&Ms(e.canLoad)}function aI(e){return e&&Ms(e.canActivate)}function cI(e){return e&&Ms(e.canActivateChild)}function lI(e){return e&&Ms(e.canDeactivate)}function uI(e){return e&&Ms(e.canMatch)}function $y(e){return e instanceof cn||e?.name==="EmptyError"}var Kc=Symbol("INITIAL_VALUE");function Gi(){return st(e=>Na(e.map(t=>t.pipe(ln(1),Cu(Kc)))).pipe(X(t=>{for(let n of t)if(n!==!0){if(n===Kc)return Kc;if(n===!1||dI(n))return n}return!0}),yt(t=>t!==Kc),ln(1)))}function dI(e){return Wn(e)||e instanceof zi}function fI(e,t){return Te(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?U(G(D({},n),{guardsResult:!0})):hI(s,r,i,e).pipe(Te(a=>a&&oI(a)?pI(r,o,e,t):U(a)),X(a=>G(D({},n),{guardsResult:a})))})}function hI(e,t,n,r){return me(e).pipe(Te(i=>_I(i.component,i.route,n,t,r)),un(i=>i!==!0,!0))}function pI(e,t,n,r){return me(t).pipe(pi(i=>hi(mI(i.route.parent,r),gI(i.route,r),yI(e,i.path,n),vI(e,i.route,n))),un(i=>i!==!0,!0))}function gI(e,t){return e!==null&&t&&t(new cl(e)),U(!0)}function mI(e,t){return e!==null&&t&&t(new sl(e)),U(!0)}function vI(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return U(!0);let i=r.map(o=>wo(()=>{let s=Wi(t)??n,a=Ki(o,s),c=aI(a)?a.canActivate(t,e):Qe(s,()=>a(t,e));return In(c).pipe(un())}));return U(i).pipe(Gi())}function yI(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>nI(s)).filter(s=>s!==null).map(s=>wo(()=>{let a=s.guards.map(c=>{let l=Wi(s.node)??n,u=Ki(c,l),d=cI(u)?u.canActivateChild(r,e):Qe(l,()=>u(r,e));return In(d).pipe(un())});return U(a).pipe(Gi())}));return U(o).pipe(Gi())}function _I(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return U(!0);let s=o.map(a=>{let c=Wi(t)??i,l=Ki(a,c),u=lI(l)?l.canDeactivate(e,t,n,r):Qe(c,()=>l(e,t,n,r));return In(u).pipe(un())});return U(s).pipe(Gi())}function wI(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return U(!0);let o=i.map(s=>{let a=Ki(s,e),c=sI(a)?a.canLoad(t,n):Qe(e,()=>a(t,n));return In(c)});return U(o).pipe(Gi(),By(r))}function By(e){return gu(Re(t=>{if(typeof t!="boolean")throw hl(e,t)}),X(t=>t===!0))}function bI(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return U(!0);let o=i.map(s=>{let a=Ki(s,e),c=uI(a)?a.canMatch(t,n):Qe(e,()=>a(t,n));return In(c)});return U(o).pipe(Gi(),By(r))}var Cs=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ds=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function ji(e){return fi(new Cs(e))}function EI(e){return fi(new O(4e3,!1))}function CI(e){return fi(Vy(!1,nt.GuardRejected))}var hh=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return U(r);if(i.numberOfChildren>1||!i.children[B])return EI(`${t.redirectTo}`);i=i.children[B]}}applyRedirectCommands(t,n,r,i,o){return DI(n,i,o).pipe(X(s=>{if(s instanceof nn)throw new Ds(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Ds(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new nn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new ie(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function DI(e,t,n){if(typeof e=="string")return U(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return In(Qe(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var ph={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SI(e,t,n,r,i){let o=Hy(e,t,n);return o.matched?(r=qS(t,r),bI(r,t,n,i).pipe(X(s=>s===!0?o:D({},ph)))):U(o)}function Hy(e,t,n){if(t.path==="**")return II(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?D({},ph):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||yy)(n,e,t);if(!i)return D({},ph);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function II(e){return{matched:!0,parameters:e.length>0?wy(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function gy(e,t,n,r){return n.length>0&&xI(e,n,r)?{segmentGroup:new ie(t,MI(r,new ie(n,e.children))),slicedSegments:[]}:n.length===0&&AI(e,n,r)?{segmentGroup:new ie(e.segments,TI(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ie(e.segments,e.children),slicedSegments:n}}function TI(e,t,n,r){let i={};for(let o of n)if(vl(e,t,o)&&!r[Vt(o)]){let s=new ie([],{});i[Vt(o)]=s}return D(D({},r),i)}function MI(e,t){let n={};n[B]=t;for(let r of e)if(r.path===""&&Vt(r)!==B){let i=new ie([],{});n[Vt(r)]=i}return n}function xI(e,t,n){return n.some(r=>vl(e,t,r)&&Vt(r)!==B)}function AI(e,t,n){return n.some(r=>vl(e,t,r))}function vl(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function OI(e,t,n){return t.length===0&&!e.children[n]}var gh=class{};function RI(e,t,n,r,i,o,s="emptyOnly"){return new mh(e,t,n,r,i,s,o).recognize()}var NI=31,mh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new hh(this.urlSerializer,this.urlTree)}noMatchError(t){return new O(4002,`'${t.segmentGroup}'`)}recognize(){let t=gy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(X(({children:n,rootSnapshot:r})=>{let i=new ht(r,n),o=new bs("",i),s=xy(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new kr([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),B,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,B,n).pipe(X(r=>({children:r,rootSnapshot:n})),Rn(r=>{if(r instanceof Ds)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Cs?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(X(s=>s instanceof ht?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return me(o).pipe(pi(s=>{let a=r.children[s],c=KS(n,s);return this.processSegmentGroup(t,c,a,s,i)}),Eu((s,a)=>(s.push(...a),s)),Nn(null),bu(),Te(s=>{if(s===null)return ji(r);let a=zy(s);return kI(a),U(a)}))}processSegment(t,n,r,i,o,s,a){return me(n).pipe(pi(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(Rn(l=>{if(l instanceof Cs)return U(null);throw l}))),un(c=>!!c),Rn(c=>{if($y(c))return OI(r,i,o)?U(new gh):ji(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return Vt(r)!==s&&(s===B||!vl(i,o,r))?ji(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):ji(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=Hy(n,i,o);if(!c)return ji(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>NI&&(this.allowRedirects=!1));let h=new kr(o,l,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,my(i),Vt(i),i.component??i._loadedComponent??null,i,vy(i)),g=fl(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(g.params),h.data=Object.freeze(g.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t).pipe(st(E=>this.applyRedirects.lineralizeSegments(i,E)),Te(E=>this.processSegment(t,r,n,E.concat(p),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=SI(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(st(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(st(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:p,remainingSegments:h}=c,g=new kr(p,d,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,my(r),Vt(r),r.component??r._loadedComponent??null,r,vy(r)),m=fl(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:E,slicedSegments:b}=gy(n,p,h,l);if(b.length===0&&E.hasChildren())return this.processChildren(u,l,E,g).pipe(X(M=>new ht(g,M)));if(l.length===0&&b.length===0)return U(new ht(g,[]));let Y=Vt(r)===o;return this.processSegment(u,l,E,b,Y?B:o,!0,g).pipe(X(M=>new ht(g,M instanceof ht?[M]:[])))}))):ji(n)))}getChildConfig(t,n,r){return n.children?U({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?U({routes:n._loadedRoutes,injector:n._loadedInjector}):wI(t,n,r,this.urlSerializer).pipe(Te(i=>i?this.configLoader.loadChildren(t,n).pipe(Re(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):CI(n))):U({routes:[],injector:t})}};function kI(e){e.sort((t,n)=>t.value.outlet===B?-1:n.value.outlet===B?1:t.value.outlet.localeCompare(n.value.outlet))}function PI(e){let t=e.value.routeConfig;return t&&t.path===""}function zy(e){let t=[],n=new Set;for(let r of e){if(!PI(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=zy(r.children);t.push(new ht(r.value,i))}return t.filter(r=>!n.has(r))}function my(e){return e.data||{}}function vy(e){return e.resolve||{}}function FI(e,t,n,r,i,o){return Te(s=>RI(e,t,n,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:c})=>G(D({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function LI(e,t){return Te(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return U(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Gy(c))s.add(l);let a=0;return me(s).pipe(pi(c=>o.has(c)?jI(c,r,e,t):(c.data=fl(c,c.parent,e).resolve,U(void 0))),Re(()=>a++),gi(1),Te(c=>a===s.size?U(n):it))})}function Gy(e){let t=e.children.map(n=>Gy(n)).flat();return[e,...t]}function jI(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Fy(i)&&(o[Ss]=i.title),wo(()=>(e.data=fl(e,e.parent,n).resolve,VI(o,e,t,r).pipe(X(s=>(e._resolvedData=s,e.data=D(D({},e.data),s),null)))))}function VI(e,t,n,r){let i=ih(e);if(i.length===0)return U({});let o={};return me(i).pipe(Te(s=>UI(e[s],t,n,r).pipe(un(),Re(a=>{if(a instanceof zi)throw hl(new Fr,a);o[s]=a}))),gi(1),X(()=>o),Rn(s=>$y(s)?it:fi(s)))}function UI(e,t,n,r){let i=Wi(t)??r,o=Ki(e,i),s=o.resolve?o.resolve(t,n):Qe(i,()=>o(t,n));return In(s)}function nh(e){return st(t=>{let n=e(t);return n?me(n).pipe(X(()=>t)):U(t)})}var wh=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===B);return r}getResolvedTitleForRoute(n){return n.data[Ss]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>C(Wy),providedIn:"root"})}return e})(),Wy=(()=>{class e extends wh{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(z(uy))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yi=new N("",{providedIn:"root",factory:()=>({})}),xs=new N(""),qy=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(Rf);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return U(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=In(Qe(n,()=>r.loadComponent())).pipe(X(Yy),st(Zy),Re(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),bo(()=>{this.componentLoaders.delete(r)})),o=new di(i,()=>new be).pipe(ui());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return U({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Ky(r,this.compiler,n,this.onLoadEndListener).pipe(bo(()=>{this.childrenLoaders.delete(r)})),s=new di(o,()=>new be).pipe(ui());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ky(e,t,n,r){return In(Qe(n,()=>e.loadChildren())).pipe(X(Yy),st(Zy),Te(i=>i instanceof Lc||Array.isArray(i)?U(i):me(t.compileModuleAsync(i))),X(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(xs,[],{optional:!0,self:!0}).flat()),{routes:s.map(_h),injector:o}}))}function $I(e){return e&&typeof e=="object"&&"default"in e}function Yy(e){return $I(e)?e.default:e}function Zy(e){return U(e)}var yl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>C(BI),providedIn:"root"})}return e})(),BI=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Jy=new N("");var Qy=new N(""),Xy=(()=>{class e{currentNavigation=W(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new be;transitionAbortWithErrorSubject=new be;configLoader=C(qy);environmentInjector=C(Ne);destroyRef=C(vn);urlSerializer=C(Is);rootContexts=C(qi);location=C(Rr);inputBindingEnabled=C(ml,{optional:!0})!==null;titleStrategy=C(wh);options=C(Yi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(yl);createViewTransition=C(Jy,{optional:!0});navigationErrorHandler=C(Qy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>U(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new il(i)),r=i=>this.events.next(new ol(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;We(()=>{this.transitions?.next(G(D({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new Ve(null),this.transitions.pipe(yt(r=>r!==null),st(r=>{let i=!1;return U(r).pipe(st(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",nt.SupersededByNewNavigation),it;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?G(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.rawUrl),"",vs.IgnoredSameUrlNavigation)),o.resolve(!1),it;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return U(o).pipe(st(c=>(this.events.next(new Lr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?it:Promise.resolve(c))),FI(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Re(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=c.urlAfterRedirects,u));let l=new ys(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:p}=o,h=new Lr(c,this.urlSerializer.serialize(l),u,d);this.events.next(h);let g=ky(this.rootComponentType).snapshot;return this.currentTransition=r=G(D({},o),{targetSnapshot:g,urlAfterRedirects:l,extras:G(D({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(m=>(m.finalUrl=l,m)),U(r)}else return this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",vs.IgnoredByUrlHandlingStrategy)),o.resolve(!1),it}),Re(o=>{let s=new el(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),X(o=>(this.currentTransition=r=G(D({},o),{guards:tI(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),fI(this.environmentInjector,o=>this.events.next(o)),Re(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw hl(this.urlSerializer,o.guardsResult);let s=new tl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),yt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",nt.GuardRejected),!1)),nh(o=>{if(o.guards.canActivateChecks.length!==0)return U(o).pipe(Re(s=>{let a=new nl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),st(s=>{let a=!1;return U(s).pipe(LI(this.paramsInheritanceStrategy,this.environmentInjector),Re({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",nt.NoDataFromResolver)}}))}),Re(s=>{let a=new rl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),nh(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=Wi(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Re(u=>{a.component=u}),X(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Na(s(o.targetSnapshot.root)).pipe(Nn(null),ln(1))}),nh(()=>this.afterPreactivation()),st(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?me(a).pipe(X(()=>r)):U(r)}),X(o=>{let s=ZS(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=G(D({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Re(()=>{this.events.next(new _s)}),eI(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ln(1),Pa(new te(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(yt(()=>!i&&!r.targetRouterState),Re(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",nt.Aborted)}))),Re({next:o=>{i=!0,this.lastSuccessfulNavigation=We(this.currentNavigation),this.events.next(new rn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Pa(this.transitionAbortWithErrorSubject.pipe(Re(o=>{throw o}))),bo(()=>{i||this.cancelNavigationTransition(r,"",nt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Rn(o=>{if(this.destroyed)return r.resolve(!1),it;if(i=!0,Uy(o))this.events.next(new tn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),XS(o)?this.events.next(new Hi(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Bi(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Qe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof zi){let{message:c,cancellationCode:l}=hl(this.urlSerializer,a);this.events.next(new tn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Hi(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return it}))}))}cancelNavigationTransition(n,r,i){let o=new tn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=We(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function HI(e){return e!==ps}var e_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>C(zI),providedIn:"root"})}return e})(),gl=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},zI=(()=>{class e extends gl{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Tr(e)))(i||e)}})();static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),t_=(()=>{class e{urlSerializer=C(Is);options=C(Yi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=C(Rr);urlHandlingStrategy=C(yl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new nn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof nn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=ky(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:()=>C(GI),providedIn:"root"})}return e})(),GI=(()=>{class e extends t_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Lr?this.updateStateMemento():n instanceof Dn?this.commitTransition(r):n instanceof ys?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof _s?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof tn&&n.code!==nt.SupersededByNewNavigation&&n.code!==nt.Redirect?this.restoreHistory(r):n instanceof Bi?this.restoreHistory(r,!0):n instanceof rn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=D(D({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=D(D({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Tr(e)))(i||e)}})();static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bh(e,t){e.events.pipe(yt(n=>n instanceof rn||n instanceof tn||n instanceof Bi||n instanceof Dn),X(n=>n instanceof rn||n instanceof Dn?0:(n instanceof tn?n.code===nt.Redirect||n.code===nt.SupersededByNewNavigation:!1)?2:1),yt(n=>n!==2),ln(1)).subscribe(()=>{t()})}var WI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(Tf);stateManager=C(t_);options=C(Yi,{optional:!0})||{};pendingTasks=C(yn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(Xy);urlSerializer=C(Is);location=C(Rr);urlHandlingStrategy=C(yl);injector=C(Ne);_events=new be;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(e_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(xs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(ml,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new we;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=We(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof tn&&r.code!==nt.Redirect&&r.code!==nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rn)this.navigated=!0;else if(r instanceof Hi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=D({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||HI(i.source)},s);this.scheduleNavigation(a,ps,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}WS(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ps,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=D({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Ct)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return We(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(_h),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=Ay(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return Oy(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Wn(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ps,null,r)}navigate(n,r={skipLocationChange:!1}){return KI(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(vi(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=D({},WI):r===!1?i=D({},qI):i=r,Wn(n))return dy(this.currentUrlTree,n,i);let o=this.parseUrl(n);return dy(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,p)=>{a=d,c=p});let u=this.pendingTasks.add();return bh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function KI(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new O(4008,!1)}var Zi=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=W(null);get href(){return We(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new be;applicationErrorHandler=C(Ct);options=C(Yi,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(C(new Uc("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof rn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Wn(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Wn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(K(gt),K(Sn),Yo("tabindex"),K(Mr),K(Bn),K(Xt))};static \u0275dir=ze({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ee("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ri("href",i.reactiveHref(),uf)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Or],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Or],replaceUrl:[2,"replaceUrl","replaceUrl",Or],routerLink:"routerLink"},features:[bn]})}return e})();var ZI=new N("");function Eh(e,...t){return Ao([{provide:xs,multi:!0,useValue:e},[],{provide:Sn,useFactory:JI,deps:[gt]},{provide:jc,multi:!0,useFactory:XI},t.map(n=>n.\u0275providers)])}function JI(e){return e.routerState.root}function QI(e,t){return{\u0275kind:e,\u0275providers:t}}function XI(){let e=C(dt);return t=>{let n=e.get(zn);if(t!==n.components[0])return;let r=e.get(gt),i=e.get(eT);e.get(tT)===1&&r.initialNavigation(),e.get(nT,null,{optional:!0})?.setUpPreloading(),e.get(ZI,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var eT=new N("",{factory:()=>new be}),tT=new N("",{providedIn:"root",factory:()=>1});var nT=new N("");function Ch(){return QI(6,[{provide:Xt,useClass:Bf}])}var r_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var Ji=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},As=class extends Ji{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Qi=class extends Ji{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Xi=class extends Ji{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},_l=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(_l||{});var Os=class{constructor(t,{headers:n={},customFetch:r,region:i=_l.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=r_(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return va(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,p={},{region:h}=r;h||(h=this.region);let g=new URL(`${this.url}/${n}`);h&&h!=="any"&&(p["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let m;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(p["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(p["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;let E=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(E=s.signal,u.addEventListener("abort",()=>s.abort())):E=s.signal);let b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:m,signal:E}).catch(oe=>{throw new As(oe)}),Y=b.headers.get("x-relay-error");if(Y&&Y==="true")throw new Qi(b);if(!b.ok)throw new Xi(b);let M=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return M==="application/json"?x=yield b.json():M==="application/octet-stream"||M==="application/pdf"?x=yield b.blob():M==="text/event-stream"?x=b:M==="multipart/form-data"?x=yield b.formData():x=yield b.text(),{data:x,error:null,response:b}}catch(a){return{data:null,error:a,response:a instanceof Xi||a instanceof Qi?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var o_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},rT=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>f(this,null,function*(){let s=null,a=null,c=null,l=o.status,u=o.statusText;if(o.ok){var d,p;if(n.method!=="HEAD"){var h;let b=yield o.text();b===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((h=n.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?a=b:a=JSON.parse(b))}let m=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),E=(p=o.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");m&&E&&E.length>1&&(c=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,l=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var g;let m=yield o.text();try{s=JSON.parse(m),Array.isArray(s)&&o.status===404&&(a=[],s=null,l=200,u="OK")}catch{o.status===404&&m===""?(l=204,u="No Content"):s={message:m}}if(s&&n.isMaybeSingle&&(!(s==null||(g=s.details)===null||g===void 0)&&g.includes("0 rows"))&&(s=null,l=200,u="OK"),s&&n.shouldThrowOnError)throw new o_(s)}return{error:s,data:a,count:c,status:l,statusText:u}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s;let a="",c=o?.cause;if(c){var l,u,d,p;let g=(l=c?.message)!==null&&l!==void 0?l:"",m=(u=c?.code)!==null&&u!==void 0?u:"";a=`${(d=o?.name)!==null&&d!==void 0?d:"FetchError"}: ${o?.message}`,a+=`

Caused by: ${(p=c?.name)!==null&&p!==void 0?p:"Error"}: ${g}`,m&&(a+=` (${m})`),c?.stack&&(a+=`
${c.stack}`)}else{var h;a=(h=o?.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},iT=class extends rT{select(e){let t=!1,n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var s;let a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},i_=new RegExp("[,()]"),eo=class extends iT{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&i_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&i_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");let o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},oT=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){let{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET",o=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new eo({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;let i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let o=e.reduce((s,a)=>s.concat(Object.keys(a)),[]);if(o.length>0){let s=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",s.join(","))}}return new eo({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;let s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){let c=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new eo({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;let r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new eo({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;let n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new eo({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},s_=class a_{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new oT(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new a_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),l;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{c.searchParams.append(d,p)})):(a="POST",l=n);let u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new eo({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};var Dh=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Sh=Dh;var c_="2.88.0";var l_=`realtime-js/${c_}`,Ih="1.0.0",u_="2.0.0",Th=Ih;var Rs=1e4,d_=1e3,f_=100,qn=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(qn||{}),Ae=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(Ae||{}),Mt=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(Mt||{}),Mh=(function(e){return e.websocket="websocket",e})(Mh||{}),jr=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(jr||{});var wl=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,o;let s=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",l=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+p),g=new DataView(h),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,a.length),g.setUint8(m++,s.length),g.setUint8(m++,l.length),g.setUint8(m++,d.length),g.setUint8(m++,n),Array.from(c,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(a,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(d,b=>g.setUint8(m++,b.charCodeAt(0)));var E=new Uint8Array(h.byteLength+r.byteLength);return E.set(new Uint8Array(h),0),E.set(new Uint8Array(r),h.byteLength),E.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,s,a,c]=r;return n({join_ref:i,ref:o,topic:s,event:a,payload:c})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(t.slice(c,c+i));c=c+i;let u=r.decode(t.slice(c,c+o));c=c+o;let d=r.decode(t.slice(c,c+s));c=c+s;let p=t.slice(c,t.byteLength),h=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,g={type:this.BROADCAST_EVENT,event:u,payload:h};return s>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}};var to=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var de=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(de||{}),Ah=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=sT(s,e,t,i),o),{}):{}},sT=(e,t,n,r)=>{let i=t.find(a=>a.name===e),o=i?.type,s=n[e];return o&&!r.includes(o)?h_(o,s):xh(s)},h_=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return uT(t,n)}switch(e){case de.bool:return aT(t);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return cT(t);case de.json:case de.jsonb:return lT(t);case de.timestamp:return dT(t);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return xh(t);default:return xh(t)}},xh=e=>e,aT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cT=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},uT=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>h_(t,a))}return e},dT=e=>typeof e=="string"?e.replace(" ","T"):e,bl=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var no=class{constructor(t,n,r={},i=Rs){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Ns=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let p=u.map(E=>E.presence_ref),h=d.map(E=>E.presence_ref),g=u.filter(E=>h.indexOf(E.presence_ref)<0),m=d.filter(E=>p.indexOf(E.presence_ref)<0);g.length>0&&(a[l]=g),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(h=>h.presence_ref),p=u.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,i(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var ks=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(ks||{}),Tn=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(Tn||{});var Ps=class e{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new no(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new to(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ns(this),this.broadcastEndpointURL=bl(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ae.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[ks.PRESENCE]&&this.bindings[ks.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},p={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(Tn.CHANNEL_ERROR,h)),this._onClose(()=>t?.(Tn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",g=>f(this,[g],function*({postgres_changes:h}){var m;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t?.(Tn.SUBSCRIBED);return}else{let E=this.bindings.postgres_changes,b=(m=E?.length)!==null&&m!==void 0?m:0,Y=[];for(let M=0;M<b;M++){let x=E[M],{filter:{event:oe,schema:Bt,table:ue,filter:Ie}}=x,An=h&&h[M];if(An&&An.event===oe&&e.isFilterValueEqual(An.schema,Bt)&&e.isFilterValueEqual(An.table,ue)&&e.isFilterValueEqual(An.filter,Ie))Y.push(Object.assign(Object.assign({},x),{id:An.id}));else{this.unsubscribe(),this.state=Ae.errored,t?.(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,t&&t(Tn.SUBSCRIBED);return}})).receive("error",h=>{this.state=Ae.errored,t?.(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this.state===Ae.joined&&t===ks.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>f(this,null,function*(){return yield this.subscribe()}))),this._on(t,n,r)}httpSend(i,o){return f(this,arguments,function*(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");let a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{let d=yield l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))})}send(r){return f(this,arguments,function*(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:a}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);let l={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ae.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new no(this,Mt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ae.closed,this.bindings={}}_fetchWithTimeout(t,n,r){return f(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new no(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>f_){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Mt;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var g,m,E;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((E=(m=h.filter)===null||m===void 0?void 0:m.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===s}).map(h=>h.callback(p,r)):(o=this.bindings[s])===null||o===void 0||o.filter(h=>{var g,m,E,b,Y,M;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){let x=h.id,oe=(g=h.filter)===null||g===void 0?void 0:g.event;return x&&((m=n.ids)===null||m===void 0?void 0:m.includes(x))&&(oe==="*"||oe?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{let x=(Y=(b=h?.filter)===null||b===void 0?void 0:b.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return x==="*"||x===((M=n?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:m,table:E,commit_timestamp:b,type:Y,errors:M}=g;p=Object.assign(Object.assign({},{schema:m,table:E,commit_timestamp:b,eventType:Y,new:{},old:{},errors:M}),this._getPayloadRecords(g))}h.callback(p,r)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mt.close,{},t)}_onError(t){this._on(Mt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ah(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ah(t.columns,t.old_record)),n}};var Oh=()=>{},El={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hT=[1e3,2e3,5e3,1e4],pT=1e4,gT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Fs=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rs,this.transport=null,this.heartbeatIntervalMs=El.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Oh,this.ref=0,this.reconnectTimer=null,this.vsn=Th,this.logger=Oh,this.conn=null,this.sendBuffer=[],this.serializer=new wl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Mh.websocket}`,this.httpEndpoint=bl(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Sh.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){return f(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return f(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case qn.connecting:return jr.Connecting;case qn.open:return jr.Open;case qn.closing:return jr.Closing;default:return jr.Closed}}isConnected(){return this.connectionState()===jr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Ps(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){let{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return f(this,null,function*(){this._authPromise=this._performAuth(t);try{yield this._authPromise}finally{this._authPromise=null}})}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){return f(this,null,function*(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(d_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},El.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===qn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qn.open||this.conn.readyState===qn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([gT],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(t=null){return f(this,null,function*(){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=yield this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{let o={access_token:n,version:l_};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Mt.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return f(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new to(()=>f(this,null,function*(){setTimeout(()=>f(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),El.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,s,a,c,l,u,d,p,h;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Rs,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:El.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:Oh,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:Th,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:g=>hT[g-1]||pT,this.vsn){case Ih:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(g,m)=>m(JSON.stringify(g)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(g,m)=>m(JSON.parse(g));break;case u_:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=t?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var Ls=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function mT(e,t,n){let r=new URL(t,e);if(n)for(let[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}function vT(e){return f(this,null,function*(){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?yield e.getHeaders():{}})}function yT(e){let t=e.fetchImpl??globalThis.fetch;return{request(c){return f(this,arguments,function*({method:r,path:i,query:o,body:s,headers:a}){let l=mT(e.baseUrl,i,o),u=yield vT(e.auth),d=yield t(l,{method:r,headers:D(D(D({},s?{"Content-Type":"application/json"}:{}),u),a),body:s?JSON.stringify(s):void 0}),p=yield d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),g=h&&p?JSON.parse(p):p;if(!d.ok){let m=h?g:void 0,E=m?.error;throw new Ls(E?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:E?.type,icebergCode:E?.code,details:m})}return{status:d.status,headers:d.headers,data:g}})}}}function Cl(e){return e.join("")}var _T=class{constructor(e,t=""){this.client=e,this.prefix=t}listNamespaces(e){return f(this,null,function*(){let t=e?{parent:Cl(e.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(e,t){return f(this,null,function*(){let n={namespace:e.namespace,properties:t?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data})}dropNamespace(e){return f(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cl(e.namespace)}`})})}loadNamespaceMetadata(e){return f(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cl(e.namespace)}`})).data.properties}})}namespaceExists(e){return f(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cl(e.namespace)}`}),!0}catch(t){if(t instanceof Ls&&t.status===404)return!1;throw t}})}createNamespaceIfNotExists(e,t){return f(this,null,function*(){try{return yield this.createNamespace(e,t)}catch(n){if(n instanceof Ls&&n.status===409)return;throw n}})}};function ro(e){return e.join("")}var wT=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}listTables(e){return f(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables`})).data.identifiers})}createTable(e,t){return f(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables`,body:t,headers:n})).data.metadata})}updateTable(e,t){return f(this,null,function*(){let n=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}})}dropTable(e,t){return f(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})})}loadTable(e){return f(this,null,function*(){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata})}tableExists(e){return f(this,null,function*(){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Ls&&n.status===404)return!1;throw n}})}createTableIfNotExists(e,t){return f(this,null,function*(){try{return yield this.createTable(e,t)}catch(n){if(n instanceof Ls&&n.status===409)return yield this.loadTable({namespace:e.namespace,name:t.name});throw n}})}},p_=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=yT({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new _T(this.client,t),this.tableOps=new wT(this.client,t,this.accessDelegation)}listNamespaces(e){return f(this,null,function*(){return this.namespaceOps.listNamespaces(e)})}createNamespace(e,t){return f(this,null,function*(){return this.namespaceOps.createNamespace(e,t)})}dropNamespace(e){return f(this,null,function*(){yield this.namespaceOps.dropNamespace(e)})}loadNamespaceMetadata(e){return f(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(e)})}listTables(e){return f(this,null,function*(){return this.tableOps.listTables(e)})}createTable(e,t){return f(this,null,function*(){return this.tableOps.createTable(e,t)})}updateTable(e,t){return f(this,null,function*(){return this.tableOps.updateTable(e,t)})}dropTable(e,t){return f(this,null,function*(){yield this.tableOps.dropTable(e,t)})}loadTable(e){return f(this,null,function*(){return this.tableOps.loadTable(e)})}namespaceExists(e){return f(this,null,function*(){return this.namespaceOps.namespaceExists(e)})}tableExists(e){return f(this,null,function*(){return this.tableOps.tableExists(e)})}createNamespaceIfNotExists(e,t){return f(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(e,t)})}createTableIfNotExists(e,t){return f(this,null,function*(){return this.tableOps.createTableIfNotExists(e,t)})}};var Dl=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var bT=class extends Dl{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kh=class extends Dl{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}},Lh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ET=()=>Response,Ph=e=>{if(Array.isArray(e))return e.map(n=>Ph(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Ph(r)}),t},CT=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},DT=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function ST(e,t){if(js(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IT(e){var t=ST(e,"string");return js(t)=="symbol"?t:t+""}function TT(e,t,n){return(t=IT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(n),!0).forEach(function(r){TT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Rh=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},MT=(e,t,n)=>f(null,null,function*(){e instanceof(yield ET())&&!n?.noResolveJson?e.json().then(r=>{let i=e.status||500,o=r?.statusCode||i+"";t(new bT(Rh(r),i,o))}).catch(r=>{t(new kh(Rh(r),r))}):t(new kh(Rh(e),e))}),xT=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(CT(r)?(i.headers=P({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),P(P({},i),n))};function Us(e,t,n,r,i,o){return f(this,null,function*(){return new Promise((s,a)=>{e(n,xT(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>MT(c,a,r))})})}function Vs(e,t,n,r){return f(this,null,function*(){return Us(e,"GET",t,n,r)})}function Ut(e,t,n,r,i){return f(this,null,function*(){return Us(e,"POST",t,r,i,n)})}function Fh(e,t,n,r,i){return f(this,null,function*(){return Us(e,"PUT",t,r,i,n)})}function AT(e,t,n,r){return f(this,null,function*(){return Us(e,"HEAD",t,P(P({},n),{},{noResolveJson:!0}),r)})}function jh(e,t,n,r,i){return f(this,null,function*(){return Us(e,"DELETE",t,r,i,n)})}var OT=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return f(this,null,function*(){var e=this;try{return{data:(yield e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}},y_;y_=Symbol.toStringTag;var RT=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[y_]="BlobDownloadBuilder",this.promise=null}asStream(){return new OT(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return f(this,null,function*(){var e=this;try{return{data:yield(yield e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pe(t))return{data:null,error:t};throw t}})}},NT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},m_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},kT=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Lh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,r){return f(this,null,function*(){var i=this;try{let o,s=P(P({},m_),r),a=P(P({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",i.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=P(P({},a),r.headers));let l=i._removeEmptyFolders(t),u=i._getFinalPath(l),d=yield(e=="PUT"?Fh:Ut)(i.fetch,`${i.url}/object/${u}`,o,P({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(pe(o))return{data:null,error:o};throw o}})}upload(e,t,n){return f(this,null,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return f(this,null,function*(){var i=this;let o=i._removeEmptyFolders(e),s=i._getFinalPath(o),a=new URL(i.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,l=P({upsert:m_.upsert},r),u=P(P({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType),{data:{path:o,fullPath:(yield Fh(i.fetch,a.toString(),c,{headers:u})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(pe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return f(this,null,function*(){var n=this;try{let r=n._getFinalPath(e),i=P({},n.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield Ut(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+o.url),a=s.searchParams.get("token");if(!a)throw new Dl("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}update(e,t,n){return f(this,null,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return f(this,null,function*(){var r=this;try{return{data:yield Ut(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}copy(e,t,n){return f(this,null,function*(){var r=this;try{return{data:{path:(yield Ut(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,n){return f(this,null,function*(){var r=this;try{let i=r._getFinalPath(e),o=yield Ut(r.fetch,`${r.url}/object/sign/${i}`,P({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,n){return f(this,null,function*(){var r=this;try{let i=yield Ut(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>P(P({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}download(e,t){let n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),s=()=>Vs(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new RT(s,this.shouldThrowOnError)}info(e){return f(this,null,function*(){var t=this;let n=t._getFinalPath(e);try{return{data:Ph(yield Vs(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}exists(e){return f(this,null,function*(){var t=this;let n=t._getFinalPath(e);try{return yield AT(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(pe(r)&&r instanceof kh){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);let o=typeof t?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(t?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${a}`)}}}remove(e){return f(this,null,function*(){var t=this;try{return{data:yield jh(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}list(e,t,n){return f(this,null,function*(){var r=this;try{let i=P(P(P({},NT),t),{},{prefix:e||""});return{data:yield Ut(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}listV2(e,t){return f(this,null,function*(){var n=this;try{let r=P({},e);return{data:yield Ut(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}},__="2.88.0",w_={"X-Client-Info":`storage-js/${__}`},PT=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=P(P({},w_),t),this.fetch=Lh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return f(this,null,function*(){var t=this;try{let n=t.listBucketOptionsToQueryString(e);return{data:yield Vs(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}getBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield Vs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}createBucket(n){return f(this,arguments,function*(e,t={public:!1}){var r=this;try{return{data:yield Ut(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return f(this,null,function*(){var n=this;try{return{data:yield Fh(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield Ut(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield jh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},FT=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=P(P({},w_),t),this.fetch=Lh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield Ut(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}listBuckets(e){return f(this,null,function*(){var t=this;try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:yield Vs(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield jh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}from(e){var t=this;if(!DT(e))throw new Dl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new p_({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>f(this,null,function*(){return t.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){let s=i[o];return typeof s!="function"?s:(...a)=>f(null,null,function*(){try{return{data:yield s.apply(i,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}})}})}},Vh={"X-Client-Info":`storage-js/${__}`,"Content-Type":"application/json"},b_=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function mt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Nh=class extends b_{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},LT=class extends b_{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};var Uh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var jT=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var v_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VT=(e,t,n)=>f(null,null,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{let s=o?.statusCode||o?.code||r+"";t(new Nh(v_(o),r,s))}).catch(()=>{let o=r+"";t(new Nh(i.statusText||`HTTP ${r} error`,r,o))});else{let o=r+"";t(new Nh(i.statusText||`HTTP ${r} error`,r,o))}}else t(new LT(v_(e),e))}),UT=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(jT(r)?(i.headers=P({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,P(P({},i),n))};function $T(e,t,n,r,i,o){return f(this,null,function*(){return new Promise((s,a)=>{e(n,UT(t,r,i,o)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>VT(c,a,r))})})}function vt(e,t,n,r,i){return f(this,null,function*(){return $T(e,"POST",t,r,i,n)})}var BT=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=P(P({},Vh),t),this.fetch=Uh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return f(this,null,function*(){var t=this;try{return{data:(yield vt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getIndex(e,t){return f(this,null,function*(){var n=this;try{return{data:yield vt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}listIndexes(e){return f(this,null,function*(){var t=this;try{return{data:yield vt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteIndex(e,t){return f(this,null,function*(){var n=this;try{return{data:(yield vt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}},HT=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=P(P({},Vh),t),this.fetch=Uh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return f(this,null,function*(){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield vt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getVectors(e){return f(this,null,function*(){var t=this;try{return{data:yield vt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listVectors(e){return f(this,null,function*(){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield vt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}queryVectors(e){return f(this,null,function*(){var t=this;try{return{data:yield vt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return f(this,null,function*(){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield vt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}},zT=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=P(P({},Vh),t),this.fetch=Uh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return f(this,null,function*(){var t=this;try{return{data:(yield vt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getBucket(e){return f(this,null,function*(){var t=this;try{return{data:yield vt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listBuckets(){return f(this,arguments,function*(e={}){var t=this;try{return{data:yield vt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return f(this,null,function*(){var t=this;try{return{data:(yield vt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers}))||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}},GT=class e extends zT{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new WT(this.url,this.headers,t,this.fetch)}createBucket(t){return f(this,null,function*(){var n=()=>rt(e.prototype,this,"createBucket"),r=this;return n().call(r,t)})}getBucket(t){return f(this,null,function*(){var n=()=>rt(e.prototype,this,"getBucket"),r=this;return n().call(r,t)})}listBuckets(){return f(this,arguments,function*(t={}){var n=()=>rt(e.prototype,this,"listBuckets"),r=this;return n().call(r,t)})}deleteBucket(t){return f(this,null,function*(){var n=()=>rt(e.prototype,this,"deleteBucket"),r=this;return n().call(r,t)})}},WT=class e extends BT{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){return f(this,null,function*(){var n=()=>rt(e.prototype,this,"createIndex"),r=this;return n().call(r,P(P({},t),{},{vectorBucketName:r.vectorBucketName}))})}listIndexes(){return f(this,arguments,function*(t={}){var n=()=>rt(e.prototype,this,"listIndexes"),r=this;return n().call(r,P(P({},t),{},{vectorBucketName:r.vectorBucketName}))})}getIndex(t){return f(this,null,function*(){var n=()=>rt(e.prototype,this,"getIndex"),r=this;return n().call(r,r.vectorBucketName,t)})}deleteIndex(t){return f(this,null,function*(){var n=()=>rt(e.prototype,this,"deleteIndex"),r=this;return n().call(r,r.vectorBucketName,t)})}index(t){return new qT(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},qT=class e extends HT{constructor(t,n,r,i,o){super(t,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(t){return f(this,null,function*(){var n=()=>rt(e.prototype,this,"putVectors"),r=this;return n().call(r,P(P({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}getVectors(t){return f(this,null,function*(){var n=()=>rt(e.prototype,this,"getVectors"),r=this;return n().call(r,P(P({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}listVectors(){return f(this,arguments,function*(t={}){var n=()=>rt(e.prototype,this,"listVectors"),r=this;return n().call(r,P(P({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}queryVectors(t){return f(this,null,function*(){var n=()=>rt(e.prototype,this,"queryVectors"),r=this;return n().call(r,P(P({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}deleteVectors(t){return f(this,null,function*(){var n=()=>rt(e.prototype,this,"deleteVectors"),r=this;return n().call(r,P(P({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))})}},E_=class extends PT{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new kT(this.url,this.headers,e,this.fetch)}get vectors(){return new GT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new FT(this.url+"/iceberg",this.headers,this.fetch)}};var Sl="2.88.0";var Vr=30*1e3,Il=3,Tl=Il*Vr,C_="http://localhost:9999",D_="supabase.auth.token";var S_={"X-Client-Info":`gotrue-js/${Sl}`};var $s="X-Supabase-Api-Version",$h={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},I_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,T_=600*1e3;var Kn=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function A(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Ml=class extends Kn{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function M_(e){return A(e)&&e.name==="AuthApiError"}var xt=class extends Kn{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},$t=class extends Kn{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},qe=class extends $t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function x_(e){return A(e)&&e.name==="AuthSessionMissingError"}var Mn=class extends $t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Ur=class extends $t{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},$r=class extends $t{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function A_(e){return A(e)&&e.name==="AuthImplicitGrantRedirectError"}var Bs=class extends $t{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},xl=class extends $t{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var io=class extends $t{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Al(e){return A(e)&&e.name==="AuthRetryableFetchError"}var Hs=class extends $t{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Br=class extends $t{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Ol="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),O_=` 	
\r=`.split(""),KT=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<O_.length;t+=1)e[O_[t].charCodeAt(0)]=-2;for(let t=0;t<Ol.length;t+=1)e[Ol[t].charCodeAt(0)]=t;return e})();function R_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Ol[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Ol[r]),t.queuedBits-=6}}function N_(e,t,n){let r=KT[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bh(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{JT(s,r,n)};for(let s=0;s<e.length;s+=1)N_(e.charCodeAt(s),i,o);return t.join("")}function YT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ZT(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}YT(r,t)}}function JT(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Yn(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)N_(e.charCodeAt(i),n,r);return new Uint8Array(t)}function k_(e){let t=[];return ZT(e,n=>t.push(n)),new Uint8Array(t)}function xn(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>R_(i,n,r)),R_(null,n,r),t.join("")}function P_(e){return Math.round(Date.now()/1e3)+e}function F_(){return Symbol("auth-callback")}var Oe=()=>typeof window<"u"&&typeof document<"u",Hr={tested:!1,writable:!1},Rl=()=>{if(!Oe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hr.tested)return Hr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hr.tested=!0,Hr.writable=!0}catch{Hr.tested=!0,Hr.writable=!1}return Hr.writable};function L_(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}var Nl=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),j_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zr=(e,t,n)=>f(null,null,function*(){yield e.setItem(t,JSON.stringify(n))}),Zn=(e,t)=>f(null,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),je=(e,t)=>f(null,null,function*(){yield e.removeItem(t)}),zs=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};zs.promiseConstructor=Promise;function kl(e){let t=e.split(".");if(t.length!==3)throw new Br("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!I_.test(t[r]))throw new Br("JWT not in base64url format");return{header:JSON.parse(Bh(t[0])),payload:JSON.parse(Bh(t[1])),signature:Yn(t[2]),raw:{header:t[0],payload:t[1]}}}function V_(e){return f(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function U_(e,t){return new Promise((r,i)=>{f(null,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function QT(e){return("0"+e.toString(16)).substr(-2)}function XT(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,QT).join("")}function eM(e){return f(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function tM(e){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield eM(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Gr(e,t,n=!1){return f(this,null,function*(){let r=XT(),i=r;n&&(i+="/PASSWORD_RECOVERY"),yield zr(e,`${t}-code-verifier`,i);let o=yield tM(r);return[o,r===o?"plain":"s256"]})}var nM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $_(e){let t=e.headers.get($s);if(!t||!t.match(nM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function B_(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function H_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var rM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wr(e){if(!rM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pl(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function z_(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function Hh(e){return JSON.parse(JSON.stringify(e))}var qr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iM=[502,503,504];function G_(e){return f(this,null,function*(){var t;if(!j_(e))throw new io(qr(e),0);if(iM.includes(e.status))throw new io(qr(e),e.status);let n;try{n=yield e.json()}catch(o){throw new xt(qr(o),o)}let r,i=$_(e);if(i&&i.getTime()>=$h["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Hs(qr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new qe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Hs(qr(n),e.status,n.weak_password.reasons);throw new Ml(qr(n),e.status||500,r)})}var oM=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function k(e,t,n,r){return f(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[$s]||(o[$s]=$h["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield sM(e,t,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function sM(e,t,n,r,i,o){return f(this,null,function*(){let s=oM(t,r,i,o),a;try{a=yield e(n,Object.assign({},s))}catch(c){throw console.error(c),new io(qr(c),0)}if(a.ok||(yield G_(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield G_(c)}})}function At(e){var t;let n=null;aM(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=P_(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function zh(e){let t=At(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function on(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function W_(e){return{data:e,error:null}}function q_(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=or(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Gh(e){return e}function aM(e){return e.access_token&&e.refresh_token&&e.expires_in}var Fl=["global","local","others"];var oo=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Nl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return f(this,arguments,function*(t,n=Fl[0]){if(Fl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fl.join(", ")}`);try{return yield k(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(A(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return f(this,arguments,function*(t,n={}){try{return yield k(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:on})}catch(i){if(A(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return f(this,null,function*(){try{let{options:n}=t,r=or(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield k(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:q_,redirectTo:n?.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return f(this,null,function*(){try{return yield k(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:on})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return f(this,null,function*(){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield k(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Gh});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(g.split(";")[1].split("=")[1]);l[`${E}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(A(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return f(this,null,function*(){Wr(t);try{return yield k(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:on})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return f(this,null,function*(){Wr(t);try{return yield k(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:on})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return f(this,null,function*(){Wr(t);try{return yield k(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:on})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return f(this,null,function*(){Wr(t.userId);try{let{data:n,error:r}=yield k(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return f(this,null,function*(){Wr(t.userId),Wr(t.id);try{return{data:yield k(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}})}_listOAuthClients(t){return f(this,null,function*(){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield k(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Gh});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(g.split(";")[1].split("=")[1]);l[`${E}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(A(l))return{data:{clients:[]},error:l};throw l}})}_createOAuthClient(t){return f(this,null,function*(){try{return yield k(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}_getOAuthClient(t){return f(this,null,function*(){try{return yield k(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}_updateOAuthClient(t,n){return f(this,null,function*(){try{return yield k(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(t){return f(this,null,function*(){try{return yield k(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(t){return f(this,null,function*(){try{return yield k(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}};function Wh(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var Kr={debug:!!(globalThis&&Rl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Gs=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Ll=class extends Gs{};function qh(e,t,n){return f(this,null,function*(){Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>f(null,null,function*(){if(i){Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield n()}finally{Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ll(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Kr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function K_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kh(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Y_(e){return parseInt(e,16)}function Z_(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function J_(e){var t;let{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let h=Kh(e.address),g=u?`${u}://${r}`:r,m=e.statement?`${e.statement}
`:"",E=`${g} wants you to sign in with your Ethereum account:
${h}

${m}`,b=`URI: ${d}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),c&&(b+=`
Request ID: ${c}`),l){let Y=`
Resources:`;for(let M of l){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);Y+=`
- ${M}`}b+=Y}return`${E}
${b}`}var ge=class extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}},Yr=class extends ge{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}};function Q_({error:e,options:t}){var n,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(Yh(s)){if(o.rp.id!==s)return new ge({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function X_({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(Yh(r)){if(n.rpId!==r)return new ge({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Zh=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},cM=new Zh;function tw(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=or(e,["challenge","user","excludeCredentials"]),o=Yn(t).buffer,s=Object.assign(Object.assign({},n),{id:Yn(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Yn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function nw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=or(e,["challenge","allowCredentials"]),i=Yn(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Yn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function rw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:xn(new Uint8Array(e.response.attestationObject)),clientDataJSON:xn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function iw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xn(new Uint8Array(i.authenticatorData)),clientDataJSON:xn(new Uint8Array(i.clientDataJSON)),signature:xn(new Uint8Array(i.signature)),userHandle:i.userHandle?xn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Yh(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ew(){var e,t;return!!(Oe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}function lM(e){return f(this,null,function*(){try{let t=yield navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yr("Browser returned unexpected credential type",t)}:{data:null,error:new Yr("Empty credential response",t)}}catch(t){return{data:null,error:Q_({error:t,options:e})}}})}function uM(e){return f(this,null,function*(){try{let t=yield navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yr("Browser returned unexpected credential type",t)}:{data:null,error:new Yr("Empty credential response",t)}}catch(t){return{data:null,error:X_({error:t,options:e})}}})}var dM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jl(...e){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(t(s)){let a=r[o];t(a)?r[o]=jl(a,s):r[o]=jl(s)}else r[o]=s}return r}function hM(e,t){return jl(dM,e,t||{})}function pM(e,t){return jl(fM,e,t||{})}var Vl=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){return f(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})}_challenge(s,a){return f(this,arguments,function*({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{let{data:c,error:l}=yield this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:l};let u=i??cM.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:d}=c.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{let d=hM(c.webauthn.credential_options.publicKey,o?.create),{data:p,error:h}=yield lM({publicKey:d,signal:u});return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{let d=pM(c.webauthn.credential_options.publicKey,o?.request),{data:p,error:h}=yield uM(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:u}));return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(c){return A(c)?{data:null,error:c}:{data:null,error:new xt("Unexpected error in challenge",c)}}})}_verify(i){return f(this,arguments,function*({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})})}_authenticate(s,a){return f(this,arguments,function*({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Kn("rpId is required for WebAuthn authentication")};try{if(!ew())return{data:null,error:new xt("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!c)return{data:null,error:l};let{webauthn:u}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(c){return A(c)?{data:null,error:c}:{data:null,error:new xt("Unexpected error in authenticate",c)}}})}_register(s,a){return f(this,arguments,function*({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Kn("rpId is required for WebAuthn registration")};try{if(!ew())return{data:null,error:new xt("Browser does not support WebAuthn",null)};let{data:c,error:l}=yield this._enroll({friendlyName:t});if(!c)return yield this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};let{data:u,error:d}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return u?this._verify({factorId:c.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(c){return A(c)?{data:null,error:c}:{data:null,error:new xt("Unexpected error in register",c)}}})}};K_();var gM={url:C_,storageKey:D_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function ow(e,t,n){return f(this,null,function*(){return yield n()})}var so={},mM=(()=>{class e{get jwks(){var n,r;return(r=(n=so[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=so[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},gM),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Oe()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new oo({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Nl(s.fetch),this.lock=s.lock||ow,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Oe()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=qh:this.lock=ow,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vl(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Rl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Wh(this.memoryStorage)),Oe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",a=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Sl}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var n;try{let r={},i="none";if(Oe()&&(r=L_(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce")),Oe()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),A_(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?this._returnResult({error:r}):this._returnResult({error:new xt("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return f(this,null,function*(){var r,i,o;try{let s=yield k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:At}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signUp(n){return f(this,null,function*(){var r,i,o;try{let s;if("email"in n){let{email:d,password:p,options:h}=n,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield Gr(this.storage,this.storageKey)),s=yield k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:g,code_challenge_method:m},xform:At})}else if("phone"in n){let{phone:d,password:p,options:h}=n;s=yield k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:At})}else throw new Ur("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return yield je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(yield je(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}signInWithPassword(n){return f(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield k(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:zh})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield k(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:zh})}else throw new Ur("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new Mn;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(n){return f(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return f(this,null,function*(){let{chain:r}=n;switch(r){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(n){return f(this,null,function*(){var r,i,o,s,a,c,l,u,d,p,h;let g,m;if("message"in n)g=n.message,m=n.signature;else{let{chain:E,wallet:b,statement:Y,options:M}=n,x;if(Oe())if(typeof b=="object")x=b;else{let an=window;if("ethereum"in an&&typeof an.ethereum=="object"&&"request"in an.ethereum&&typeof an.ethereum.request=="function")x=an.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}let oe=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href),Bt=yield x.request({method:"eth_requestAccounts"}).then(an=>an).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Bt||Bt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let ue=Kh(Bt[0]),Ie=(i=M?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Ie){let an=yield x.request({method:"eth_chainId"});Ie=Y_(an)}let An={domain:oe.host,address:ue,statement:Y,uri:oe.href,version:"1",chainId:Ie,nonce:(o=M?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=M?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=M?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=M?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=M?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=M?.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=J_(An),m=yield x.request({method:"personal_sign",params:[Z_(g),ue]})}try{let{data:E,error:b}=yield k(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=n.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:At});if(b)throw b;if(!E||!E.session||!E.user){let Y=new Mn;return this._returnResult({data:{user:null,session:null},error:Y})}return E.session&&(yield this._saveSession(E.session),yield this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:b})}catch(E){if(A(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}})}signInWithSolana(n){return f(this,null,function*(){var r,i,o,s,a,c,l,u,d,p,h,g;let m,E;if("message"in n)m=n.message,E=n.signature;else{let{chain:b,wallet:Y,statement:M,options:x}=n,oe;if(Oe())if(typeof Y=="object")oe=Y;else{let ue=window;if("solana"in ue&&typeof ue.solana=="object"&&("signIn"in ue.solana&&typeof ue.solana.signIn=="function"||"signMessage"in ue.solana&&typeof ue.solana.signMessage=="function"))oe=ue.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");oe=Y}let Bt=new URL((r=x?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in oe&&oe.signIn){let ue=yield oe.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x?.signInWithSolana),{version:"1",domain:Bt.host,uri:Bt.href}),M?{statement:M}:null)),Ie;if(Array.isArray(ue)&&ue[0]&&typeof ue[0]=="object")Ie=ue[0];else if(ue&&typeof ue=="object"&&"signedMessage"in ue&&"signature"in ue)Ie=ue;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Ie&&"signature"in Ie&&(typeof Ie.signedMessage=="string"||Ie.signedMessage instanceof Uint8Array)&&Ie.signature instanceof Uint8Array)m=typeof Ie.signedMessage=="string"?Ie.signedMessage:new TextDecoder().decode(Ie.signedMessage),E=Ie.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in oe)||typeof oe.signMessage!="function"||!("publicKey"in oe)||typeof oe!="object"||!oe.publicKey||!("toBase58"in oe.publicKey)||typeof oe.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${Bt.host} wants you to sign in with your Solana account:`,oe.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${Bt.href}`,`Issued At: ${(o=(i=x?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=x?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((c=x?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((p=(d=x?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...x.signInWithSolana.resources.map(Ie=>`- ${Ie}`)]:[]].join(`
`);let ue=yield oe.signMessage(new TextEncoder().encode(m),"utf8");if(!ue||!(ue instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=ue}}try{let{data:b,error:Y}=yield k(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:xn(E)},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=n.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:At});if(Y)throw Y;if(!b||!b.session||!b.user){let M=new Mn;return this._returnResult({data:{user:null,session:null},error:M})}return b.session&&(yield this._saveSession(b.session),yield this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:Y})}catch(b){if(A(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}})}_exchangeCodeForSession(n){return f(this,null,function*(){let r=yield Zn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new xl;let{data:s,error:a}=yield k(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:At});if(yield je(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new Mn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(yield je(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}})}signInWithIdToken(n){return f(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,c=yield k(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:At}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new Mn;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(n){return f(this,null,function*(){var r,i,o,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Gr(this.storage,this.storageKey));let{error:p}=yield k(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield k(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Ur("You must provide either an email or phone number.")}catch(c){if(yield je(this.storage,`${this.storageKey}-code-verifier`),A(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}verifyOtp(n){return f(this,null,function*(){var r,i;try{let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield k(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:At});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(n){return f(this,null,function*(){var r,i,o,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=yield Gr(this.storage,this.storageKey));let u=yield k(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:W_});return!((s=u.data)===null||s===void 0)&&s.url&&Oe()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(yield je(this.storage,`${this.storageKey}-code-verifier`),A(c))return this._returnResult({data:null,error:c});throw c}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(n=>f(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new qe;let{error:o}=yield k(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(n){if(A(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}resend(n){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=yield k(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:c}=yield k(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new Ur("You must provide either an email or phone number and a type")}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(n,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=f(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield Zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<Tl:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let a=yield Zn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Pl()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=z_(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(n){return f(this,null,function*(){if(n)return yield this._getUser(n);yield this.initializePromise;let r=yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()}));return r.data.user&&(this.suppressGetSessionWarning=!0),r})}_getUser(n){return f(this,null,function*(){try{return n?yield k(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:on}):yield this._useSession(r=>f(this,null,function*(){var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qe}:yield k(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:on})}))}catch(r){if(A(r))return x_(r)&&(yield this._removeSession(),yield je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(i){return f(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return f(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>f(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new qe;let c=s.session,l=null,u=null;this.flowType==="pkce"&&n.email!=null&&([l,u]=yield Gr(this.storage,this.storageKey));let{data:d,error:p}=yield k(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:on});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})}))}catch(o){if(yield je(this.storage,`${this.storageKey}-code-verifier`),A(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return f(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new qe;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=kl(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(A(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new qe;let{data:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(n,r){return f(this,null,function*(){try{if(!Oe())throw new $r("No browser detected.");if(n.error||n.error_description||n.error_code)throw new $r(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Bs("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $r("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Bs("No code detected.");let{data:M,error:x}=yield this._exchangeCodeForSession(n.code);if(x)throw x;let oe=new URL(window.location.href);return oe.searchParams.delete("code"),window.history.replaceState(window.history.state,"",oe.toString()),{data:{session:M.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new $r("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),h=d+p;l&&(h=parseInt(l));let g=h-d;g*1e3<=Vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let m=h-p;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);let{data:E,error:b}=yield this._getUser(s);if(b)throw b;let Y={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:h,refresh_token:a,token_type:u,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Y,redirectType:n.type},error:null})}catch(i){if(A(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}})}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}_isPKCECallback(n){return f(this,null,function*(){let r=yield Zn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return f(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return f(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(M_(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(yield this._removeSession(),yield je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(n){let r=F_(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return f(this,arguments,function*(n,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield Gr(this.storage,this.storageKey,!0));try{return yield k(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(yield je(this.storage,`${this.storageKey}-code-verifier`),A(a))return this._returnResult({data:null,error:a});throw a}})}getUserIdentities(){return f(this,null,function*(){var n;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(n){return f(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return f(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>f(this,null,function*(){var a,c,l,u,d;let{data:p,error:h}=s;if(h)throw h;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield k(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return Oe()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(A(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}})}linkIdentityIdToken(n){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:c,token:l,access_token:u,nonce:d}=n,p=yield k(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:At}),{data:h,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Mn}):(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(o){if(yield je(this.storage,`${this.storageKey}-code-verifier`),A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield k(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(n){return f(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield U_(o=>f(this,null,function*(){return o>0&&(yield V_(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield k(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:At})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Al(s)&&Date.now()+a-i<Vr})}catch(i){if(this._debug(r,"error",i),A(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return f(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Oe()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=yield Zn(this.storage,this.storageKey);if(o&&this.userStorage){let a=yield Zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},yield zr(this.userStorage,this.storageKey+"-user",a)),o.user=(n=a?.user)!==null&&n!==void 0?n:Pl()}else if(o&&!o.user&&!o.user){let a=yield Zn(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,yield je(this.storage,this.storageKey+"-user"),yield zr(this.storage,this.storageKey,o)):o.user=Pl()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&(yield this._removeSession());return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tl;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Tl}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Al(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}})}_callRefreshToken(n){return f(this,null,function*(){var r,i;if(!n)throw new qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new zs;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new qe;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),A(s)){let a={data:null,error:s};return Al(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,i=!0){return f(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return f(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield je(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&(yield zr(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let s=Hh(o);yield zr(this.storage,this.storageKey,s)}else{let o=Hh(r);yield zr(this.storage,this.storageKey,o)}})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,yield je(this.storage,this.storageKey),yield je(this.storage,this.storageKey+"-code-verifier"),yield je(this.storage,this.storageKey+"-user"),this.userStorage&&(yield je(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Oe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Vr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Vr}ms, refresh threshold is ${Il} ticks`),o<=Il&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Gs)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Oe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return f(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,i){return f(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Gr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`})}_unenroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):yield k(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:l,error:u}=yield k(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(n.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}_verify(n){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?rw(n.webauthn.credential_response):iw(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:l}=yield k(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(n){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=yield k(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:tw(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:nw(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(n){return f(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return f(this,null,function*(){var n;let{data:{user:r},error:i}=yield this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){var n,r;let{data:{session:i},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=kl(i.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let u=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}})}_getAuthorizationDetails(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?yield k(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new qe})}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(n,r){return f(this,null,function*(){try{return yield this._useSession(i=>f(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new qe});let a=yield k(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Oe()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}})}_denyAuthorization(n,r){return f(this,null,function*(){try{return yield this._useSession(i=>f(this,null,function*(){let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new qe});let a=yield k(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Oe()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a}))}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}})}_listOAuthGrants(){return f(this,null,function*(){try{return yield this._useSession(n=>f(this,null,function*(){let{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?yield k(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new qe})}))}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}})}_revokeOAuthGrant(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(yield k(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qe})}))}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(i){return f(this,arguments,function*(n,r={keys:[]}){let o=r.keys.find(l=>l.kid===n);if(o)return o;let s=Date.now();if(o=this.jwks.keys.find(l=>l.kid===n),o&&this.jwks_cached_at+T_>s)return o;let{data:a,error:c}=yield k(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,o=a.keys.find(l=>l.kid===n),!o)?null:o})}getClaims(i){return f(this,arguments,function*(n,r={}){try{let o=n;if(!o){let{data:m,error:E}=yield this.getSession();if(E||!m.session)return this._returnResult({data:null,error:E});o=m.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=kl(o);r?.allowExpired||B_(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:m}=yield this.getUser(o);if(m)throw m;return{data:{claims:a,header:s,signature:c},error:null}}let p=H_(s.alg),h=yield crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,h,c,k_(`${l}.${u}`))))throw new Br("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(o){if(A(o))return this._returnResult({data:null,error:o});throw o}})}}return e.nextInstanceID={},e})(),Jh=mM;var vM=Jh,Qh=vM;var yM="2.88.0",Ws="";typeof Deno<"u"?Ws="deno":typeof document<"u"?Ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ws="react-native":Ws="node";var _M={"X-Client-Info":`supabase-js-${Ws}/${yM}`},wM={headers:_M},bM={schema:"public"},EM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CM={};function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function DM(e,t){if(qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SM(e){var t=DM(e,"string");return qs(t)=="symbol"?t:t+""}function IM(e,t,n){return(t=SM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sw(Object(n),!0).forEach(function(r){IM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var TM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),MM=()=>Headers,xM=(e,t,n)=>{let r=TM(n),i=MM();return(o,s)=>f(null,null,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,ye(ye({},s),{},{headers:l}))})};function AM(e){return e.endsWith("/")?e:e+"/"}function OM(e,t){var n,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:c,auth:l,realtime:u,global:d}=t,p={db:ye(ye({},c),i),auth:ye(ye({},l),o),realtime:ye(ye({},u),s),storage:{},global:ye(ye(ye({},d),a),{},{headers:ye(ye({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>f(null,null,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function RM(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AM(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var NM=class extends Qh{constructor(e){super(e)}},kM=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;let o=RM(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);let s=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:bM,realtime:CM,auth:ye(ye({},EM),{},{storageKey:s}),global:wM},c=OM(n??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=c.auth)!==null&&l!==void 0?l:{},this.headers,c.global.fetch)}this.fetch=xM(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ye({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new s_(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new E_(this.storageUrl.href,this.headers,this.fetch,n?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Os(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return f(this,null,function*(){var e=this,t,n;if(e.accessToken)return yield e.accessToken();let{data:r}=yield e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:s,lock:a,debug:c,throwOnError:l},u,d){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new NM({url:this.authUrl.href,headers:ye(ye({},p),u),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:a,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Fs(this.realtimeUrl.href,ye(ye({},e),{},{params:ye(ye({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},Ul=(e,t,n)=>new kM(e,t,n);function PM(){if(typeof window<"u"||typeof process>"u")return!1;let e=process.version;if(e==null)return!1;let t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}PM()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var ao={production:!1,supabase:{url:"https://yliweeipvhglkcsrcqig.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlsaXdlZWlwdmhnbGtjc3JjcWlnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5NTc3NTEsImV4cCI6MjA4MTUzMzc1MX0.iH23DZk_Hm24K40fheUk70eN--wVt6wrX1NNHduvBrU"}};var co=class e{supabase;portfolioData=W({summary:"Senior financial services leader with ~19 years of experience across Global Capability Centers (GCCs) in India and Canada. Proven track record in COO, Chief of Staff, PMO, and governance roles, driving large-scale transformation, operational excellence, and stakeholder outcomes.",objective:"To be a successful professional heading a COO organization, driving the implementation of key strategic initiatives, enabling value generation, and continuously improving client and stakeholder experience.",competencies:["Business Strategy & Execution","COO & Chief of Staff Functions","Digital & Operational Transformation","Data Analysis & Management","Financial Management","Operations & Delivery Management","Program & Portfolio Management","Management & Executive Reporting","Stakeholder & Governance Management","Transition & Change Management"],experiences:[{company:"Soci\xE9t\xE9 G\xE9n\xE9rale \u2013 Global Solution Centre, India",role:"Senior Manager \u2013 COO / Chief Administrative Officer (GTPS)",period:"Jan 2023 \u2013 Present",responsibilities:["Chief Administrative Officer for Global Transaction and Payment Services (GTPS)","Member of the GTPS Operations Executive Committee","Develop and execute actionable business strategies","Program manage key transformation initiatives spanning Digital, AI, and Operational Efficiency","Led end-to-end ownership of a major strategic program restructuring","Accountable for sub-business line budgets and efficiency targets"]},{company:"Soci\xE9t\xE9 G\xE9n\xE9rale \u2013 Global Solution Centre, India",role:"Governance & Engagement Leader / Chief of Staff",period:"Jul 2021 \u2013 Jan 2023",responsibilities:["Chief of Staff and COO to the Head of Finance & Global Banking Advisory","Member of the Finance Operations Executive Committee","Managed executive meeting cadence","Oversaw daily operations and transformation initiatives","Monitored large, cross-functional, organization-wide initiatives"]},{company:"Soci\xE9t\xE9 G\xE9n\xE9rale \u2013 Global Solution Centre, India",role:"PMO Manager / PMO Lead",period:"Mar 2017 \u2013 Jun 2021",responsibilities:["PMO Manager supporting the Americas COO and senior management","Trained project managers in the US and Canada","Monitored initiatives aimed at improving customer experience","Coordinated project reporting and executive dashboards"]},{company:"Soci\xE9t\xE9 G\xE9n\xE9rale \u2013 Montreal Solution Centre, Canada",role:"Chief of Staff & COO to Americas COO / Canada CIO",period:"Jun 2019 \u2013 Jun 2021",responsibilities:["Member of the Regional Executive Committee","Led teams across Financial Management, Resource Management, and Governance","Supported senior management on Internal Audit and Risk Management","Drove implementation of Group Strategic initiatives"]},{company:"Capco Technologies, India",role:"Senior Consultant \u2013 Portfolio Manager",period:"May 2016 \u2013 Mar 2017",responsibilities:["Portfolio Manager supporting the Regional Director","Managed budgets for Change the Bank and Run the Bank initiatives","Oversaw portfolio governance and compliance","Ensured optimal resource allocation"]},{company:"RBS Business Services, India",role:"Manager \u2013 Team Manager / PMO Lead",period:"Oct 2010 \u2013 May 2016",responsibilities:["Team Manager in User Access Management","PMO Lead managing high-impact strategic projects","Represented PMO in senior leadership forums","Delivered training sessions for Management Trainees"]},{company:"Wipro BPO, India",role:"Senior Associate \u2013 MI / Team Management",period:"Oct 2007 \u2013 Dec 2010",responsibilities:["Supported Microsoft account across Invoicing and Data Analysis","Monitored SLAs and operational performance metrics","Coordinated client engagement activities"]}],education:["Bachelor of Science (Mathematics)","Executive Post Graduate Program in Business Management (Finance)"],international:["Worked extensively in Canada (Montreal)","Supported clients across America, Canada, and Brazil","Built and managed multicultural teams"]});constructor(){this.supabase=Ul(ao.supabase.url,ao.supabase.anonKey),this.loadData()}loadData(){return f(this,null,function*(){try{let{data:t,error:n}=yield this.supabase.from("portfolio_angular").select("*").single();t&&!n&&this.portfolioData.set(t)}catch(t){console.error("Error loading portfolio data:",t)}})}saveData(t){return f(this,null,function*(){try{let{error:n}=yield this.supabase.from("portfolio_angular").upsert(t);if(n)throw n;return this.portfolioData.set(t),!0}catch(n){return console.error("Error saving portfolio data:",n),!1}})}getData(){return this.portfolioData()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})};var cw=(e,t)=>t.company+t.period;function FM(e,t){if(e&1&&(I(0,"div",5)(1,"h2"),v(2,"Professional Summary"),T(),I(3,"p"),v(4),T()()),e&2){let n=S(2);y(4),ce(n.portfolioService.getData().summary)}}function LM(e,t){if(e&1&&(I(0,"div",5)(1,"h2"),v(2,"Career Objective"),T(),I(3,"p"),v(4),T()()),e&2){let n=S(2);y(4),ce(n.portfolioService.getData().objective)}}function jM(e,t){if(e&1&&(I(0,"li"),v(1),T()),e&2){let n=t.$implicit;y(),ce(n)}}function VM(e,t){if(e&1&&(I(0,"div",5)(1,"h2"),v(2,"Core Competencies"),T(),I(3,"ul",6),Pe(4,jM,2,1,"li",null,Qt),T()()),e&2){let n=S(2);y(4),Fe(n.portfolioService.getData().competencies)}}function UM(e,t){if(e&1&&(I(0,"li"),v(1),T()),e&2){let n=t.$implicit;y(),ce(n)}}function $M(e,t){if(e&1&&(I(0,"div",8),Lt(1,"div",9),I(2,"div",10)(3,"h3"),v(4),T(),I(5,"h4"),v(6),T(),I(7,"p",11),v(8),T(),I(9,"ul"),Pe(10,UM,2,1,"li",null,Qt),T()()()),e&2){let n=t.$implicit;y(4),ce(n.company),y(2),ce(n.role),y(2),ce(n.period),y(2),Fe(n.responsibilities)}}function BM(e,t){if(e&1&&(I(0,"div",5)(1,"h2"),v(2,"Professional Experience"),T(),I(3,"div",7),Pe(4,$M,12,3,"div",8,cw),T()()),e&2){let n=S(2);y(4),Fe(n.portfolioService.getData().experiences)}}function HM(e,t){if(e&1&&(I(0,"li"),v(1),T()),e&2){let n=t.$implicit;y(),ce(n)}}function zM(e,t){if(e&1&&(I(0,"div",5)(1,"h2"),v(2,"Education"),T(),I(3,"ul",12),Pe(4,HM,2,1,"li",null,Qt),T()()),e&2){let n=S(2);y(4),Fe(n.portfolioService.getData().education)}}function GM(e,t){if(e&1&&(I(0,"li",14),v(1),T()),e&2){let n=t.$implicit;y(),ce(n)}}function WM(e,t){if(e&1&&(I(0,"div",5)(1,"h2"),v(2,"International Experience"),T(),I(3,"ul",13),Pe(4,GM,2,1,"li",14,Qt),T()()),e&2){let n=S(2);y(4),Fe(n.portfolioService.getData().international)}}function qM(e,t){if(e&1){let n=he();I(0,"div",2)(1,"button",3),tt("click",function(){j(n);let i=S();return V(i.setActiveTab("summary"))}),v(2," Summary "),T(),I(3,"button",3),tt("click",function(){j(n);let i=S();return V(i.setActiveTab("objective"))}),v(4," Objective "),T(),I(5,"button",3),tt("click",function(){j(n);let i=S();return V(i.setActiveTab("competencies"))}),v(6," Competencies "),T(),I(7,"button",3),tt("click",function(){j(n);let i=S();return V(i.setActiveTab("experience"))}),v(8," Experience "),T(),I(9,"button",3),tt("click",function(){j(n);let i=S();return V(i.setActiveTab("education"))}),v(10," Education "),T(),I(11,"button",3),tt("click",function(){j(n);let i=S();return V(i.setActiveTab("international"))}),v(12," International "),T()(),I(13,"div",4),Z(14,FM,5,1,"div",5),Z(15,LM,5,1,"div",5),Z(16,VM,6,0,"div",5),Z(17,BM,6,0,"div",5),Z(18,zM,6,0,"div",5),Z(19,WM,6,0,"div",5),T()}if(e&2){let n=S();y(),ae("active",n.activeTab()==="summary"),y(2),ae("active",n.activeTab()==="objective"),y(2),ae("active",n.activeTab()==="competencies"),y(2),ae("active",n.activeTab()==="experience"),y(2),ae("active",n.activeTab()==="education"),y(2),ae("active",n.activeTab()==="international"),y(3),J(n.activeTab()==="summary"?14:-1),y(),J(n.activeTab()==="objective"?15:-1),y(),J(n.activeTab()==="competencies"?16:-1),y(),J(n.activeTab()==="experience"?17:-1),y(),J(n.activeTab()==="education"?18:-1),y(),J(n.activeTab()==="international"?19:-1)}}function KM(e,t){if(e&1&&(I(0,"div",19)(1,"p"),v(2),T()()),e&2){let n=S(2);y(2),ce(n.portfolioService.getData().summary)}}function YM(e,t){if(e&1&&(I(0,"div",19)(1,"p"),v(2),T()()),e&2){let n=S(2);y(2),ce(n.portfolioService.getData().objective)}}function ZM(e,t){if(e&1&&(I(0,"li"),v(1),T()),e&2){let n=t.$implicit;y(),ce(n)}}function JM(e,t){if(e&1&&(I(0,"div",19)(1,"ul",6),Pe(2,ZM,2,1,"li",null,Qt),T()()),e&2){let n=S(2);y(2),Fe(n.portfolioService.getData().competencies)}}function QM(e,t){if(e&1&&(I(0,"li"),v(1),T()),e&2){let n=t.$implicit;y(),ce(n)}}function XM(e,t){if(e&1&&(I(0,"div",8),Lt(1,"div",9),I(2,"div",10)(3,"h3"),v(4),T(),I(5,"h4"),v(6),T(),I(7,"p",11),v(8),T(),I(9,"ul"),Pe(10,QM,2,1,"li",null,Qt),T()()()),e&2){let n=t.$implicit;y(4),ce(n.company),y(2),ce(n.role),y(2),ce(n.period),y(2),Fe(n.responsibilities)}}function ex(e,t){if(e&1&&(I(0,"div",19)(1,"div",7),Pe(2,XM,12,3,"div",8,cw),T()()),e&2){let n=S(2);y(2),Fe(n.portfolioService.getData().experiences)}}function tx(e,t){if(e&1&&(I(0,"li"),v(1),T()),e&2){let n=t.$implicit;y(),ce(n)}}function nx(e,t){if(e&1&&(I(0,"div",19)(1,"ul",12),Pe(2,tx,2,1,"li",null,Qt),T()()),e&2){let n=S(2);y(2),Fe(n.portfolioService.getData().education)}}function rx(e,t){if(e&1&&(I(0,"li"),v(1),T()),e&2){let n=t.$implicit;y(),ce(n)}}function ix(e,t){if(e&1&&(I(0,"div",19)(1,"ul",13),Pe(2,rx,2,1,"li",null,Qt),T()()),e&2){let n=S(2);y(2),Fe(n.portfolioService.getData().international)}}function ox(e,t){if(e&1){let n=he();I(0,"div",1)(1,"div",15)(2,"button",16),tt("click",function(){j(n);let i=S();return V(i.toggleMobileSection("summary"))}),I(3,"span"),v(4,"Professional Summary"),T(),Xe(),I(5,"svg",17),Lt(6,"polyline",18),T()(),Z(7,KM,3,1,"div",19),T(),Yt(),I(8,"div",15)(9,"button",16),tt("click",function(){j(n);let i=S();return V(i.toggleMobileSection("objective"))}),I(10,"span"),v(11,"Career Objective"),T(),Xe(),I(12,"svg",17),Lt(13,"polyline",18),T()(),Z(14,YM,3,1,"div",19),T(),Yt(),I(15,"div",15)(16,"button",16),tt("click",function(){j(n);let i=S();return V(i.toggleMobileSection("competencies"))}),I(17,"span"),v(18,"Core Competencies"),T(),Xe(),I(19,"svg",17),Lt(20,"polyline",18),T()(),Z(21,JM,4,0,"div",19),T(),Yt(),I(22,"div",15)(23,"button",16),tt("click",function(){j(n);let i=S();return V(i.toggleMobileSection("experience"))}),I(24,"span"),v(25,"Professional Experience"),T(),Xe(),I(26,"svg",17),Lt(27,"polyline",18),T()(),Z(28,ex,4,0,"div",19),T(),Yt(),I(29,"div",15)(30,"button",16),tt("click",function(){j(n);let i=S();return V(i.toggleMobileSection("education"))}),I(31,"span"),v(32,"Education"),T(),Xe(),I(33,"svg",17),Lt(34,"polyline",18),T()(),Z(35,nx,4,0,"div",19),T(),Yt(),I(36,"div",15)(37,"button",16),tt("click",function(){j(n);let i=S();return V(i.toggleMobileSection("international"))}),I(38,"span"),v(39,"International Experience"),T(),Xe(),I(40,"svg",17),Lt(41,"polyline",18),T()(),Z(42,ix,4,0,"div",19),T()()}if(e&2){let n=S();y(2),ae("active",n.activeTab()==="summary"),y(5),J(n.activeTab()==="summary"?7:-1),y(2),ae("active",n.activeTab()==="objective"),y(5),J(n.activeTab()==="objective"?14:-1),y(2),ae("active",n.activeTab()==="competencies"),y(5),J(n.activeTab()==="competencies"?21:-1),y(2),ae("active",n.activeTab()==="experience"),y(5),J(n.activeTab()==="experience"?28:-1),y(2),ae("active",n.activeTab()==="education"),y(5),J(n.activeTab()==="education"?35:-1),y(2),ae("active",n.activeTab()==="international"),y(5),J(n.activeTab()==="international"?42:-1)}}var $l=class e{constructor(t){this.portfolioService=t;window.addEventListener("resize",()=>{this.isMobile.set(window.innerWidth<768)})}activeTab=W("summary");isMobile=W(window.innerWidth<768);setActiveTab(t){this.activeTab.set(t)}toggleMobileSection(t){this.activeTab()===t?this.activeTab.set(""):this.activeTab.set(t)}static \u0275fac=function(n){return new(n||e)(K(co))};static \u0275cmp=et({type:e,selectors:[["app-portfolio"]],decls:3,vars:1,consts:[[1,"portfolio-container"],[1,"accordion"],[1,"tabs"],[1,"tab",3,"click"],[1,"content"],[1,"section"],[1,"competencies-list"],[1,"timeline"],[1,"timeline-item"],[1,"timeline-dot"],[1,"timeline-content"],[1,"period"],[1,"education-list"],[1,"international-list"],[2,"margin","0px","padding","20px"],[1,"accordion-item"],[1,"accordion-header",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","6 9 12 15 18 9"],[1,"accordion-content"]],template:function(n,r){n&1&&(I(0,"div",0),Z(1,qM,20,18)(2,ox,43,18,"div",1),T()),n&2&&(y(),J(r.isMobile()?2:1))},dependencies:[Tt],styles:['@charset "UTF-8";.portfolio-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto 100px;padding:2.5rem 2rem}.tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;border-bottom:2px solid var(--border-color);margin-bottom:2.5rem;overflow-x:auto;scrollbar-width:thin;scrollbar-color:var(--text-secondary) transparent}.tabs[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}.tabs[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--text-secondary);border-radius:2px}.tab[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-primary);font-size:.9375rem;font-weight:500;padding:1rem 1.75rem;cursor:pointer;border-bottom:3px solid transparent;transition:all .2s ease;white-space:nowrap;letter-spacing:.01em}.tab[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:var(--bg-secondary);border-radius:8px 8px 0 0}.tab.active[_ngcontent-%COMP%]{border-bottom-color:var(--text-primary);font-weight:600;color:var(--text-primary)}.content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}.section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:2rem;color:var(--text-primary);cursor:default;letter-spacing:-.02em}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:600;margin-bottom:.75rem;color:var(--text-primary);cursor:default;letter-spacing:-.01em}.section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin-bottom:.5rem;color:var(--text-primary);cursor:default}.section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.75;color:var(--text-primary);margin-bottom:1rem;cursor:default;font-size:1rem;font-weight:400}.section[_ngcontent-%COMP%]   p.period[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9375rem;margin-bottom:1.25rem;font-weight:500}.section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}.section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.625rem 0 .625rem 1.75rem;position:relative;line-height:1.75;color:var(--text-primary);cursor:default;font-size:.9375rem;font-weight:400}.section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";position:absolute;left:0;color:var(--text-secondary);font-size:1.25rem;line-height:1.5}.competencies-list[_ngcontent-%COMP%], .education-list[_ngcontent-%COMP%], .international-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem}.competencies-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .education-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .international-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:var(--bg-secondary);padding:1rem 1.25rem;border-radius:8px;border:1px solid var(--border-color);font-weight:500;transition:all .2s ease}.competencies-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .education-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .international-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{border-color:var(--text-secondary);box-shadow:0 2px 8px var(--shadow);transform:translateY(-2px)}.competencies-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before, .education-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before, .international-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{display:none}.timeline[_ngcontent-%COMP%]{position:relative;padding-left:2.5rem}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--border-color);border-radius:2px}.timeline-item[_ngcontent-%COMP%]{position:relative;margin-bottom:3.5rem}.timeline-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.timeline-dot[_ngcontent-%COMP%]{position:absolute;left:-2.8rem;top:.5rem;width:14px;height:14px;border-radius:50%;background:var(--text-primary);border:4px solid var(--bg-primary);box-shadow:0 0 0 2px var(--border-color)}.timeline-content[_ngcontent-%COMP%]{padding-left:1.5rem;padding:1.5rem;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color);transition:all .2s ease}.timeline-content[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px var(--shadow);transform:translate(4px)}.accordion[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.accordion-item[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:10px;overflow:hidden;transition:all .2s ease}.accordion-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px var(--shadow)}.accordion-header[_ngcontent-%COMP%]{width:100%;background:var(--bg-secondary);border:none;padding:1.25rem 1.5rem;display:flex;justify-content:space-between;align-items:center;cursor:pointer;font-size:1.0625rem;font-weight:600;color:var(--text-primary);transition:all .2s ease;letter-spacing:.01em}.accordion-header[_ngcontent-%COMP%]:hover{background:var(--border-color)}.accordion-header.active[_ngcontent-%COMP%]{background:var(--bg-primary);border-bottom:1px solid var(--border-color)}.accordion-header.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(180deg)}.accordion-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .3s ease;flex-shrink:0}.accordion-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left}.accordion-content[_ngcontent-%COMP%]{padding:1.5rem;animation:_ngcontent-%COMP%_slideDown .3s ease;background:var(--bg-primary)}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:2000px}}@media (max-width: 768px){.portfolio-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.tabs[_ngcontent-%COMP%]{margin-bottom:1.5rem}.tab[_ngcontent-%COMP%]{font-size:.875rem;padding:.875rem 1.25rem}.section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.competencies-list[_ngcontent-%COMP%], .education-list[_ngcontent-%COMP%], .international-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.timeline[_ngcontent-%COMP%]{padding-left:2rem}.timeline-dot[_ngcontent-%COMP%]{left:-2.4rem}.timeline-content[_ngcontent-%COMP%]{padding:1.25rem}.accordion-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;font-size:.9375rem}.accordion-content[_ngcontent-%COMP%]{padding:1.25rem}}']})};var vw=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(K(Mr),K(Bn))};static \u0275dir=ze({type:e})}return e})(),sx=(()=>{class e extends vw{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Tr(e)))(i||e)}})();static \u0275dir=ze({type:e,features:[Jt]})}return e})(),yw=new N("");var ax={provide:yw,useExisting:pn(()=>Qn),multi:!0};function cx(){let e=It()?It().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var lx=new N(""),Qn=(()=>{class e extends vw{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!cx())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(K(Mr),K(Bn),K(lx,8))};static \u0275dir=ze({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ee("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ki([ax]),Jt]})}return e})();function ux(e){return e==null||dx(e)===0}function dx(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var tp=new N(""),_w=new N("");function fx(e){return ux(e.value)?{required:!0}:null}function lw(e){return null}function ww(e){return e!=null}function bw(e){return Ar(e)?me(e):e}function Ew(e){let t={};return e.forEach(n=>{t=n!=null?D(D({},t),n):t}),Object.keys(t).length===0?null:t}function Cw(e,t){return t.map(n=>n(e))}function hx(e){return!e.validate}function Dw(e){return e.map(t=>hx(t)?t:n=>t.validate(n))}function px(e){if(!e)return null;let t=e.filter(ww);return t.length==0?null:function(n){return Ew(Cw(n,t))}}function np(e){return e!=null?px(Dw(e)):null}function gx(e){if(!e)return null;let t=e.filter(ww);return t.length==0?null:function(n){let r=Cw(n,t).map(bw);return wu(r).pipe(X(Ew))}}function rp(e){return e!=null?gx(Dw(e)):null}function uw(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function mx(e){return e._rawValidators}function vx(e){return e._rawAsyncValidators}function Xh(e){return e?Array.isArray(e)?e:[e]:[]}function Hl(e,t){return Array.isArray(e)?e.includes(t):e===t}function dw(e,t){let n=Xh(t);return Xh(e).forEach(i=>{Hl(n,i)||n.push(i)}),n}function fw(e,t){return Xh(t).filter(n=>!Hl(e,n))}var zl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=np(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=rp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},fo=class extends zl{name;get formDirective(){return null}get path(){return null}},Xs=class extends zl{_parent=null;name=null;valueAccessor=null},Gl=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},yx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},H5=G(D({},yx),{"[class.ng-submitted]":"isSubmitted"}),ho=(()=>{class e extends Gl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(K(Xs,2))};static \u0275dir=ze({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ae("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Jt]})}return e})(),po=(()=>{class e extends Gl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(K(fo,10))};static \u0275dir=ze({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ae("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Jt]})}return e})();var Ks="VALID",Bl="INVALID",lo="PENDING",Ys="DISABLED",Jn=class{},Wl=class extends Jn{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Js=class extends Jn{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Qs=class extends Jn{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},uo=class extends Jn{status;source;constructor(t,n){super(),this.status=t,this.source=n}},ep=class extends Jn{source;constructor(t){super(),this.source=t}},ql=class extends Jn{source;constructor(t){super(),this.source=t}};function Sw(e){return(Zl(e)?e.validators:e)||null}function _x(e){return Array.isArray(e)?np(e):e||null}function Iw(e,t){return(Zl(t)?t.asyncValidators:e)||null}function wx(e){return Array.isArray(e)?rp(e):e||null}function Zl(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function bx(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new O(1e3,"");if(!r[n])throw new O(1001,"")}function Ex(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new O(1002,"")})}var Kl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return We(this.statusReactive)}set status(t){We(()=>this.statusReactive.set(t))}_status=Pi(()=>this.statusReactive());statusReactive=W(void 0);get valid(){return this.status===Ks}get invalid(){return this.status===Bl}get pending(){return this.status==lo}get disabled(){return this.status===Ys}get enabled(){return this.status!==Ys}errors;get pristine(){return We(this.pristineReactive)}set pristine(t){We(()=>this.pristineReactive.set(t))}_pristine=Pi(()=>this.pristineReactive());pristineReactive=W(!0);get dirty(){return!this.pristine}get touched(){return We(this.touchedReactive)}set touched(t){We(()=>this.touchedReactive.set(t))}_touched=Pi(()=>this.touchedReactive());touchedReactive=W(!1);get untouched(){return!this.touched}_events=new be;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(dw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(dw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(fw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(fw(t,this._rawAsyncValidators))}hasValidator(t){return Hl(this._rawValidators,t)}hasAsyncValidator(t){return Hl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(G(D({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Qs(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Qs(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(G(D({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Js(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Js(!0,r))}markAsPending(t={}){this.status=lo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new uo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(G(D({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ys,this.errors=null,this._forEachChild(i=>{i.disable(G(D({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Wl(this.value,r)),this._events.next(new uo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(D({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ks,this._forEachChild(r=>{r.enable(G(D({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(G(D({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ks||this.status===lo)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Wl(this.value,n)),this._events.next(new uo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(G(D({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ys:Ks}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=lo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=bw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new uo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Ce,this.statusChanges=new Ce}_calculateStatus(){return this._allControlsDisabled()?Ys:this.errors?Bl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lo)?lo:this._anyControlsHaveStatus(Bl)?Bl:Ks}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Js(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Qs(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Zl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=_x(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=wx(this._rawAsyncValidators)}},Yl=class extends Kl{constructor(t,n,r){super(Sw(n),Iw(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Ex(this,!0,t),Object.keys(t).forEach(r=>{bx(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new ql(this))}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var ip=new N("",{providedIn:"root",factory:()=>op}),op="always";function Cx(e,t){return[...t.path,e]}function Tw(e,t,n=op){Mw(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Sx(e,t),Tx(e,t),Ix(e,t),Dx(e,t)}function hw(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Dx(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Mw(e,t){let n=mx(e);t.validator!==null?e.setValidators(uw(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=vx(e);t.asyncValidator!==null?e.setAsyncValidators(uw(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();hw(t._rawValidators,i),hw(t._rawAsyncValidators,i)}function Sx(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&xw(e,t)})}function Ix(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&xw(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function xw(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Tx(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function Mx(e,t){e==null,Mw(e,t)}function xx(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function Ax(e){return Object.getPrototypeOf(e.constructor)===sx}function Ox(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Rx(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Qn?n=o:Ax(o)?r=o:i=o}),i||r||n||null}var Nx={provide:fo,useExisting:pn(()=>Zr)},Zs=Promise.resolve(),Zr=(()=>{class e extends fo{callSetDisabledState;get submitted(){return We(this.submittedReactive)}_submitted=Pi(()=>this.submittedReactive());submittedReactive=W(!1);_directives=new Set;form;ngSubmit=new Ce;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Yl({},np(n),rp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Zs.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Tw(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Zs.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Zs.then(()=>{let r=this._findContainer(n.path),i=new Yl({});Mx(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Zs.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Zs.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Ox(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new ep(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(K(tp,10),K(_w,10),K(ip,8))};static \u0275dir=ze({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ee("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ki([Nx]),Jt]})}return e})();function pw(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function gw(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var kx=class extends Kl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(Sw(n),Iw(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(gw(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new ql(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){pw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){pw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){gw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Px={provide:Xs,useExisting:pn(()=>Jr)},mw=Promise.resolve(),Jr=(()=>{class e extends Xs{_changeDetectorRef;callSetDisabledState;control=new kx;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ce;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Rx(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),xx(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Tw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){mw.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Or(r);mw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Cx(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(K(fo,9),K(tp,10),K(_w,10),K(yw,10),K(Li,8),K(ip,8))};static \u0275dir=ze({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ki([Px]),Jt,bn]})}return e})();var go=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ze({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var Fx=(()=>{class e{_validator=lw;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):lw,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ze({type:e,features:[bn]})}return e})();var Lx={provide:tp,useExisting:pn(()=>Qr),multi:!0};var Qr=(()=>{class e extends Fx{required;inputName="required";normalizeInput=Or;createValidator=n=>fx;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Tr(e)))(i||e)}})();static \u0275dir=ze({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ri("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ki([Lx]),Jt]})}return e})();var jx=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Cn({type:e});static \u0275inj=zt({})}return e})();var mo=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:ip,useValue:n.callSetDisabledState??op}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Cn({type:e});static \u0275inj=zt({imports:[jx]})}return e})();function Vx(e,t){if(e&1){let n=he();w(0,"button",15),ee("click",function(){j(n);let i=S();return V(i.revealEmail())}),v(1,"Show Email"),_()}}function Ux(e,t){if(e&1&&(w(0,"a",5),v(1),_()),e&2){let n=S();Ge("href","mailto:"+n.decryptEmail(),Jo),y(),ce(n.decryptEmail())}}function $x(e,t){if(e&1){let n=he();w(0,"button",15),ee("click",function(){j(n);let i=S();return V(i.revealPhone())}),v(1,"Show Phone"),_()}}function Bx(e,t){if(e&1&&(w(0,"a",5),v(1),_()),e&2){let n=S();Ge("href","tel:"+n.decryptPhone(),Jo),y(),ce(n.decryptPhone())}}function Hx(e,t){if(e&1&&(w(0,"div",28),v(1),_()),e&2){let n=S(2);y(),St(" ",n.submitMessage()," ")}}function zx(e,t){e&1&&(w(0,"span"),v(1,"Sending..."),_())}function Gx(e,t){e&1&&(w(0,"span"),v(1,"Send Message"),_())}function Wx(e,t){if(e&1){let n=he();w(0,"form",16),ee("ngSubmit",function(){j(n);let i=S();return V(i.submitForm())}),w(1,"div",17)(2,"label",18),v(3,"Name *"),_(),w(4,"input",19),Se("ngModelChange",function(i){j(n);let o=S();return xe(o.formData.name,i)||(o.formData.name=i),V(i)}),_()(),w(5,"div",17)(6,"label",20),v(7,"Email *"),_(),w(8,"input",21),Se("ngModelChange",function(i){j(n);let o=S();return xe(o.formData.email,i)||(o.formData.email=i),V(i)}),_()(),w(9,"div",17)(10,"label",22),v(11,"Subject *"),_(),w(12,"input",23),Se("ngModelChange",function(i){j(n);let o=S();return xe(o.formData.subject,i)||(o.formData.subject=i),V(i)}),_()(),w(13,"div",17)(14,"label",24),v(15,"Message *"),_(),w(16,"textarea",25),Se("ngModelChange",function(i){j(n);let o=S();return xe(o.formData.message,i)||(o.formData.message=i),V(i)}),_()(),w(17,"div",26),Dt(18,"div",27),_(),Z(19,Hx,2,1,"div",28),w(20,"button",29),Z(21,zx,2,0,"span")(22,Gx,2,0,"span"),_()()}if(e&2){let n=S();y(4),De("ngModel",n.formData.name),y(4),De("ngModel",n.formData.email),y(4),De("ngModel",n.formData.subject),y(4),De("ngModel",n.formData.message),y(3),J(n.submitMessage()?19:-1),y(),Ge("disabled",n.isSubmitting()||!n.turnstileVerified()),y(),J(n.isSubmitting()?21:22)}}function qx(e,t){e&1&&(w(0,"div",7),Xe(),w(1,"svg",30),Dt(2,"path",31)(3,"polyline",32),_(),Yt(),w(4,"h2"),v(5,"Thank you for your message!"),_(),w(6,"p"),v(7,"I'll get back to you as soon as possible."),_()())}var Jl=class e{showEmail=W(!1);showPhone=W(!1);formSubmitted=W(!1);isSubmitting=W(!1);turnstileVerified=W(!1);formData={name:"",email:"",subject:"",message:""};currentYear=new Date().getFullYear();submitMessage=W("");ngOnInit(){this.defineTurnstileCallbacks(),this.injectTurnstileScript()}ngAfterViewInit(){this.renderTurnstile()}defineTurnstileCallbacks(){window.onTurnstileCallback=t=>{console.log("Verification successful"),this.turnstileVerified.set(!0)},window.onTurnstileExpired=()=>{this.turnstileVerified.set(!1)}}injectTurnstileScript(){if(!document.querySelector('script[src*="turnstile"]')){let t=document.createElement("script");t.src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit",t.async=!0,t.defer=!0,document.head.appendChild(t)}}renderTurnstile(){let t=window.turnstile;t?(this.turnstileVerified.set(!1),t.render("#turnstile-widget",{sitekey:"0x4AAAAAACHTNNmU7abANRIx",callback:n=>{console.log("Success! Enabling button..."),this.turnstileVerified.set(!0)},"expired-callback":()=>{this.turnstileVerified.set(!1)},"error-callback":()=>{this.turnstileVerified.set(!1)}})):setTimeout(()=>this.renderTurnstile(),100)}ngOnDestroy(){window.turnstile&&window.turnstile.remove()}decryptEmail(){return atob("dmNrMTI0ODZAaG90bWFpbC5jb20=")}decryptPhone(){return atob("KzkxIDk5NjIwMTI0ODY=")}revealEmail(){this.showEmail.set(!0)}revealPhone(){this.showPhone.set(!0)}submitForm(){return f(this,null,function*(){if(!this.turnstileVerified()){alert("Please complete the verification");return}if(!this.formData.name||!this.formData.email||!this.formData.message){this.submitMessage.set("Please fill in all required fields.");return}this.isSubmitting.set(!0),this.submitMessage.set("");try{(yield fetch("https://formsubmit.co/ajax/vck12486@hotmail.com",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:this.formData.name,email:this.formData.email,subject:this.formData.subject,message:this.formData.message})})).ok?(this.formSubmitted.set(!0),this.formData={name:"",email:"",subject:"",message:""}):alert("Failed to send message. Please try again.")}catch{alert("An error occurred. Please try again.")}finally{this.isSubmitting.set(!1)}})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=et({type:e,selectors:[["app-contact"]],decls:35,vars:4,consts:[[1,"contact-container"],[1,"contact-header"],[1,"contact-info"],[1,"info-item"],[1,"reveal-btn"],[3,"href"],[1,"contact-form"],[1,"success-message"],[1,"subtle-footer"],[1,"footer-content"],[1,"footer-info"],[1,"footer-copyright"],[1,"separator"],[1,"developer-credit"],["href","https://kash-pram.github.io","target","_blank","rel","noopener noreferrer",1,"footer-link-highlight"],[1,"reveal-btn",3,"click"],[1,"contact-form",3,"ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","","placeholder","Your name",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","","placeholder","your.email@example.com",3,"ngModelChange","ngModel"],["for","subject"],["type","text","id","subject","name","subject","required","","placeholder","Subject of your message",3,"ngModelChange","ngModel"],["for","message"],["id","message","name","message","rows","6","required","","placeholder","Your message...",3,"ngModelChange","ngModel"],[1,"turnstile-container"],["id","turnstile-widget",1,"cf-turnstile"],[1,"submit-message"],["type","submit",1,"submit-btn",3,"disabled"],["xmlns","http://www.w3.org/2000/svg","width","64","height","64","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"div",1)(2,"h1"),v(3,"Get In Touch"),_(),w(4,"p"),v(5,"Feel free to reach out for opportunities or collaborations"),_()(),w(6,"div",2)(7,"div",3)(8,"h3"),v(9,"Location"),_(),w(10,"p"),v(11,"Chennai, Tamil Nadu, India"),_()(),w(12,"div",3)(13,"h3"),v(14,"Email"),_(),Z(15,Vx,2,0,"button",4)(16,Ux,2,2,"a",5),_(),w(17,"div",3)(18,"h3"),v(19,"Phone"),_(),Z(20,$x,2,0,"button",4)(21,Bx,2,2,"a",5),_()(),Z(22,Wx,23,7,"form",6)(23,qx,8,0,"div",7),w(24,"footer",8)(25,"div",9)(26,"div",10)(27,"p",11),v(28),_(),w(29,"span",12),v(30,"\u2022"),_(),w(31,"p",13),v(32," Developed by "),w(33,"a",14),v(34," kash-pram "),_()()()()()()),n&2&&(y(15),J(r.showEmail()?16:15),y(5),J(r.showPhone()?21:20),y(2),J(r.formSubmitted()?23:22),y(6),St(" \xA9 ",r.currentYear," Chidambaram V. All rights reserved. "))},dependencies:[Tt,mo,go,Qn,ho,po,Qr,Jr,Zr],styles:[".contact-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:2.5rem 2rem}.contact-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3.5rem}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.75rem;font-weight:700;margin-bottom:1rem;color:var(--text-primary);cursor:default;letter-spacing:-.03em}.contact-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:var(--text-secondary);cursor:default;font-weight:400;line-height:1.6}.contact-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.5rem;margin-bottom:3rem;padding:2rem;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color)}.info-item[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;background:var(--bg-primary);border-radius:10px;border:1px solid var(--border-color);transition:all .2s ease}.info-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px var(--shadow);transform:translateY(-2px)}.info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin-bottom:.75rem;color:var(--text-primary);cursor:default;letter-spacing:.01em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-primary);cursor:default;font-size:.9375rem;font-weight:400}.info-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-primary);text-decoration:none;cursor:pointer;font-size:.9375rem;font-weight:500}.info-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.reveal-btn[_ngcontent-%COMP%]{background:var(--text-primary);color:var(--bg-primary);border:none;padding:.625rem 1.25rem;border-radius:6px;cursor:pointer;font-size:.9375rem;font-weight:600;transition:all .2s ease;letter-spacing:.01em}.reveal-btn[_ngcontent-%COMP%]:hover{opacity:.85;transform:translateY(-1px)}.reveal-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.contact-form[_ngcontent-%COMP%]{background:var(--bg-secondary);padding:2.5rem;border-radius:12px;border:1px solid var(--border-color);margin-bottom:3rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.75rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.625rem;font-weight:600;color:var(--text-primary);cursor:default;font-size:.9375rem;letter-spacing:.01em}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-primary);color:var(--text-primary);font-size:.9375rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-weight:400;transition:all .2s ease;cursor:text}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--text-primary);box-shadow:0 0 0 3px #0000000d}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-secondary);font-weight:400}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:140px;line-height:1.6}.turnstile-container[_ngcontent-%COMP%]{margin-bottom:1.75rem;display:flex;justify-content:center}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:1rem 1.5rem;background:var(--text-primary);color:var(--bg-primary);border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;letter-spacing:.01em}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.85;transform:translateY(-1px)}.submit-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.success-message[_ngcontent-%COMP%]{text-align:center;padding:3.5rem 2rem;background:var(--bg-secondary);border-radius:12px;border:1px solid var(--border-color);margin-bottom:3rem}.success-message[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#22c55e;margin-bottom:1.5rem}.success-message[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin-bottom:.75rem;color:var(--text-primary);cursor:default;letter-spacing:-.01em}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);cursor:default;font-size:1.0625rem;font-weight:400}.submit-message[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem;border:2px solid #d1d5db;border-radius:6px;font-weight:600;color:#111827;background:#f9fafb}.submit-message.success[_ngcontent-%COMP%]{background:#d1fae5;border-color:#10b981;color:#065f46}.contact-footer[_ngcontent-%COMP%]{margin-top:4rem;padding-top:2rem;border-top:1px solid var(--border-color)}.footer-content[_ngcontent-%COMP%]{text-align:center}.footer-links[_ngcontent-%COMP%]{margin-bottom:1rem}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-primary);text-decoration:none;font-weight:500;font-size:.9375rem;cursor:pointer;transition:opacity .2s ease}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.7}.footer-links[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 1rem;color:var(--text-secondary)}.footer-copyright[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem;font-weight:400;cursor:default}@media (max-width: 768px){.contact-container[_ngcontent-%COMP%]{padding:1.5rem 1rem;margin-bottom:100px}.contact-header[_ngcontent-%COMP%]{margin-bottom:2.5rem}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.contact-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.contact-info[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1.5rem}.info-item[_ngcontent-%COMP%]{padding:1.25rem}.contact-form[_ngcontent-%COMP%]{padding:1.75rem;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:16px}.success-message[_ngcontent-%COMP%]{padding:2.5rem 1.5rem;margin-bottom:2rem}.success-message[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.contact-footer[_ngcontent-%COMP%]{margin-top:3rem;padding-top:1.5rem}.footer-links[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 .75rem}}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.75rem;color:var(--text-secondary);font-size:.875rem}.footer-link-highlight[_ngcontent-%COMP%]{color:var(--text-primary);text-decoration:none;font-weight:500;border-bottom:1px solid transparent;transition:all .2s ease}.footer-link-highlight[_ngcontent-%COMP%]:hover{color:var(--accent-color, #007bff);border-bottom:1px solid var(--accent-color, #007bff)}.separator[_ngcontent-%COMP%]{color:var(--border-color);-webkit-user-select:none;user-select:none}@media (max-width: 600px){.footer-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.separator[_ngcontent-%COMP%]{display:none}}"]})};var Ql=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=et({type:e,selectors:[["app-not-found"]],decls:10,vars:0,consts:[[1,"not-found-container"],[1,"not-found-content"],["routerLink","/portfolio",1,"home-link"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"div",1)(2,"h1"),v(3,"404"),_(),w(4,"h2"),v(5,"Page Not Found"),_(),w(6,"p"),v(7,"The page you're looking for doesn't exist."),_(),w(8,"a",2),v(9,"Go to Portfolio"),_()()())},dependencies:[Zi],styles:[".not-found-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:calc(100vh - 200px);padding:2rem}.not-found-content[_ngcontent-%COMP%]{text-align:center;max-width:600px}.not-found-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:8rem;font-weight:800;color:var(--text-primary);margin-bottom:1rem;cursor:default;letter-spacing:-.04em;line-height:1}.not-found-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;color:var(--text-primary);margin-bottom:1rem;cursor:default;letter-spacing:-.02em}.not-found-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:var(--text-secondary);margin-bottom:2.5rem;cursor:default;font-weight:400;line-height:1.6}.not-found-content[_ngcontent-%COMP%]   .home-link[_ngcontent-%COMP%]{display:inline-block;padding:1rem 2.5rem;background:var(--text-primary);color:var(--bg-primary);text-decoration:none;border-radius:8px;font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s ease;letter-spacing:.01em}.not-found-content[_ngcontent-%COMP%]   .home-link[_ngcontent-%COMP%]:hover{opacity:.85;transform:translateY(-2px)}.not-found-content[_ngcontent-%COMP%]   .home-link[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 768px){.not-found-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem}.not-found-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}.not-found-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:2rem}.not-found-content[_ngcontent-%COMP%]   .home-link[_ngcontent-%COMP%]{padding:.875rem 2rem}}"]})};var sn=class e{supabase;currentUser=W(null);isAuthenticated=W(!1);constructor(){this.supabase=Ul(ao.supabase.url,ao.supabase.anonKey),this.supabase.auth.getSession().then(({data:{session:t}})=>{t?.user&&(this.currentUser.set(t.user),this.isAuthenticated.set(!0))}),this.supabase.auth.onAuthStateChange((t,n)=>{n?.user?(this.currentUser.set(n.user),this.isAuthenticated.set(!0)):(this.currentUser.set(null),this.isAuthenticated.set(!1))})}signIn(t,n){return f(this,null,function*(){let{data:r,error:i}=yield this.supabase.auth.signInWithPassword({email:t,password:n});if(i)throw i;return r})}signOut(){return f(this,null,function*(){let{error:t}=yield this.supabase.auth.signOut();if(t)throw t})}getUser(){return this.currentUser()}getUserEmail(){return this.currentUser()?.email||""}static \u0275fac=function(n){return new(n||e)};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})};function Kx(e,t){if(e&1&&(w(0,"div",2),v(1),_()),e&2){let n=S();y(),St(" ",n.errorMessage()," ")}}function Yx(e,t){e&1&&(w(0,"span"),v(1,"Signing in..."),_())}function Zx(e,t){e&1&&(w(0,"span"),v(1,"Sign In"),_())}var Xl=class e{constructor(t,n){this.authService=t;this.router=n}email="";password="";isLoading=W(!1);errorMessage=W("");login(){return f(this,null,function*(){this.errorMessage.set(""),this.isLoading.set(!0);try{yield this.authService.signIn(this.email,this.password),this.router.navigate(["/edit"])}catch(t){this.errorMessage.set(t.message||"Login failed. Please try again.")}finally{this.isLoading.set(!1)}})}static \u0275fac=function(n){return new(n||e)(K(sn),K(gt))};static \u0275cmp=et({type:e,selectors:[["app-login"]],decls:19,vars:5,consts:[[1,"login-container"],[1,"login-card"],[1,"error-message"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","admin@example.com",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],["type","submit",1,"login-btn",3,"disabled"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"div",1)(2,"h1"),v(3,"Admin Login"),_(),w(4,"p"),v(5,"Sign in to edit portfolio content"),_(),Z(6,Kx,2,1,"div",2),w(7,"form",3),ee("ngSubmit",function(){return r.login()}),w(8,"div",4)(9,"label",5),v(10,"Email"),_(),w(11,"input",6),Se("ngModelChange",function(o){return xe(r.email,o)||(r.email=o),o}),_()(),w(12,"div",4)(13,"label",7),v(14,"Password"),_(),w(15,"input",8),Se("ngModelChange",function(o){return xe(r.password,o)||(r.password=o),o}),_()(),w(16,"button",9),Z(17,Yx,2,0,"span")(18,Zx,2,0,"span"),_()()()()),n&2&&(y(6),J(r.errorMessage()?6:-1),y(5),De("ngModel",r.email),y(4),De("ngModel",r.password),y(),Ge("disabled",r.isLoading()),y(),J(r.isLoading()?17:18))},dependencies:[Tt,mo,go,Qn,ho,po,Qr,Jr,Zr],styles:[".login-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:calc(100vh - 200px);padding:2rem}.login-card[_ngcontent-%COMP%]{width:100%;max-width:440px;padding:2.5rem;background:var(--bg-secondary);border-radius:16px;box-shadow:0 8px 24px var(--shadow);border:1px solid var(--border-color)}.login-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;margin-bottom:.5rem;color:var(--text-primary);text-align:center;cursor:default;letter-spacing:-.02em}.login-card[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:var(--text-secondary);text-align:center;margin-bottom:2.5rem;cursor:default;font-size:.9375rem;font-weight:400}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c00;padding:1rem 1.25rem;border-radius:8px;margin-bottom:1.75rem;text-align:center;cursor:default;font-size:.9375rem;font-weight:500;border:1px solid #fcc}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.75rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.625rem;font-weight:600;color:var(--text-primary);cursor:default;font-size:.9375rem;letter-spacing:.01em}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-primary);color:var(--text-primary);font-size:.9375rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-weight:400;transition:all .2s ease;cursor:text}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--text-primary);box-shadow:0 0 0 3px #0000000d}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-secondary);font-weight:400}.login-btn[_ngcontent-%COMP%]{width:100%;padding:1rem 1.5rem;background:var(--text-primary);color:var(--bg-primary);border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;letter-spacing:.01em}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.85;transform:translateY(-1px)}.login-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.75rem}.login-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.875rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:16px}}"]})};function Jx(e,t){if(e&1){let n=he();w(0,"section",5)(1,"h2"),v(2,"Professional Summary"),_(),w(3,"div",9)(4,"label"),v(5,"Summary Description"),_(),w(6,"textarea",10),Se("ngModelChange",function(i){j(n);let o=S();return xe(o.editData.summary,i)||(o.editData.summary=i),V(i)}),_()()()}if(e&2){let n=S();y(6),De("ngModel",n.editData.summary)}}function Qx(e,t){if(e&1){let n=he();w(0,"section",5)(1,"h2"),v(2,"Career Objective"),_(),w(3,"div",9)(4,"label"),v(5,"Objective Statement"),_(),w(6,"textarea",11),Se("ngModelChange",function(i){j(n);let o=S();return xe(o.editData.objective,i)||(o.editData.objective=i),V(i)}),_()()()}if(e&2){let n=S();y(6),De("ngModel",n.editData.objective)}}function Xx(e,t){if(e&1){let n=he();w(0,"div",14)(1,"div",9)(2,"label"),v(3),_(),w(4,"input",15),Se("ngModelChange",function(i){let o=j(n).$index,s=S(2);return xe(s.editData.competencies[o],i)||(s.editData.competencies[o]=i),V(i)}),_()(),w(5,"button",16),ee("click",function(){let i=j(n).$index,o=S(2);return V(o.removeCompetency(i))}),v(6,"Remove"),_()()}if(e&2){let n=t.$index,r=S(2);y(3),St("Competency ",n+1),y(),De("ngModel",r.editData.competencies[n]),Ge("name","comp-"+n)}}function eA(e,t){if(e&1){let n=he();w(0,"section",5)(1,"div",12)(2,"h2"),v(3,"Core Competencies"),_(),w(4,"button",13),ee("click",function(){j(n);let i=S();return V(i.addCompetency())}),v(5,"+ Add"),_()(),Pe(6,Xx,7,3,"div",14,Ni().trackByIndex,!0),_()}if(e&2){let n=S();y(6),Fe(n.editData.competencies)}}function tA(e,t){if(e&1){let n=he();w(0,"div",25)(1,"div",9)(2,"label"),v(3),_(),w(4,"input",26),Se("ngModelChange",function(i){let o=j(n).$index,s=S().$implicit;return xe(s.responsibilities[o],i)||(s.responsibilities[o]=i),V(i)}),_()(),w(5,"button",27),ee("click",function(){let i=j(n).$index,o=S().$index,s=S(2);return V(s.removeResponsibility(o,i))}),v(6,"\xD7"),_()()}if(e&2){let n=t.$index,r=S(),i=r.$implicit,o=r.$index;y(3),St("Responsibility ",n+1),y(),De("ngModel",i.responsibilities[n]),Ge("name","exp-"+o+"-resp-"+n)}}function nA(e,t){if(e&1){let n=he();w(0,"div",17)(1,"div",18)(2,"h3"),v(3),_(),w(4,"button",16),ee("click",function(){let i=j(n).$index,o=S(2);return V(o.removeExperience(i))}),v(5,"Remove"),_()(),w(6,"div",9)(7,"label"),v(8,"Company Name"),_(),w(9,"input",19),Se("ngModelChange",function(i){let o=j(n).$implicit;return xe(o.company,i)||(o.company=i),V(i)}),_()(),w(10,"div",9)(11,"label"),v(12,"Role"),_(),w(13,"input",20),Se("ngModelChange",function(i){let o=j(n).$implicit;return xe(o.role,i)||(o.role=i),V(i)}),_()(),w(14,"div",9)(15,"label"),v(16,"Period"),_(),w(17,"input",21),Se("ngModelChange",function(i){let o=j(n).$implicit;return xe(o.period,i)||(o.period=i),V(i)}),_()(),w(18,"div",22)(19,"div",23)(20,"h4"),v(21,"Responsibilities"),_(),w(22,"button",24),ee("click",function(){let i=j(n).$index,o=S(2);return V(o.addResponsibility(i))}),v(23,"+ Add"),_()(),Pe(24,tA,7,3,"div",25,Of),_()()}if(e&2){let n=t.$implicit,r=t.$index,i=t.$index;y(3),St("Experience ",i+1),y(6),De("ngModel",n.company),Ge("name","company-"+i),y(4),De("ngModel",n.role),Ge("name","role-"+r),y(4),De("ngModel",n.period),Ge("name","period-"+r),y(7),Fe(n.responsibilities)}}function rA(e,t){if(e&1){let n=he();w(0,"section",5)(1,"div",12)(2,"h2"),v(3,"Professional Experience"),_(),w(4,"button",13),ee("click",function(){j(n);let i=S();return V(i.addExperience())}),v(5,"+ Add"),_()(),Pe(6,nA,26,7,"div",17,Ni().trackByIndex,!0),_()}if(e&2){let n=S();y(6),Fe(n.editData.experiences)}}function iA(e,t){if(e&1){let n=he();w(0,"div",14)(1,"div",9)(2,"label"),v(3,"Degree / Certification"),_(),w(4,"input",26),Se("ngModelChange",function(i){let o=j(n).$index,s=S(2);return xe(s.editData.education[o],i)||(s.editData.education[o]=i),V(i)}),_()(),w(5,"button",16),ee("click",function(){let i=j(n).$index,o=S(2);return V(o.removeEducation(i))}),v(6,"Remove"),_()()}if(e&2){let n=t.$index,r=S(2);y(4),De("ngModel",r.editData.education[n]),Ge("name","edu-"+n)}}function oA(e,t){if(e&1){let n=he();w(0,"section",5)(1,"div",12)(2,"h2"),v(3,"Education"),_(),w(4,"button",13),ee("click",function(){j(n);let i=S();return V(i.addEducation())}),v(5,"+ Add"),_()(),Pe(6,iA,7,2,"div",14,Ni().trackByIndex,!0),_()}if(e&2){let n=S();y(6),Fe(n.editData.education)}}function sA(e,t){if(e&1){let n=he();w(0,"div",14)(1,"div",9)(2,"label"),v(3,"Experience Detail"),_(),w(4,"input",26),Se("ngModelChange",function(i){let o=j(n).$index,s=S(2);return xe(s.editData.international[o],i)||(s.editData.international[o]=i),V(i)}),_()(),w(5,"button",16),ee("click",function(){let i=j(n).$index,o=S(2);return V(o.removeInternational(i))}),v(6,"Remove"),_()()}if(e&2){let n=t.$index,r=S(2);y(4),De("ngModel",r.editData.international[n]),Ge("name","intl-"+n)}}function aA(e,t){if(e&1){let n=he();w(0,"section",5)(1,"div",12)(2,"h2"),v(3,"International Experience"),_(),w(4,"button",13),ee("click",function(){j(n);let i=S();return V(i.addInternational())}),v(5,"+ Add"),_()(),Pe(6,sA,7,2,"div",14,Ni().trackByIndex,!0),_()}if(e&2){let n=S();y(6),Fe(n.editData.international)}}function cA(e,t){e&1&&(w(0,"span"),v(1,"Saving..."),_())}function lA(e,t){e&1&&(w(0,"span"),v(1,"Save Changes"),_())}function uA(e,t){e&1&&(w(0,"div",8),v(1,"Changes saved successfully!"),_())}var eu=class e{constructor(t){this.portfolioService=t;this.editData=JSON.parse(JSON.stringify(t.getData()))}isSaving=W(!1);saveSuccess=W(!1);editData;activeTab=W("summary");setActiveTab(t){this.activeTab.set(t)}addCompetency(){this.editData.competencies.push("")}removeCompetency(t){this.editData.competencies.splice(t,1)}addExperience(){this.editData.experiences.push({company:"",role:"",period:"",responsibilities:[""]})}removeExperience(t){this.editData.experiences.splice(t,1)}addResponsibility(t){this.editData.experiences[t].responsibilities.push("")}removeResponsibility(t,n){this.editData.experiences[t].responsibilities.splice(n,1)}trackByExpIndex(t,n){return`${t}-${n}`}addEducation(){this.editData.education.push("")}removeEducation(t){this.editData.education.splice(t,1)}addInternational(){this.editData.international.push("")}removeInternational(t){this.editData.international.splice(t,1)}trackByIndex(t){return t}trackByValue(t,n){return n}save(){return f(this,null,function*(){this.isSaving.set(!0),this.saveSuccess.set(!1);try{(yield this.portfolioService.saveData(this.editData))?(this.saveSuccess.set(!0),setTimeout(()=>this.saveSuccess.set(!1),3e3)):alert("Failed to save changes")}catch{alert("Error saving changes")}finally{this.isSaving.set(!1)}})}static \u0275fac=function(n){return new(n||e)(K(co))};static \u0275cmp=et({type:e,selectors:[["app-edit"]],decls:29,vars:21,consts:[[1,"edit-container"],[1,"edit-header"],[1,"tabs"],[1,"tab",3,"click"],[1,"edit-form",3,"ngSubmit"],[1,"edit-section"],[1,"form-actions"],["type","submit",1,"save-btn",3,"disabled"],[1,"save-success"],[1,"form-field"],["name","summary","rows","4","required","",3,"ngModelChange","ngModel"],["name","objective","rows","3","required","",3,"ngModelChange","ngModel"],[1,"section-header"],["type","button",1,"add-btn",3,"click"],[1,"list-item"],["placeholder","Competency","required","",3,"ngModelChange","ngModel","name"],["type","button",1,"remove-btn",3,"click"],[1,"experience-item"],[1,"exp-header"],["placeholder","Company","required","",3,"ngModelChange","ngModel","name"],["placeholder","Role","required","",3,"ngModelChange","ngModel","name"],["placeholder","Period (e.g., Jan 2020 - Present)","required","",3,"ngModelChange","ngModel","name"],[1,"responsibilities"],[1,"resp-header"],["type","button",1,"add-btn-sm",3,"click"],[1,"list-item",2,"margin-top","10px"],["required","",3,"ngModelChange","ngModel","name"],["type","button",1,"remove-btn-sm",3,"click"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"div",1)(2,"h1"),v(3,"Edit Portfolio"),_()(),w(4,"div",2)(5,"button",3),ee("click",function(){return r.setActiveTab("summary")}),v(6,"Summary"),_(),w(7,"button",3),ee("click",function(){return r.setActiveTab("objective")}),v(8,"Objective"),_(),w(9,"button",3),ee("click",function(){return r.setActiveTab("competencies")}),v(10,"Competencies"),_(),w(11,"button",3),ee("click",function(){return r.setActiveTab("experience")}),v(12,"Experience"),_(),w(13,"button",3),ee("click",function(){return r.setActiveTab("education")}),v(14,"Education"),_(),w(15,"button",3),ee("click",function(){return r.setActiveTab("international")}),v(16,"International"),_()(),w(17,"form",4),ee("ngSubmit",function(){return r.save()}),Z(18,Jx,7,1,"section",5),Z(19,Qx,7,1,"section",5),Z(20,eA,8,0,"section",5),Z(21,rA,8,0,"section",5),Z(22,oA,8,0,"section",5),Z(23,aA,8,0,"section",5),w(24,"div",6)(25,"button",7),Z(26,cA,2,0,"span")(27,lA,2,0,"span"),_()()(),Z(28,uA,2,0,"div",8),_()),n&2&&(y(5),ae("active",r.activeTab()==="summary"),y(2),ae("active",r.activeTab()==="objective"),y(2),ae("active",r.activeTab()==="competencies"),y(2),ae("active",r.activeTab()==="experience"),y(2),ae("active",r.activeTab()==="education"),y(2),ae("active",r.activeTab()==="international"),y(3),J(r.activeTab()==="summary"?18:-1),y(),J(r.activeTab()==="objective"?19:-1),y(),J(r.activeTab()==="competencies"?20:-1),y(),J(r.activeTab()==="experience"?21:-1),y(),J(r.activeTab()==="education"?22:-1),y(),J(r.activeTab()==="international"?23:-1),y(2),Ge("disabled",r.isSaving()),y(),J(r.isSaving()?26:27),y(2),J(r.saveSuccess()?28:-1))},dependencies:[Tt,mo,go,Qn,ho,po,Qr,Jr,Zr],styles:[".edit-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:2.5rem 2rem}.edit-header[_ngcontent-%COMP%]{margin-bottom:2rem}.edit-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;color:var(--text-primary);margin-bottom:1rem;cursor:default;letter-spacing:-.02em}.save-success[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;background:#d4edda;color:#155724;padding:1.5rem 2.5rem;border-radius:8px;border:1px solid #c3e6cb;font-weight:600;font-size:1rem;text-align:center;box-shadow:0 10px 25px #0003;animation:_ngcontent-%COMP%_popIn .3s cubic-bezier(.175,.885,.32,1.275)}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:translate(-50%,-40%) scale(.9)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}.tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;border-bottom:2px solid var(--border-color);margin-bottom:2.5rem;overflow-x:auto;scrollbar-width:thin;scrollbar-color:var(--text-secondary) transparent}.tabs[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}.tabs[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--text-secondary);border-radius:2px}.tab[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-primary);font-size:.9375rem;font-weight:500;padding:1rem 1.75rem;cursor:pointer;border-bottom:3px solid transparent;transition:all .2s ease;white-space:nowrap;letter-spacing:.01em}.tab[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:var(--bg-secondary);border-radius:8px 8px 0 0}.tab.active[_ngcontent-%COMP%]{border-bottom-color:var(--text-primary);font-weight:600;color:var(--text-primary)}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem;animation:_ngcontent-%COMP%_fadeIn .4s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}.edit-section[_ngcontent-%COMP%]{background:var(--bg-secondary);padding:2rem;border-radius:14px;border:1px solid var(--border-color)}.edit-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.625rem;font-weight:700;color:var(--text-primary);margin-bottom:1.5rem;cursor:default;letter-spacing:-.01em}.edit-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--text-primary);cursor:default;letter-spacing:-.01em}.edit-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.0625rem;font-weight:600;color:var(--text-primary);cursor:default}.edit-section[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .edit-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-primary);color:var(--text-primary);font-size:.9375rem;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-weight:400;margin-bottom:1rem;transition:all .2s ease;cursor:text}.edit-section[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .edit-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--text-primary);box-shadow:0 0 0 3px #0000000d}.edit-section[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder, .edit-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-secondary);font-weight:400}.edit-section[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px;line-height:1.6}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.25rem}.add-btn[_ngcontent-%COMP%], .add-btn-sm[_ngcontent-%COMP%]{background:var(--text-primary);color:var(--bg-primary);border:none;padding:.625rem 1.25rem;border-radius:6px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s ease;letter-spacing:.01em}.add-btn[_ngcontent-%COMP%]:hover, .add-btn-sm[_ngcontent-%COMP%]:hover{opacity:.85;transform:translateY(-1px)}.add-btn[_ngcontent-%COMP%]:active, .add-btn-sm[_ngcontent-%COMP%]:active{transform:translateY(0)}.add-btn-sm[_ngcontent-%COMP%]{font-size:.8125rem;padding:.5rem 1rem}.remove-btn[_ngcontent-%COMP%], .remove-btn-sm[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:.625rem 1.25rem;border-radius:6px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s ease;white-space:nowrap;letter-spacing:.01em}.remove-btn[_ngcontent-%COMP%]:hover, .remove-btn-sm[_ngcontent-%COMP%]:hover{opacity:.85;transform:translateY(-1px)}.remove-btn[_ngcontent-%COMP%]:active, .remove-btn-sm[_ngcontent-%COMP%]:active{transform:translateY(0)}.remove-btn-sm[_ngcontent-%COMP%]{font-size:1.25rem;padding:.375rem .625rem;min-width:36px;line-height:1}.list-item[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:flex-start}.list-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;margin-bottom:.625rem}.experience-item[_ngcontent-%COMP%]{background:var(--bg-primary);padding:1.75rem;border-radius:10px;margin-bottom:1.25rem;border:1px solid var(--border-color);transition:all .2s ease}.experience-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px var(--shadow)}.exp-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.25rem}.responsibilities[_ngcontent-%COMP%]{margin-top:1.25rem;padding:1.25rem;background:var(--bg-secondary);border-radius:8px;border:1px solid var(--border-color)}.resp-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.form-field[_ngcontent-%COMP%]{margin-bottom:1.25rem;width:100%}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;font-size:.9rem;color:var(--text-primary);margin-bottom:.5rem;letter-spacing:-.01em}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-bottom:0}.list-item[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:flex-end}.list-item[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{flex:1;margin-bottom:0}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:1.5rem}.save-btn[_ngcontent-%COMP%]{background:var(--text-primary);color:var(--bg-primary);border:none;padding:1rem 2.5rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;letter-spacing:.01em}.save-btn[_ngcontent-%COMP%]:hover:not(:disabled){opacity:.85;transform:translateY(-1px)}.save-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.save-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.edit-container[_ngcontent-%COMP%]{padding:1.5rem 1rem;margin-bottom:100px}.edit-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.edit-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.875rem}.tabs[_ngcontent-%COMP%]{margin-bottom:1.5rem}.tab[_ngcontent-%COMP%]{font-size:.875rem;padding:.875rem 1.25rem}.edit-section[_ngcontent-%COMP%]{padding:1.5rem}.edit-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.375rem}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.list-item[_ngcontent-%COMP%]{flex-direction:column;gap:.625rem}.exp-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}textarea[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:16px!important}.save-btn[_ngcontent-%COMP%]{width:100%}}"]})};var Ow=()=>{let e=C(sn),t=C(gt);return e.isAuthenticated()?!0:(t.navigate(["/login"]),!1)};var Rw=()=>{let e=C(sn),t=C(gt);return e.isAuthenticated()?(t.navigate(["/edit"]),!1):!0};var Nw=[{path:"",redirectTo:"/portfolio",pathMatch:"full"},{path:"portfolio",component:$l},{path:"contact",component:Jl},{path:"login",component:Xl,canActivate:[Rw]},{path:"edit",component:eu,canActivate:[Ow]},{path:"404",component:Ql},{path:"**",redirectTo:"/404"}];var kw={providers:[kf({eventCoalescing:!0}),Eh(Nw,Ch())]};function dA(e,t){if(e&1){let n=he();w(0,"a",13),v(1,"Edit"),_(),w(2,"span",14),v(3),_(),w(4,"button",15),ee("click",function(){j(n);let i=S();return V(i.logout())}),v(5,"Logout"),_()}if(e&2){let n=S();ae("active",n.isActive("edit")),y(3),ce(n.authService.getUserEmail())}}function fA(e,t){e&1&&(Xe(),w(0,"svg",10),Dt(1,"circle",16)(2,"line",17)(3,"line",18)(4,"line",19)(5,"line",20)(6,"line",21)(7,"line",22)(8,"line",23)(9,"line",24),_())}function hA(e,t){e&1&&(Xe(),w(0,"svg",10),Dt(1,"path",25),_())}function pA(e,t){if(e&1){let n=he();w(0,"button",26),ee("click",function(){j(n);let i=S();return V(i.scrollToTop())}),Xe(),w(1,"svg",27),Dt(2,"polyline",28),_()()}}var tu=class e{constructor(t,n){this.router=t;this.authService=n;localStorage.getItem("theme")==="dark"&&(this.isDarkMode.set(!0),document.documentElement.classList.add("dark-mode")),jf(()=>{this.isDarkMode()?(document.documentElement.classList.add("dark-mode"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark-mode"),localStorage.setItem("theme","light"))})}firstName=W("Chidambaram");lastName=W("Velayudham");isDarkMode=W(!1);showScrollTop=W(!1);toggleTheme(){this.isDarkMode.set(!this.isDarkMode())}onScroll(t){let n=t.target;this.showScrollTop.set(n.scrollTop>300)}scrollToTop(){document.querySelector(".main-content")?.scrollTo({top:0,behavior:"smooth"})}isActive(t){return this.router.url.includes(t)}logout(){return f(this,null,function*(){try{yield this.authService.signOut(),this.router.navigate(["/portfolio"])}catch(t){console.error("Logout error:",t)}})}static \u0275fac=function(n){return new(n||e)(K(gt),K(sn))};static \u0275cmp=et({type:e,selectors:[["app-root"]],decls:20,vars:9,consts:[[1,"app-container"],[1,"header"],[1,"header-content"],[1,"name"],[1,"first-name"],[1,"last-name"],[1,"nav"],["routerLink","/portfolio",1,"nav-link"],["routerLink","/contact",1,"nav-link"],["aria-label","Toggle theme",1,"theme-toggle",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"main-content",3,"scroll"],["aria-label","Scroll to top",1,"scroll-top"],["routerLink","/edit",1,"nav-link"],[1,"user-email"],[1,"logout-btn",3,"click"],["cx","12","cy","12","r","5"],["x1","12","y1","1","x2","12","y2","3"],["x1","12","y1","21","x2","12","y2","23"],["x1","4.22","y1","4.22","x2","5.64","y2","5.64"],["x1","18.36","y1","18.36","x2","19.78","y2","19.78"],["x1","1","y1","12","x2","3","y2","12"],["x1","21","y1","12","x2","23","y2","12"],["x1","4.22","y1","19.78","x2","5.64","y2","18.36"],["x1","18.36","y1","5.64","x2","19.78","y2","4.22"],["d","M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"],["aria-label","Scroll to top",1,"scroll-top",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","18 15 12 9 6 15"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1",3)(4,"span",4),v(5),_(),w(6,"span",5),v(7),_()(),w(8,"nav",6)(9,"a",7),v(10,"Portfolio"),_(),w(11,"a",8),v(12,"Contact"),_(),Z(13,dA,6,3),w(14,"button",9),ee("click",function(){return r.toggleTheme()}),Z(15,fA,10,0,":svg:svg",10)(16,hA,2,0,":svg:svg",10),_()()()(),w(17,"main",11),ee("scroll",function(o){return r.onScroll(o)}),Dt(18,"router-outlet"),Z(19,pA,3,0,"button",12),_()()),n&2&&(y(5),ce(r.firstName()),y(2),ce(r.lastName()),y(2),ae("active",r.isActive("portfolio")),y(2),ae("active",r.isActive("contact")),y(2),J(r.authService.isAuthenticated()?13:-1),y(2),J(r.isDarkMode()?15:16),y(4),J(r.showScrollTop()?19:-1))},dependencies:[Ts,Zi,Tt],encapsulation:2})};Qf(tu,kw).catch(e=>console.error(e));

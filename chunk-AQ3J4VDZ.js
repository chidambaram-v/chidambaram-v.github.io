import{a as N,b as A,e as L,h as R}from"./chunk-PABNQ6ST.js";import{a as j}from"./chunk-NJKL2ECE.js";import{C as V,D as F,K as E,L as D,M,N as h,O as W,P as f,Q as y,R as T,S as r,T as n,W as x,X as p,Y as s,aa as d,ba as I,ca as w,d as v,ea as u,fa as g,ga as C,q as m,r as _,ra as $,u as k,ua as P,xa as B,z as c}from"./chunk-WE2VRF24.js";var O=(a,i)=>i.id;function q(a,i){if(a&1){let e=x();r(0,"button",16),p("click",function(){let t=m(e).$implicit,o=s();return _(o.setActiveSection(t.id))}),d(1),n()}if(a&2){let e=i.$implicit,l=s();T("ngClass",l.activeSection()===e.id?"border-blue-500 text-blue-500":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"),c(),w(" ",e.label," ")}}function G(a,i){if(a&1&&(r(0,"div",13),d(1),n()),a&2){let e=s();c(),w(" ",e.saveStatus()," ")}}function H(a,i){if(a&1){let e=x();r(0,"div",15)(1,"h2",17),d(2,"Personal Information"),n(),r(3,"div",18)(4,"div")(5,"label",19),d(6,"First Name"),n(),r(7,"input",20),C("ngModelChange",function(t){m(e);let o=s();return g(o.portfolioData.firstName,t)||(o.portfolioData.firstName=t),_(t)}),n()(),r(8,"div")(9,"label",19),d(10,"Last Name"),n(),r(11,"input",20),C("ngModelChange",function(t){m(e);let o=s();return g(o.portfolioData.lastName,t)||(o.portfolioData.lastName=t),_(t)}),n()()(),r(12,"div")(13,"label",19),d(14,"Location"),n(),r(15,"input",20),C("ngModelChange",function(t){m(e);let o=s();return g(o.portfolioData.location,t)||(o.portfolioData.location=t),_(t)}),n()()()}if(a&2){let e=s();c(7),u("ngModel",e.portfolioData.firstName),c(4),u("ngModel",e.portfolioData.lastName),c(4),u("ngModel",e.portfolioData.location)}}function J(a,i){if(a&1){let e=x();r(0,"div",25)(1,"textarea",26),C("ngModelChange",function(t){let o=m(e).$index,b=s(2);return g(b.portfolioData.careerSummary[o],t)||(b.portfolioData.careerSummary[o]=t),_(t)}),n(),r(2,"button",27),p("click",function(){let t=m(e).$index,o=s(2);return _(o.removeCareerSummaryItem(t))}),d(3," \u2715 "),n()()}if(a&2){let e=i.$index,l=s(2);c(),u("ngModel",l.portfolioData.careerSummary[e])}}function K(a,i){if(a&1){let e=x();r(0,"div",15)(1,"h2",17),d(2,"About"),n(),r(3,"div")(4,"label",19),d(5,"Professional Ambition"),n(),r(6,"textarea",21),C("ngModelChange",function(t){m(e);let o=s();return g(o.portfolioData.professionalAmbition,t)||(o.portfolioData.professionalAmbition=t),_(t)}),n()(),r(7,"div")(8,"div",22)(9,"label",23),d(10,"Career Summary"),n(),r(11,"button",24),p("click",function(){m(e);let t=s();return _(t.addCareerSummaryItem())}),d(12," Add Item "),n()(),f(13,J,4,1,"div",25,E().trackByIndex,!0),n()()}if(a&2){let e=s();c(6),u("ngModel",e.portfolioData.professionalAmbition),c(7),y(e.portfolioData.careerSummary)}}function Q(a,i){if(a&1){let e=x();r(0,"button",37),p("click",function(){let t=m(e).$index,o=s().$index,b=s().$index,S=s(3);return _(S.removePoint(b,o,t))}),d(1," Remove Point "),n()}}function U(a,i){if(a&1){let e=x();r(0,"button",37),p("click",function(){let t=m(e).$index,o=s().$index,b=s(3);return _(b.removeRole(o,t))}),d(1,"Remove Role"),n(),f(2,Q,2,0,"button",null,h)}if(a&2){let e=i.$implicit;c(2),y(e.points)}}function X(a,i){if(a&1&&f(0,U,4,0,null,null,h),a&2){let e=i.$implicit;y(e.roles)}}function Y(a,i){if(a&1){let e=x();r(0,"div",30)(1,"div",31)(2,"h3",32),d(3),n(),r(4,"button",33),p("click",function(){let t=m(e).$index,o=s(2);return _(o.removeExperience(t))}),d(5," Remove "),n()(),r(6,"div",18)(7,"div")(8,"label",19),d(9,"Company Name"),n(),r(10,"input",20),C("ngModelChange",function(t){let o=m(e).$implicit;return g(o.company,t)||(o.company=t),_(t)}),n()(),r(11,"div")(12,"label",19),d(13,"Location"),n(),r(14,"input",20),C("ngModelChange",function(t){let o=m(e).$implicit;return g(o.location,t)||(o.location=t),_(t)}),n()()(),r(15,"div",34)(16,"div",35)(17,"label",23),d(18,"Roles"),n(),r(19,"button",36),p("click",function(){let t=m(e).$index,o=s(2);return _(o.addRole(t))}),d(20," Add Role "),n()(),f(21,X,2,0,null,null,h),n()()}if(a&2){let e=i.$implicit,l=i.$index,t=s(2);c(3),w("Company ",l+1),c(7),u("ngModel",e.company),c(4),u("ngModel",e.location),c(7),y(t.portfolioData.experience)}}function Z(a,i){if(a&1){let e=x();r(0,"div",15)(1,"div",28)(2,"h2",4),d(3,"Experience"),n(),r(4,"button",29),p("click",function(){m(e);let t=s();return _(t.addExperience())}),d(5," Add Company "),n()(),f(6,Y,23,3,"div",30,E().trackByIndex,!0),n()}if(a&2){let e=s();c(6),y(e.portfolioData.experience)}}function ee(a,i){if(a&1){let e=x();r(0,"div",30)(1,"div",31)(2,"h3",32),d(3),n(),r(4,"button",33),p("click",function(){let t=m(e).$index,o=s(2);return _(o.removeEducation(t))}),d(5," Remove "),n()(),r(6,"div",38)(7,"div")(8,"label",19),d(9,"Degree"),n(),r(10,"input",20),C("ngModelChange",function(t){let o=m(e).$implicit;return g(o.degree,t)||(o.degree=t),_(t)}),n()(),r(11,"div")(12,"label",19),d(13,"Specialization"),n(),r(14,"input",20),C("ngModelChange",function(t){let o=m(e).$implicit;return g(o.specialization,t)||(o.specialization=t),_(t)}),n()(),r(15,"div")(16,"label",19),d(17,"Period"),n(),r(18,"input",39),C("ngModelChange",function(t){let o=m(e).$implicit;return g(o.period,t)||(o.period=t),_(t)}),n()()()()}if(a&2){let e=i.$implicit,l=i.$index;c(3),w("Education ",l+1),c(7),u("ngModel",e.degree),c(4),u("ngModel",e.specialization),c(4),u("ngModel",e.period)}}function te(a,i){if(a&1){let e=x();r(0,"div",15)(1,"div",28)(2,"h2",4),d(3,"Education"),n(),r(4,"button",29),p("click",function(){m(e);let t=s();return _(t.addEducation())}),d(5," Add Education "),n()(),f(6,ee,19,4,"div",30,E().trackByIndex,!0),n()}if(a&2){let e=s();c(6),y(e.portfolioData.education)}}function ie(a,i){if(a&1){let e=x();r(0,"div",41)(1,"input",42),C("ngModelChange",function(t){let o=m(e).$index,b=s().$implicit,S=s(2);return g(S.portfolioData.skills[b][o],t)||(S.portfolioData.skills[b][o]=t),_(t)}),n(),r(2,"button",27),p("click",function(){let t=m(e).$index,o=s().$implicit,b=s(2);return _(b.removeSkill(o,t))}),d(3," \u2715 "),n()()}if(a&2){let e=i.$index,l=s().$implicit,t=s(2);c(),u("ngModel",t.portfolioData.skills[l][e])}}function ne(a,i){if(a&1){let e=x();r(0,"div",30)(1,"div",31)(2,"h3",32),d(3),n(),r(4,"button",33),p("click",function(){let t=m(e).$implicit,o=s(2);return _(o.removeSkillCategory(t))}),d(5," Remove Category "),n()(),r(6,"div")(7,"button",40),p("click",function(){let t=m(e).$implicit,o=s(2);return _(o.addSkill(t))}),d(8," Add Skill "),n(),f(9,ie,4,1,"div",41,E().trackByIndex,!0),n()()}if(a&2){let e=i.$implicit,l=s(2);c(3),I(e),c(6),y(l.portfolioData.skills[e])}}function oe(a,i){if(a&1){let e=x();r(0,"div",15)(1,"div",28)(2,"h2",4),d(3,"Skills"),n(),r(4,"button",29),p("click",function(){m(e);let t=s();return _(t.addSkillCategory())}),d(5," Add Category "),n()(),f(6,ne,11,1,"div",30,W),n()}if(a&2){let e=s();c(6),y(e.getSkillCategories())}}var z=class a{constructor(i,e){this.supabase=i;this.router=e}activeSection=k("personal");saving=k(!1);saveStatus=k("");portfolioData={firstName:"",lastName:"",professionalAmbition:"",careerSummary:[],experience:[],education:[],skills:{},location:""};sections=[{id:"personal",label:"Personal Info"},{id:"about",label:"About"},{id:"experience",label:"Experience"},{id:"education",label:"Education"},{id:"skills",label:"Skills"}];ngOnInit(){return v(this,null,function*(){yield this.loadData()})}loadData(){return v(this,null,function*(){let i=yield this.supabase.getPortfolioData();i&&(this.portfolioData=i)})}setActiveSection(i){this.activeSection.set(i)}addCareerSummaryItem(){this.portfolioData.careerSummary.push("")}removeCareerSummaryItem(i){this.portfolioData.careerSummary.splice(i,1)}addExperience(){this.portfolioData.experience.push({company:"",location:"",roles:[]})}removeExperience(i){this.portfolioData.experience.splice(i,1)}addRole(i){this.portfolioData.experience[i].roles.push({title:"",period:"",team:"",points:[]})}removeRole(i,e){this.portfolioData.experience[i].roles.splice(e,1)}addPoint(i,e){this.portfolioData.experience[i].roles[e].points.push("")}removePoint(i,e,l){this.portfolioData.experience[i].roles[e].points.splice(l,1)}addEducation(){this.portfolioData.education.push({degree:"",specialization:"",period:""})}removeEducation(i){this.portfolioData.education.splice(i,1)}addSkillCategory(){let i=prompt("Enter skill category name:");i&&(this.portfolioData.skills[i]=[])}removeSkillCategory(i){delete this.portfolioData.skills[i]}addSkill(i){this.portfolioData.skills[i].push("")}removeSkill(i,e){this.portfolioData.skills[i].splice(e,1)}trackByIndex(i){return i}save(){return v(this,null,function*(){this.saving.set(!0),this.saveStatus.set("");let{data:i,error:e}=yield this.supabase.updatePortfolioData(this.portfolioData);e?this.saveStatus.set("Error saving data"):(this.saveStatus.set("Saved successfully!"),setTimeout(()=>this.saveStatus.set(""),3e3)),this.saving.set(!1)})}logout(){return v(this,null,function*(){yield this.supabase.signOut(),this.router.navigate(["/admin/login"])})}getSkillCategories(){return Object.keys(this.portfolioData.skills||{})}static \u0275fac=function(e){return new(e||a)(V(j),V(B))};static \u0275cmp=F({type:a,selectors:[["app-editor"]],decls:24,vars:4,consts:[[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],[1,"bg-white","dark:bg-gray-800","shadow","sticky","top-0","z-50"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-4"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"flex","items-center","space-x-4"],[1,"px-6","py-2","bg-blue-500","hover:bg-blue-600","text-white","rounded-lg","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"px-6","py-2","bg-red-500","hover:bg-red-600","text-white","rounded-lg","font-medium","transition-colors",3,"click"],[1,"border-t","border-gray-200","dark:border-gray-700"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","space-x-1","overflow-x-auto"],[1,"px-4","py-3","border-b-2","font-medium","whitespace-nowrap","transition-colors",3,"ngClass"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"mb-4","p-4","bg-green-100","dark:bg-green-900","text-green-700","dark:text-green-200","rounded-lg"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-lg","p-6"],[1,"space-y-6"],[1,"px-4","py-3","border-b-2","font-medium","whitespace-nowrap","transition-colors",3,"click","ngClass"],[1,"text-2xl","font-bold","mb-6","text-gray-900","dark:text-white"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","mb-2","text-gray-700","dark:text-gray-300"],["type","text",1,"w-full","px-4","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["rows","4",1,"w-full","px-4","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","dark:bg-gray-700","dark:text-white","resize-none",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-between","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","text-sm","rounded-lg","transition-colors",3,"click"],[1,"flex","items-start","space-x-2","mb-3"],["rows","2",1,"flex-1","px-4","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","dark:bg-gray-700","dark:text-white","resize-none",3,"ngModelChange","ngModel"],[1,"px-3","py-2","bg-red-500","hover:bg-red-600","text-white","rounded-lg","transition-colors",3,"click"],[1,"flex","items-center","justify-between","mb-6"],[1,"px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","rounded-lg","transition-colors",3,"click"],[1,"p-6","border","border-gray-300","dark:border-gray-600","rounded-lg","space-y-4"],[1,"flex","items-start","justify-between"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"px-3","py-1","bg-red-500","hover:bg-red-600","text-white","text-sm","rounded","transition-colors",3,"click"],[1,"mt-4"],[1,"flex","items-center","justify-between","mb-3"],[1,"px-3","py-1","bg-green-500","hover:bg-green-600","text-white","text-sm","rounded","transition-colors",3,"click"],[3,"click"],[1,"space-y-4"],["type","text","placeholder","e.g., 2015 - 2016",1,"w-full","px-4","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],[1,"px-3","py-1","bg-green-500","hover:bg-green-600","text-white","text-sm","rounded","transition-colors","mb-3",3,"click"],[1,"flex","items-center","space-x-2","mb-2"],["type","text",1,"flex-1","px-4","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"]],template:function(e,l){if(e&1&&(r(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"h1",4),d(5,"Portfolio Editor"),n(),r(6,"div",5)(7,"button",6),p("click",function(){return l.save()}),d(8),n(),r(9,"button",7),p("click",function(){return l.logout()}),d(10," Logout "),n()()()(),r(11,"nav",8)(12,"div",9)(13,"div",10),f(14,q,2,2,"button",11,O),n()()()(),r(16,"main",12),D(17,G,2,1,"div",13),r(18,"div",14),D(19,H,16,3,"div",15)(20,K,15,1,"div",15)(21,Z,8,0,"div",15)(22,te,8,0,"div",15)(23,oe,8,0,"div",15),n()()()),e&2){let t;c(7),T("disabled",l.saving()),c(),w(" ",l.saving()?"Saving...":"Save Changes"," "),c(6),y(l.sections),c(3),M(l.saveStatus()?17:-1),c(2),M((t=l.activeSection())==="personal"?19:t==="about"?20:t==="experience"?21:t==="education"?22:t==="skills"?23:-1)}},dependencies:[P,$,R,N,A,L],styles:["[_nghost-%COMP%]{display:block}"]})};export{z as EditorComponent};
